function av(e,r){for(var i=0;i<r.length;i++){const s=r[i];if(typeof s!="string"&&!Array.isArray(s)){for(const a in s)if(a!=="default"&&!(a in e)){const l=Object.getOwnPropertyDescriptor(s,a);l&&Object.defineProperty(e,a,l.get?l:{enumerable:!0,get:()=>s[a]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const r=document.createElement("link").relList;if(r&&r.supports&&r.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))s(a);new MutationObserver(a=>{for(const l of a)if(l.type==="childList")for(const u of l.addedNodes)u.tagName==="LINK"&&u.rel==="modulepreload"&&s(u)}).observe(document,{childList:!0,subtree:!0});function i(a){const l={};return a.integrity&&(l.integrity=a.integrity),a.referrerPolicy&&(l.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?l.credentials="include":a.crossOrigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function s(a){if(a.ep)return;a.ep=!0;const l=i(a);fetch(a.href,l)}})();function _0(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var Qu={exports:{}},po={},Ku={exports:{}},ze={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Oh;function lv(){if(Oh)return ze;Oh=1;var e=Symbol.for("react.element"),r=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),l=Symbol.for("react.provider"),u=Symbol.for("react.context"),d=Symbol.for("react.forward_ref"),f=Symbol.for("react.suspense"),h=Symbol.for("react.memo"),p=Symbol.for("react.lazy"),m=Symbol.iterator;function g(I){return I===null||typeof I!="object"?null:(I=m&&I[m]||I["@@iterator"],typeof I=="function"?I:null)}var y={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},N=Object.assign,k={};function w(I,L,ee){this.props=I,this.context=L,this.refs=k,this.updater=ee||y}w.prototype.isReactComponent={},w.prototype.setState=function(I,L){if(typeof I!="object"&&typeof I!="function"&&I!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,I,L,"setState")},w.prototype.forceUpdate=function(I){this.updater.enqueueForceUpdate(this,I,"forceUpdate")};function S(){}S.prototype=w.prototype;function C(I,L,ee){this.props=I,this.context=L,this.refs=k,this.updater=ee||y}var E=C.prototype=new S;E.constructor=C,N(E,w.prototype),E.isPureReactComponent=!0;var _=Array.isArray,M=Object.prototype.hasOwnProperty,O={current:null},F={key:!0,ref:!0,__self:!0,__source:!0};function V(I,L,ee){var Y,T={},K=null,q=null;if(L!=null)for(Y in L.ref!==void 0&&(q=L.ref),L.key!==void 0&&(K=""+L.key),L)M.call(L,Y)&&!F.hasOwnProperty(Y)&&(T[Y]=L[Y]);var U=arguments.length-2;if(U===1)T.children=ee;else if(1<U){for(var J=Array(U),ie=0;ie<U;ie++)J[ie]=arguments[ie+2];T.children=J}if(I&&I.defaultProps)for(Y in U=I.defaultProps,U)T[Y]===void 0&&(T[Y]=U[Y]);return{$$typeof:e,type:I,key:K,ref:q,props:T,_owner:O.current}}function Z(I,L){return{$$typeof:e,type:I.type,key:L,ref:I.ref,props:I.props,_owner:I._owner}}function G(I){return typeof I=="object"&&I!==null&&I.$$typeof===e}function X(I){var L={"=":"=0",":":"=2"};return"$"+I.replace(/[=:]/g,function(ee){return L[ee]})}var B=/\/+/g;function D(I,L){return typeof I=="object"&&I!==null&&I.key!=null?X(""+I.key):L.toString(36)}function j(I,L,ee,Y,T){var K=typeof I;(K==="undefined"||K==="boolean")&&(I=null);var q=!1;if(I===null)q=!0;else switch(K){case"string":case"number":q=!0;break;case"object":switch(I.$$typeof){case e:case r:q=!0}}if(q)return q=I,T=T(q),I=Y===""?"."+D(q,0):Y,_(T)?(ee="",I!=null&&(ee=I.replace(B,"$&/")+"/"),j(T,L,ee,"",function(ie){return ie})):T!=null&&(G(T)&&(T=Z(T,ee+(!T.key||q&&q.key===T.key?"":(""+T.key).replace(B,"$&/")+"/")+I)),L.push(T)),1;if(q=0,Y=Y===""?".":Y+":",_(I))for(var U=0;U<I.length;U++){K=I[U];var J=Y+D(K,U);q+=j(K,L,ee,J,T)}else if(J=g(I),typeof J=="function")for(I=J.call(I),U=0;!(K=I.next()).done;)K=K.value,J=Y+D(K,U++),q+=j(K,L,ee,J,T);else if(K==="object")throw L=String(I),Error("Objects are not valid as a React child (found: "+(L==="[object Object]"?"object with keys {"+Object.keys(I).join(", ")+"}":L)+"). If you meant to render a collection of children, use an array instead.");return q}function Q(I,L,ee){if(I==null)return I;var Y=[],T=0;return j(I,Y,"","",function(K){return L.call(ee,K,T++)}),Y}function $(I){if(I._status===-1){var L=I._result;L=L(),L.then(function(ee){(I._status===0||I._status===-1)&&(I._status=1,I._result=ee)},function(ee){(I._status===0||I._status===-1)&&(I._status=2,I._result=ee)}),I._status===-1&&(I._status=0,I._result=L)}if(I._status===1)return I._result.default;throw I._result}var W={current:null},z={transition:null},P={ReactCurrentDispatcher:W,ReactCurrentBatchConfig:z,ReactCurrentOwner:O};function H(){throw Error("act(...) is not supported in production builds of React.")}return ze.Children={map:Q,forEach:function(I,L,ee){Q(I,function(){L.apply(this,arguments)},ee)},count:function(I){var L=0;return Q(I,function(){L++}),L},toArray:function(I){return Q(I,function(L){return L})||[]},only:function(I){if(!G(I))throw Error("React.Children.only expected to receive a single React element child.");return I}},ze.Component=w,ze.Fragment=i,ze.Profiler=a,ze.PureComponent=C,ze.StrictMode=s,ze.Suspense=f,ze.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=P,ze.act=H,ze.cloneElement=function(I,L,ee){if(I==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+I+".");var Y=N({},I.props),T=I.key,K=I.ref,q=I._owner;if(L!=null){if(L.ref!==void 0&&(K=L.ref,q=O.current),L.key!==void 0&&(T=""+L.key),I.type&&I.type.defaultProps)var U=I.type.defaultProps;for(J in L)M.call(L,J)&&!F.hasOwnProperty(J)&&(Y[J]=L[J]===void 0&&U!==void 0?U[J]:L[J])}var J=arguments.length-2;if(J===1)Y.children=ee;else if(1<J){U=Array(J);for(var ie=0;ie<J;ie++)U[ie]=arguments[ie+2];Y.children=U}return{$$typeof:e,type:I.type,key:T,ref:K,props:Y,_owner:q}},ze.createContext=function(I){return I={$$typeof:u,_currentValue:I,_currentValue2:I,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},I.Provider={$$typeof:l,_context:I},I.Consumer=I},ze.createElement=V,ze.createFactory=function(I){var L=V.bind(null,I);return L.type=I,L},ze.createRef=function(){return{current:null}},ze.forwardRef=function(I){return{$$typeof:d,render:I}},ze.isValidElement=G,ze.lazy=function(I){return{$$typeof:p,_payload:{_status:-1,_result:I},_init:$}},ze.memo=function(I,L){return{$$typeof:h,type:I,compare:L===void 0?null:L}},ze.startTransition=function(I){var L=z.transition;z.transition={};try{I()}finally{z.transition=L}},ze.unstable_act=H,ze.useCallback=function(I,L){return W.current.useCallback(I,L)},ze.useContext=function(I){return W.current.useContext(I)},ze.useDebugValue=function(){},ze.useDeferredValue=function(I){return W.current.useDeferredValue(I)},ze.useEffect=function(I,L){return W.current.useEffect(I,L)},ze.useId=function(){return W.current.useId()},ze.useImperativeHandle=function(I,L,ee){return W.current.useImperativeHandle(I,L,ee)},ze.useInsertionEffect=function(I,L){return W.current.useInsertionEffect(I,L)},ze.useLayoutEffect=function(I,L){return W.current.useLayoutEffect(I,L)},ze.useMemo=function(I,L){return W.current.useMemo(I,L)},ze.useReducer=function(I,L,ee){return W.current.useReducer(I,L,ee)},ze.useRef=function(I){return W.current.useRef(I)},ze.useState=function(I){return W.current.useState(I)},ze.useSyncExternalStore=function(I,L,ee){return W.current.useSyncExternalStore(I,L,ee)},ze.useTransition=function(){return W.current.useTransition()},ze.version="18.3.1",ze}var Dh;function Ro(){return Dh||(Dh=1,Ku.exports=lv()),Ku.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var $h;function uv(){if($h)return po;$h=1;var e=Ro(),r=Symbol.for("react.element"),i=Symbol.for("react.fragment"),s=Object.prototype.hasOwnProperty,a=e.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,l={key:!0,ref:!0,__self:!0,__source:!0};function u(d,f,h){var p,m={},g=null,y=null;h!==void 0&&(g=""+h),f.key!==void 0&&(g=""+f.key),f.ref!==void 0&&(y=f.ref);for(p in f)s.call(f,p)&&!l.hasOwnProperty(p)&&(m[p]=f[p]);if(d&&d.defaultProps)for(p in f=d.defaultProps,f)m[p]===void 0&&(m[p]=f[p]);return{$$typeof:r,type:d,key:g,ref:y,props:m,_owner:a.current}}return po.Fragment=i,po.jsx=u,po.jsxs=u,po}var Bh;function cv(){return Bh||(Bh=1,Qu.exports=uv()),Qu.exports}var x=cv(),R=Ro();const C0=_0(R),dv=av({__proto__:null,default:C0},[R]);var la={},qu={exports:{}},bt={},Zu={exports:{}},Ju={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Fh;function fv(){return Fh||(Fh=1,(function(e){function r(z,P){var H=z.length;z.push(P);e:for(;0<H;){var I=H-1>>>1,L=z[I];if(0<a(L,P))z[I]=P,z[H]=L,H=I;else break e}}function i(z){return z.length===0?null:z[0]}function s(z){if(z.length===0)return null;var P=z[0],H=z.pop();if(H!==P){z[0]=H;e:for(var I=0,L=z.length,ee=L>>>1;I<ee;){var Y=2*(I+1)-1,T=z[Y],K=Y+1,q=z[K];if(0>a(T,H))K<L&&0>a(q,T)?(z[I]=q,z[K]=H,I=K):(z[I]=T,z[Y]=H,I=Y);else if(K<L&&0>a(q,H))z[I]=q,z[K]=H,I=K;else break e}}return P}function a(z,P){var H=z.sortIndex-P.sortIndex;return H!==0?H:z.id-P.id}if(typeof performance=="object"&&typeof performance.now=="function"){var l=performance;e.unstable_now=function(){return l.now()}}else{var u=Date,d=u.now();e.unstable_now=function(){return u.now()-d}}var f=[],h=[],p=1,m=null,g=3,y=!1,N=!1,k=!1,w=typeof setTimeout=="function"?setTimeout:null,S=typeof clearTimeout=="function"?clearTimeout:null,C=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function E(z){for(var P=i(h);P!==null;){if(P.callback===null)s(h);else if(P.startTime<=z)s(h),P.sortIndex=P.expirationTime,r(f,P);else break;P=i(h)}}function _(z){if(k=!1,E(z),!N)if(i(f)!==null)N=!0,$(M);else{var P=i(h);P!==null&&W(_,P.startTime-z)}}function M(z,P){N=!1,k&&(k=!1,S(V),V=-1),y=!0;var H=g;try{for(E(P),m=i(f);m!==null&&(!(m.expirationTime>P)||z&&!X());){var I=m.callback;if(typeof I=="function"){m.callback=null,g=m.priorityLevel;var L=I(m.expirationTime<=P);P=e.unstable_now(),typeof L=="function"?m.callback=L:m===i(f)&&s(f),E(P)}else s(f);m=i(f)}if(m!==null)var ee=!0;else{var Y=i(h);Y!==null&&W(_,Y.startTime-P),ee=!1}return ee}finally{m=null,g=H,y=!1}}var O=!1,F=null,V=-1,Z=5,G=-1;function X(){return!(e.unstable_now()-G<Z)}function B(){if(F!==null){var z=e.unstable_now();G=z;var P=!0;try{P=F(!0,z)}finally{P?D():(O=!1,F=null)}}else O=!1}var D;if(typeof C=="function")D=function(){C(B)};else if(typeof MessageChannel<"u"){var j=new MessageChannel,Q=j.port2;j.port1.onmessage=B,D=function(){Q.postMessage(null)}}else D=function(){w(B,0)};function $(z){F=z,O||(O=!0,D())}function W(z,P){V=w(function(){z(e.unstable_now())},P)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(z){z.callback=null},e.unstable_continueExecution=function(){N||y||(N=!0,$(M))},e.unstable_forceFrameRate=function(z){0>z||125<z?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):Z=0<z?Math.floor(1e3/z):5},e.unstable_getCurrentPriorityLevel=function(){return g},e.unstable_getFirstCallbackNode=function(){return i(f)},e.unstable_next=function(z){switch(g){case 1:case 2:case 3:var P=3;break;default:P=g}var H=g;g=P;try{return z()}finally{g=H}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(z,P){switch(z){case 1:case 2:case 3:case 4:case 5:break;default:z=3}var H=g;g=z;try{return P()}finally{g=H}},e.unstable_scheduleCallback=function(z,P,H){var I=e.unstable_now();switch(typeof H=="object"&&H!==null?(H=H.delay,H=typeof H=="number"&&0<H?I+H:I):H=I,z){case 1:var L=-1;break;case 2:L=250;break;case 5:L=1073741823;break;case 4:L=1e4;break;default:L=5e3}return L=H+L,z={id:p++,callback:P,priorityLevel:z,startTime:H,expirationTime:L,sortIndex:-1},H>I?(z.sortIndex=H,r(h,z),i(f)===null&&z===i(h)&&(k?(S(V),V=-1):k=!0,W(_,H-I))):(z.sortIndex=L,r(f,z),N||y||(N=!0,$(M))),z},e.unstable_shouldYield=X,e.unstable_wrapCallback=function(z){var P=g;return function(){var H=g;g=P;try{return z.apply(this,arguments)}finally{g=H}}}})(Ju)),Ju}var Vh;function hv(){return Vh||(Vh=1,Zu.exports=fv()),Zu.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Hh;function pv(){if(Hh)return bt;Hh=1;var e=Ro(),r=hv();function i(t){for(var n="https://reactjs.org/docs/error-decoder.html?invariant="+t,o=1;o<arguments.length;o++)n+="&args[]="+encodeURIComponent(arguments[o]);return"Minified React error #"+t+"; visit "+n+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var s=new Set,a={};function l(t,n){u(t,n),u(t+"Capture",n)}function u(t,n){for(a[t]=n,t=0;t<n.length;t++)s.add(n[t])}var d=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),f=Object.prototype.hasOwnProperty,h=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,p={},m={};function g(t){return f.call(m,t)?!0:f.call(p,t)?!1:h.test(t)?m[t]=!0:(p[t]=!0,!1)}function y(t,n,o,c){if(o!==null&&o.type===0)return!1;switch(typeof n){case"function":case"symbol":return!0;case"boolean":return c?!1:o!==null?!o.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function N(t,n,o,c){if(n===null||typeof n>"u"||y(t,n,o,c))return!0;if(c)return!1;if(o!==null)switch(o.type){case 3:return!n;case 4:return n===!1;case 5:return isNaN(n);case 6:return isNaN(n)||1>n}return!1}function k(t,n,o,c,v,b,A){this.acceptsBooleans=n===2||n===3||n===4,this.attributeName=c,this.attributeNamespace=v,this.mustUseProperty=o,this.propertyName=t,this.type=n,this.sanitizeURL=b,this.removeEmptyString=A}var w={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){w[t]=new k(t,0,!1,t,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var n=t[0];w[n]=new k(n,1,!1,t[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(t){w[t]=new k(t,2,!1,t.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){w[t]=new k(t,2,!1,t,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){w[t]=new k(t,3,!1,t.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(t){w[t]=new k(t,3,!0,t,null,!1,!1)}),["capture","download"].forEach(function(t){w[t]=new k(t,4,!1,t,null,!1,!1)}),["cols","rows","size","span"].forEach(function(t){w[t]=new k(t,6,!1,t,null,!1,!1)}),["rowSpan","start"].forEach(function(t){w[t]=new k(t,5,!1,t.toLowerCase(),null,!1,!1)});var S=/[\-:]([a-z])/g;function C(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var n=t.replace(S,C);w[n]=new k(n,1,!1,t,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var n=t.replace(S,C);w[n]=new k(n,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(t){var n=t.replace(S,C);w[n]=new k(n,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(t){w[t]=new k(t,1,!1,t.toLowerCase(),null,!1,!1)}),w.xlinkHref=new k("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(t){w[t]=new k(t,1,!1,t.toLowerCase(),null,!0,!0)});function E(t,n,o,c){var v=w.hasOwnProperty(n)?w[n]:null;(v!==null?v.type!==0:c||!(2<n.length)||n[0]!=="o"&&n[0]!=="O"||n[1]!=="n"&&n[1]!=="N")&&(N(n,o,v,c)&&(o=null),c||v===null?g(n)&&(o===null?t.removeAttribute(n):t.setAttribute(n,""+o)):v.mustUseProperty?t[v.propertyName]=o===null?v.type===3?!1:"":o:(n=v.attributeName,c=v.attributeNamespace,o===null?t.removeAttribute(n):(v=v.type,o=v===3||v===4&&o===!0?"":""+o,c?t.setAttributeNS(c,n,o):t.setAttribute(n,o))))}var _=e.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,M=Symbol.for("react.element"),O=Symbol.for("react.portal"),F=Symbol.for("react.fragment"),V=Symbol.for("react.strict_mode"),Z=Symbol.for("react.profiler"),G=Symbol.for("react.provider"),X=Symbol.for("react.context"),B=Symbol.for("react.forward_ref"),D=Symbol.for("react.suspense"),j=Symbol.for("react.suspense_list"),Q=Symbol.for("react.memo"),$=Symbol.for("react.lazy"),W=Symbol.for("react.offscreen"),z=Symbol.iterator;function P(t){return t===null||typeof t!="object"?null:(t=z&&t[z]||t["@@iterator"],typeof t=="function"?t:null)}var H=Object.assign,I;function L(t){if(I===void 0)try{throw Error()}catch(o){var n=o.stack.trim().match(/\n( *(at )?)/);I=n&&n[1]||""}return`
`+I+t}var ee=!1;function Y(t,n){if(!t||ee)return"";ee=!0;var o=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(n)if(n=function(){throw Error()},Object.defineProperty(n.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(n,[])}catch(ae){var c=ae}Reflect.construct(t,[],n)}else{try{n.call()}catch(ae){c=ae}t.call(n.prototype)}else{try{throw Error()}catch(ae){c=ae}t()}}catch(ae){if(ae&&c&&typeof ae.stack=="string"){for(var v=ae.stack.split(`
`),b=c.stack.split(`
`),A=v.length-1,te=b.length-1;1<=A&&0<=te&&v[A]!==b[te];)te--;for(;1<=A&&0<=te;A--,te--)if(v[A]!==b[te]){if(A!==1||te!==1)do if(A--,te--,0>te||v[A]!==b[te]){var ne=`
`+v[A].replace(" at new "," at ");return t.displayName&&ne.includes("<anonymous>")&&(ne=ne.replace("<anonymous>",t.displayName)),ne}while(1<=A&&0<=te);break}}}finally{ee=!1,Error.prepareStackTrace=o}return(t=t?t.displayName||t.name:"")?L(t):""}function T(t){switch(t.tag){case 5:return L(t.type);case 16:return L("Lazy");case 13:return L("Suspense");case 19:return L("SuspenseList");case 0:case 2:case 15:return t=Y(t.type,!1),t;case 11:return t=Y(t.type.render,!1),t;case 1:return t=Y(t.type,!0),t;default:return""}}function K(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case F:return"Fragment";case O:return"Portal";case Z:return"Profiler";case V:return"StrictMode";case D:return"Suspense";case j:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case X:return(t.displayName||"Context")+".Consumer";case G:return(t._context.displayName||"Context")+".Provider";case B:var n=t.render;return t=t.displayName,t||(t=n.displayName||n.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case Q:return n=t.displayName||null,n!==null?n:K(t.type)||"Memo";case $:n=t._payload,t=t._init;try{return K(t(n))}catch{}}return null}function q(t){var n=t.type;switch(t.tag){case 24:return"Cache";case 9:return(n.displayName||"Context")+".Consumer";case 10:return(n._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=n.render,t=t.displayName||t.name||"",n.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return n;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return K(n);case 8:return n===V?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof n=="function")return n.displayName||n.name||null;if(typeof n=="string")return n}return null}function U(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function J(t){var n=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(n==="checkbox"||n==="radio")}function ie(t){var n=J(t)?"checked":"value",o=Object.getOwnPropertyDescriptor(t.constructor.prototype,n),c=""+t[n];if(!t.hasOwnProperty(n)&&typeof o<"u"&&typeof o.get=="function"&&typeof o.set=="function"){var v=o.get,b=o.set;return Object.defineProperty(t,n,{configurable:!0,get:function(){return v.call(this)},set:function(A){c=""+A,b.call(this,A)}}),Object.defineProperty(t,n,{enumerable:o.enumerable}),{getValue:function(){return c},setValue:function(A){c=""+A},stopTracking:function(){t._valueTracker=null,delete t[n]}}}}function le(t){t._valueTracker||(t._valueTracker=ie(t))}function he(t){if(!t)return!1;var n=t._valueTracker;if(!n)return!0;var o=n.getValue(),c="";return t&&(c=J(t)?t.checked?"true":"false":t.value),t=c,t!==o?(n.setValue(t),!0):!1}function pe(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function ye(t,n){var o=n.checked;return H({},n,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:o??t._wrapperState.initialChecked})}function ke(t,n){var o=n.defaultValue==null?"":n.defaultValue,c=n.checked!=null?n.checked:n.defaultChecked;o=U(n.value!=null?n.value:o),t._wrapperState={initialChecked:c,initialValue:o,controlled:n.type==="checkbox"||n.type==="radio"?n.checked!=null:n.value!=null}}function Ce(t,n){n=n.checked,n!=null&&E(t,"checked",n,!1)}function Re(t,n){Ce(t,n);var o=U(n.value),c=n.type;if(o!=null)c==="number"?(o===0&&t.value===""||t.value!=o)&&(t.value=""+o):t.value!==""+o&&(t.value=""+o);else if(c==="submit"||c==="reset"){t.removeAttribute("value");return}n.hasOwnProperty("value")?me(t,n.type,o):n.hasOwnProperty("defaultValue")&&me(t,n.type,U(n.defaultValue)),n.checked==null&&n.defaultChecked!=null&&(t.defaultChecked=!!n.defaultChecked)}function st(t,n,o){if(n.hasOwnProperty("value")||n.hasOwnProperty("defaultValue")){var c=n.type;if(!(c!=="submit"&&c!=="reset"||n.value!==void 0&&n.value!==null))return;n=""+t._wrapperState.initialValue,o||n===t.value||(t.value=n),t.defaultValue=n}o=t.name,o!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,o!==""&&(t.name=o)}function me(t,n,o){(n!=="number"||pe(t.ownerDocument)!==t)&&(o==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+o&&(t.defaultValue=""+o))}var je=Array.isArray;function $e(t,n,o,c){if(t=t.options,n){n={};for(var v=0;v<o.length;v++)n["$"+o[v]]=!0;for(o=0;o<t.length;o++)v=n.hasOwnProperty("$"+t[o].value),t[o].selected!==v&&(t[o].selected=v),v&&c&&(t[o].defaultSelected=!0)}else{for(o=""+U(o),n=null,v=0;v<t.length;v++){if(t[v].value===o){t[v].selected=!0,c&&(t[v].defaultSelected=!0);return}n!==null||t[v].disabled||(n=t[v])}n!==null&&(n.selected=!0)}}function dt(t,n){if(n.dangerouslySetInnerHTML!=null)throw Error(i(91));return H({},n,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function En(t,n){var o=n.value;if(o==null){if(o=n.children,n=n.defaultValue,o!=null){if(n!=null)throw Error(i(92));if(je(o)){if(1<o.length)throw Error(i(93));o=o[0]}n=o}n==null&&(n=""),o=n}t._wrapperState={initialValue:U(o)}}function Mr(t,n){var o=U(n.value),c=U(n.defaultValue);o!=null&&(o=""+o,o!==t.value&&(t.value=o),n.defaultValue==null&&t.defaultValue!==o&&(t.defaultValue=o)),c!=null&&(t.defaultValue=""+c)}function nr(t){var n=t.textContent;n===t._wrapperState.initialValue&&n!==""&&n!==null&&(t.value=n)}function un(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function cn(t,n){return t==null||t==="http://www.w3.org/1999/xhtml"?un(n):t==="http://www.w3.org/2000/svg"&&n==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var rr,Wo=(function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(n,o,c,v){MSApp.execUnsafeLocalFunction(function(){return t(n,o,c,v)})}:t})(function(t,n){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=n;else{for(rr=rr||document.createElement("div"),rr.innerHTML="<svg>"+n.valueOf().toString()+"</svg>",n=rr.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;n.firstChild;)t.appendChild(n.firstChild)}});function dn(t,n){if(n){var o=t.firstChild;if(o&&o===t.lastChild&&o.nodeType===3){o.nodeValue=n;return}}t.textContent=n}var ir={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},rl=["Webkit","ms","Moz","O"];Object.keys(ir).forEach(function(t){rl.forEach(function(n){n=n+t.charAt(0).toUpperCase()+t.substring(1),ir[n]=ir[t]})});function Uo(t,n,o){return n==null||typeof n=="boolean"||n===""?"":o||typeof n!="number"||n===0||ir.hasOwnProperty(t)&&ir[t]?(""+n).trim():n+"px"}function Yo(t,n){t=t.style;for(var o in n)if(n.hasOwnProperty(o)){var c=o.indexOf("--")===0,v=Uo(o,n[o],c);o==="float"&&(o="cssFloat"),c?t.setProperty(o,v):t[o]=v}}var il=H({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ki(t,n){if(n){if(il[t]&&(n.children!=null||n.dangerouslySetInnerHTML!=null))throw Error(i(137,t));if(n.dangerouslySetInnerHTML!=null){if(n.children!=null)throw Error(i(60));if(typeof n.dangerouslySetInnerHTML!="object"||!("__html"in n.dangerouslySetInnerHTML))throw Error(i(61))}if(n.style!=null&&typeof n.style!="object")throw Error(i(62))}}function Ei(t,n){if(t.indexOf("-")===-1)return typeof n.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Si=null;function _i(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Ci=null,Sn=null,_n=null;function Xo(t){if(t=Zi(t)){if(typeof Ci!="function")throw Error(i(280));var n=t.stateNode;n&&(n=ks(n),Ci(t.stateNode,t.type,n))}}function Go(t){Sn?_n?_n.push(t):_n=[t]:Sn=t}function Qo(){if(Sn){var t=Sn,n=_n;if(_n=Sn=null,Xo(t),n)for(t=0;t<n.length;t++)Xo(n[t])}}function Ko(t,n){return t(n)}function qo(){}var ji=!1;function Zo(t,n,o){if(ji)return t(n,o);ji=!0;try{return Ko(t,n,o)}finally{ji=!1,(Sn!==null||_n!==null)&&(qo(),Qo())}}function or(t,n){var o=t.stateNode;if(o===null)return null;var c=ks(o);if(c===null)return null;o=c[n];e:switch(n){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(c=!c.disabled)||(t=t.type,c=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!c;break e;default:t=!1}if(t)return null;if(o&&typeof o!="function")throw Error(i(231,n,typeof o));return o}var zi=!1;if(d)try{var sr={};Object.defineProperty(sr,"passive",{get:function(){zi=!0}}),window.addEventListener("test",sr,sr),window.removeEventListener("test",sr,sr)}catch{zi=!1}function ol(t,n,o,c,v,b,A,te,ne){var ae=Array.prototype.slice.call(arguments,3);try{n.apply(o,ae)}catch(ce){this.onError(ce)}}var ar=!1,Ir=null,Lr=!1,Mi=null,sl={onError:function(t){ar=!0,Ir=t}};function al(t,n,o,c,v,b,A,te,ne){ar=!1,Ir=null,ol.apply(sl,arguments)}function ll(t,n,o,c,v,b,A,te,ne){if(al.apply(this,arguments),ar){if(ar){var ae=Ir;ar=!1,Ir=null}else throw Error(i(198));Lr||(Lr=!0,Mi=ae)}}function Kt(t){var n=t,o=t;if(t.alternate)for(;n.return;)n=n.return;else{t=n;do n=t,(n.flags&4098)!==0&&(o=n.return),t=n.return;while(t)}return n.tag===3?o:null}function Ii(t){if(t.tag===13){var n=t.memoizedState;if(n===null&&(t=t.alternate,t!==null&&(n=t.memoizedState)),n!==null)return n.dehydrated}return null}function Li(t){if(Kt(t)!==t)throw Error(i(188))}function ul(t){var n=t.alternate;if(!n){if(n=Kt(t),n===null)throw Error(i(188));return n!==t?null:t}for(var o=t,c=n;;){var v=o.return;if(v===null)break;var b=v.alternate;if(b===null){if(c=v.return,c!==null){o=c;continue}break}if(v.child===b.child){for(b=v.child;b;){if(b===o)return Li(v),t;if(b===c)return Li(v),n;b=b.sibling}throw Error(i(188))}if(o.return!==c.return)o=v,c=b;else{for(var A=!1,te=v.child;te;){if(te===o){A=!0,o=v,c=b;break}if(te===c){A=!0,c=v,o=b;break}te=te.sibling}if(!A){for(te=b.child;te;){if(te===o){A=!0,o=b,c=v;break}if(te===c){A=!0,c=b,o=v;break}te=te.sibling}if(!A)throw Error(i(189))}}if(o.alternate!==c)throw Error(i(190))}if(o.tag!==3)throw Error(i(188));return o.stateNode.current===o?t:n}function Jo(t){return t=ul(t),t!==null?es(t):null}function es(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var n=es(t);if(n!==null)return n;t=t.sibling}return null}var ts=r.unstable_scheduleCallback,ns=r.unstable_cancelCallback,cl=r.unstable_shouldYield,rs=r.unstable_requestPaint,He=r.unstable_now,dl=r.unstable_getCurrentPriorityLevel,Pi=r.unstable_ImmediatePriority,is=r.unstable_UserBlockingPriority,Pr=r.unstable_NormalPriority,fl=r.unstable_LowPriority,os=r.unstable_IdlePriority,lr=null,Mt=null;function hl(t){if(Mt&&typeof Mt.onCommitFiberRoot=="function")try{Mt.onCommitFiberRoot(lr,t,void 0,(t.current.flags&128)===128)}catch{}}var Et=Math.clz32?Math.clz32:gl,pl=Math.log,ml=Math.LN2;function gl(t){return t>>>=0,t===0?32:31-(pl(t)/ml|0)|0}var Ar=64,Tr=4194304;function qt(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function Rr(t,n){var o=t.pendingLanes;if(o===0)return 0;var c=0,v=t.suspendedLanes,b=t.pingedLanes,A=o&268435455;if(A!==0){var te=A&~v;te!==0?c=qt(te):(b&=A,b!==0&&(c=qt(b)))}else A=o&~v,A!==0?c=qt(A):b!==0&&(c=qt(b));if(c===0)return 0;if(n!==0&&n!==c&&(n&v)===0&&(v=c&-c,b=n&-n,v>=b||v===16&&(b&4194240)!==0))return n;if((c&4)!==0&&(c|=o&16),n=t.entangledLanes,n!==0)for(t=t.entanglements,n&=c;0<n;)o=31-Et(n),v=1<<o,c|=t[o],n&=~v;return c}function ss(t,n){switch(t){case 1:case 2:case 4:return n+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function xl(t,n){for(var o=t.suspendedLanes,c=t.pingedLanes,v=t.expirationTimes,b=t.pendingLanes;0<b;){var A=31-Et(b),te=1<<A,ne=v[A];ne===-1?((te&o)===0||(te&c)!==0)&&(v[A]=ss(te,n)):ne<=n&&(t.expiredLanes|=te),b&=~te}}function Ai(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function Or(){var t=Ar;return Ar<<=1,(Ar&4194240)===0&&(Ar=64),t}function Ti(t){for(var n=[],o=0;31>o;o++)n.push(t);return n}function ur(t,n,o){t.pendingLanes|=n,n!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,n=31-Et(n),t[n]=o}function as(t,n){var o=t.pendingLanes&~n;t.pendingLanes=n,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=n,t.mutableReadLanes&=n,t.entangledLanes&=n,n=t.entanglements;var c=t.eventTimes;for(t=t.expirationTimes;0<o;){var v=31-Et(o),b=1<<v;n[v]=0,c[v]=-1,t[v]=-1,o&=~b}}function vl(t,n){var o=t.entangledLanes|=n;for(t=t.entanglements;o;){var c=31-Et(o),v=1<<c;v&n|t[c]&n&&(t[c]|=n),o&=~v}}var Pe=0;function pd(t){return t&=-t,1<t?4<t?(t&268435455)!==0?16:536870912:4:1}var md,yl,gd,xd,vd,wl=!1,ls=[],Cn=null,jn=null,zn=null,Ri=new Map,Oi=new Map,Mn=[],zg="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function yd(t,n){switch(t){case"focusin":case"focusout":Cn=null;break;case"dragenter":case"dragleave":jn=null;break;case"mouseover":case"mouseout":zn=null;break;case"pointerover":case"pointerout":Ri.delete(n.pointerId);break;case"gotpointercapture":case"lostpointercapture":Oi.delete(n.pointerId)}}function Di(t,n,o,c,v,b){return t===null||t.nativeEvent!==b?(t={blockedOn:n,domEventName:o,eventSystemFlags:c,nativeEvent:b,targetContainers:[v]},n!==null&&(n=Zi(n),n!==null&&yl(n)),t):(t.eventSystemFlags|=c,n=t.targetContainers,v!==null&&n.indexOf(v)===-1&&n.push(v),t)}function Mg(t,n,o,c,v){switch(n){case"focusin":return Cn=Di(Cn,t,n,o,c,v),!0;case"dragenter":return jn=Di(jn,t,n,o,c,v),!0;case"mouseover":return zn=Di(zn,t,n,o,c,v),!0;case"pointerover":var b=v.pointerId;return Ri.set(b,Di(Ri.get(b)||null,t,n,o,c,v)),!0;case"gotpointercapture":return b=v.pointerId,Oi.set(b,Di(Oi.get(b)||null,t,n,o,c,v)),!0}return!1}function wd(t){var n=cr(t.target);if(n!==null){var o=Kt(n);if(o!==null){if(n=o.tag,n===13){if(n=Ii(o),n!==null){t.blockedOn=n,vd(t.priority,function(){gd(o)});return}}else if(n===3&&o.stateNode.current.memoizedState.isDehydrated){t.blockedOn=o.tag===3?o.stateNode.containerInfo:null;return}}}t.blockedOn=null}function us(t){if(t.blockedOn!==null)return!1;for(var n=t.targetContainers;0<n.length;){var o=bl(t.domEventName,t.eventSystemFlags,n[0],t.nativeEvent);if(o===null){o=t.nativeEvent;var c=new o.constructor(o.type,o);Si=c,o.target.dispatchEvent(c),Si=null}else return n=Zi(o),n!==null&&yl(n),t.blockedOn=o,!1;n.shift()}return!0}function Nd(t,n,o){us(t)&&o.delete(n)}function Ig(){wl=!1,Cn!==null&&us(Cn)&&(Cn=null),jn!==null&&us(jn)&&(jn=null),zn!==null&&us(zn)&&(zn=null),Ri.forEach(Nd),Oi.forEach(Nd)}function $i(t,n){t.blockedOn===n&&(t.blockedOn=null,wl||(wl=!0,r.unstable_scheduleCallback(r.unstable_NormalPriority,Ig)))}function Bi(t){function n(v){return $i(v,t)}if(0<ls.length){$i(ls[0],t);for(var o=1;o<ls.length;o++){var c=ls[o];c.blockedOn===t&&(c.blockedOn=null)}}for(Cn!==null&&$i(Cn,t),jn!==null&&$i(jn,t),zn!==null&&$i(zn,t),Ri.forEach(n),Oi.forEach(n),o=0;o<Mn.length;o++)c=Mn[o],c.blockedOn===t&&(c.blockedOn=null);for(;0<Mn.length&&(o=Mn[0],o.blockedOn===null);)wd(o),o.blockedOn===null&&Mn.shift()}var Dr=_.ReactCurrentBatchConfig,cs=!0;function Lg(t,n,o,c){var v=Pe,b=Dr.transition;Dr.transition=null;try{Pe=1,Nl(t,n,o,c)}finally{Pe=v,Dr.transition=b}}function Pg(t,n,o,c){var v=Pe,b=Dr.transition;Dr.transition=null;try{Pe=4,Nl(t,n,o,c)}finally{Pe=v,Dr.transition=b}}function Nl(t,n,o,c){if(cs){var v=bl(t,n,o,c);if(v===null)$l(t,n,c,ds,o),yd(t,c);else if(Mg(v,t,n,o,c))c.stopPropagation();else if(yd(t,c),n&4&&-1<zg.indexOf(t)){for(;v!==null;){var b=Zi(v);if(b!==null&&md(b),b=bl(t,n,o,c),b===null&&$l(t,n,c,ds,o),b===v)break;v=b}v!==null&&c.stopPropagation()}else $l(t,n,c,null,o)}}var ds=null;function bl(t,n,o,c){if(ds=null,t=_i(c),t=cr(t),t!==null)if(n=Kt(t),n===null)t=null;else if(o=n.tag,o===13){if(t=Ii(n),t!==null)return t;t=null}else if(o===3){if(n.stateNode.current.memoizedState.isDehydrated)return n.tag===3?n.stateNode.containerInfo:null;t=null}else n!==t&&(t=null);return ds=t,null}function bd(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(dl()){case Pi:return 1;case is:return 4;case Pr:case fl:return 16;case os:return 536870912;default:return 16}default:return 16}}var In=null,kl=null,fs=null;function kd(){if(fs)return fs;var t,n=kl,o=n.length,c,v="value"in In?In.value:In.textContent,b=v.length;for(t=0;t<o&&n[t]===v[t];t++);var A=o-t;for(c=1;c<=A&&n[o-c]===v[b-c];c++);return fs=v.slice(t,1<c?1-c:void 0)}function hs(t){var n=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&n===13&&(t=13)):t=n,t===10&&(t=13),32<=t||t===13?t:0}function ps(){return!0}function Ed(){return!1}function St(t){function n(o,c,v,b,A){this._reactName=o,this._targetInst=v,this.type=c,this.nativeEvent=b,this.target=A,this.currentTarget=null;for(var te in t)t.hasOwnProperty(te)&&(o=t[te],this[te]=o?o(b):b[te]);return this.isDefaultPrevented=(b.defaultPrevented!=null?b.defaultPrevented:b.returnValue===!1)?ps:Ed,this.isPropagationStopped=Ed,this}return H(n.prototype,{preventDefault:function(){this.defaultPrevented=!0;var o=this.nativeEvent;o&&(o.preventDefault?o.preventDefault():typeof o.returnValue!="unknown"&&(o.returnValue=!1),this.isDefaultPrevented=ps)},stopPropagation:function(){var o=this.nativeEvent;o&&(o.stopPropagation?o.stopPropagation():typeof o.cancelBubble!="unknown"&&(o.cancelBubble=!0),this.isPropagationStopped=ps)},persist:function(){},isPersistent:ps}),n}var $r={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},El=St($r),Fi=H({},$r,{view:0,detail:0}),Ag=St(Fi),Sl,_l,Vi,ms=H({},Fi,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:jl,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Vi&&(Vi&&t.type==="mousemove"?(Sl=t.screenX-Vi.screenX,_l=t.screenY-Vi.screenY):_l=Sl=0,Vi=t),Sl)},movementY:function(t){return"movementY"in t?t.movementY:_l}}),Sd=St(ms),Tg=H({},ms,{dataTransfer:0}),Rg=St(Tg),Og=H({},Fi,{relatedTarget:0}),Cl=St(Og),Dg=H({},$r,{animationName:0,elapsedTime:0,pseudoElement:0}),$g=St(Dg),Bg=H({},$r,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),Fg=St(Bg),Vg=H({},$r,{data:0}),_d=St(Vg),Hg={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Wg={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Ug={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Yg(t){var n=this.nativeEvent;return n.getModifierState?n.getModifierState(t):(t=Ug[t])?!!n[t]:!1}function jl(){return Yg}var Xg=H({},Fi,{key:function(t){if(t.key){var n=Hg[t.key]||t.key;if(n!=="Unidentified")return n}return t.type==="keypress"?(t=hs(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?Wg[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:jl,charCode:function(t){return t.type==="keypress"?hs(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?hs(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),Gg=St(Xg),Qg=H({},ms,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Cd=St(Qg),Kg=H({},Fi,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:jl}),qg=St(Kg),Zg=H({},$r,{propertyName:0,elapsedTime:0,pseudoElement:0}),Jg=St(Zg),ex=H({},ms,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),tx=St(ex),nx=[9,13,27,32],zl=d&&"CompositionEvent"in window,Hi=null;d&&"documentMode"in document&&(Hi=document.documentMode);var rx=d&&"TextEvent"in window&&!Hi,jd=d&&(!zl||Hi&&8<Hi&&11>=Hi),zd=" ",Md=!1;function Id(t,n){switch(t){case"keyup":return nx.indexOf(n.keyCode)!==-1;case"keydown":return n.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Ld(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Br=!1;function ix(t,n){switch(t){case"compositionend":return Ld(n);case"keypress":return n.which!==32?null:(Md=!0,zd);case"textInput":return t=n.data,t===zd&&Md?null:t;default:return null}}function ox(t,n){if(Br)return t==="compositionend"||!zl&&Id(t,n)?(t=kd(),fs=kl=In=null,Br=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(n.ctrlKey||n.altKey||n.metaKey)||n.ctrlKey&&n.altKey){if(n.char&&1<n.char.length)return n.char;if(n.which)return String.fromCharCode(n.which)}return null;case"compositionend":return jd&&n.locale!=="ko"?null:n.data;default:return null}}var sx={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Pd(t){var n=t&&t.nodeName&&t.nodeName.toLowerCase();return n==="input"?!!sx[t.type]:n==="textarea"}function Ad(t,n,o,c){Go(c),n=ws(n,"onChange"),0<n.length&&(o=new El("onChange","change",null,o,c),t.push({event:o,listeners:n}))}var Wi=null,Ui=null;function ax(t){Zd(t,0)}function gs(t){var n=Ur(t);if(he(n))return t}function lx(t,n){if(t==="change")return n}var Td=!1;if(d){var Ml;if(d){var Il="oninput"in document;if(!Il){var Rd=document.createElement("div");Rd.setAttribute("oninput","return;"),Il=typeof Rd.oninput=="function"}Ml=Il}else Ml=!1;Td=Ml&&(!document.documentMode||9<document.documentMode)}function Od(){Wi&&(Wi.detachEvent("onpropertychange",Dd),Ui=Wi=null)}function Dd(t){if(t.propertyName==="value"&&gs(Ui)){var n=[];Ad(n,Ui,t,_i(t)),Zo(ax,n)}}function ux(t,n,o){t==="focusin"?(Od(),Wi=n,Ui=o,Wi.attachEvent("onpropertychange",Dd)):t==="focusout"&&Od()}function cx(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return gs(Ui)}function dx(t,n){if(t==="click")return gs(n)}function fx(t,n){if(t==="input"||t==="change")return gs(n)}function hx(t,n){return t===n&&(t!==0||1/t===1/n)||t!==t&&n!==n}var Ot=typeof Object.is=="function"?Object.is:hx;function Yi(t,n){if(Ot(t,n))return!0;if(typeof t!="object"||t===null||typeof n!="object"||n===null)return!1;var o=Object.keys(t),c=Object.keys(n);if(o.length!==c.length)return!1;for(c=0;c<o.length;c++){var v=o[c];if(!f.call(n,v)||!Ot(t[v],n[v]))return!1}return!0}function $d(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function Bd(t,n){var o=$d(t);t=0;for(var c;o;){if(o.nodeType===3){if(c=t+o.textContent.length,t<=n&&c>=n)return{node:o,offset:n-t};t=c}e:{for(;o;){if(o.nextSibling){o=o.nextSibling;break e}o=o.parentNode}o=void 0}o=$d(o)}}function Fd(t,n){return t&&n?t===n?!0:t&&t.nodeType===3?!1:n&&n.nodeType===3?Fd(t,n.parentNode):"contains"in t?t.contains(n):t.compareDocumentPosition?!!(t.compareDocumentPosition(n)&16):!1:!1}function Vd(){for(var t=window,n=pe();n instanceof t.HTMLIFrameElement;){try{var o=typeof n.contentWindow.location.href=="string"}catch{o=!1}if(o)t=n.contentWindow;else break;n=pe(t.document)}return n}function Ll(t){var n=t&&t.nodeName&&t.nodeName.toLowerCase();return n&&(n==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||n==="textarea"||t.contentEditable==="true")}function px(t){var n=Vd(),o=t.focusedElem,c=t.selectionRange;if(n!==o&&o&&o.ownerDocument&&Fd(o.ownerDocument.documentElement,o)){if(c!==null&&Ll(o)){if(n=c.start,t=c.end,t===void 0&&(t=n),"selectionStart"in o)o.selectionStart=n,o.selectionEnd=Math.min(t,o.value.length);else if(t=(n=o.ownerDocument||document)&&n.defaultView||window,t.getSelection){t=t.getSelection();var v=o.textContent.length,b=Math.min(c.start,v);c=c.end===void 0?b:Math.min(c.end,v),!t.extend&&b>c&&(v=c,c=b,b=v),v=Bd(o,b);var A=Bd(o,c);v&&A&&(t.rangeCount!==1||t.anchorNode!==v.node||t.anchorOffset!==v.offset||t.focusNode!==A.node||t.focusOffset!==A.offset)&&(n=n.createRange(),n.setStart(v.node,v.offset),t.removeAllRanges(),b>c?(t.addRange(n),t.extend(A.node,A.offset)):(n.setEnd(A.node,A.offset),t.addRange(n)))}}for(n=[],t=o;t=t.parentNode;)t.nodeType===1&&n.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof o.focus=="function"&&o.focus(),o=0;o<n.length;o++)t=n[o],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var mx=d&&"documentMode"in document&&11>=document.documentMode,Fr=null,Pl=null,Xi=null,Al=!1;function Hd(t,n,o){var c=o.window===o?o.document:o.nodeType===9?o:o.ownerDocument;Al||Fr==null||Fr!==pe(c)||(c=Fr,"selectionStart"in c&&Ll(c)?c={start:c.selectionStart,end:c.selectionEnd}:(c=(c.ownerDocument&&c.ownerDocument.defaultView||window).getSelection(),c={anchorNode:c.anchorNode,anchorOffset:c.anchorOffset,focusNode:c.focusNode,focusOffset:c.focusOffset}),Xi&&Yi(Xi,c)||(Xi=c,c=ws(Pl,"onSelect"),0<c.length&&(n=new El("onSelect","select",null,n,o),t.push({event:n,listeners:c}),n.target=Fr)))}function xs(t,n){var o={};return o[t.toLowerCase()]=n.toLowerCase(),o["Webkit"+t]="webkit"+n,o["Moz"+t]="moz"+n,o}var Vr={animationend:xs("Animation","AnimationEnd"),animationiteration:xs("Animation","AnimationIteration"),animationstart:xs("Animation","AnimationStart"),transitionend:xs("Transition","TransitionEnd")},Tl={},Wd={};d&&(Wd=document.createElement("div").style,"AnimationEvent"in window||(delete Vr.animationend.animation,delete Vr.animationiteration.animation,delete Vr.animationstart.animation),"TransitionEvent"in window||delete Vr.transitionend.transition);function vs(t){if(Tl[t])return Tl[t];if(!Vr[t])return t;var n=Vr[t],o;for(o in n)if(n.hasOwnProperty(o)&&o in Wd)return Tl[t]=n[o];return t}var Ud=vs("animationend"),Yd=vs("animationiteration"),Xd=vs("animationstart"),Gd=vs("transitionend"),Qd=new Map,Kd="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Ln(t,n){Qd.set(t,n),l(n,[t])}for(var Rl=0;Rl<Kd.length;Rl++){var Ol=Kd[Rl],gx=Ol.toLowerCase(),xx=Ol[0].toUpperCase()+Ol.slice(1);Ln(gx,"on"+xx)}Ln(Ud,"onAnimationEnd"),Ln(Yd,"onAnimationIteration"),Ln(Xd,"onAnimationStart"),Ln("dblclick","onDoubleClick"),Ln("focusin","onFocus"),Ln("focusout","onBlur"),Ln(Gd,"onTransitionEnd"),u("onMouseEnter",["mouseout","mouseover"]),u("onMouseLeave",["mouseout","mouseover"]),u("onPointerEnter",["pointerout","pointerover"]),u("onPointerLeave",["pointerout","pointerover"]),l("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),l("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),l("onBeforeInput",["compositionend","keypress","textInput","paste"]),l("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Gi="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),vx=new Set("cancel close invalid load scroll toggle".split(" ").concat(Gi));function qd(t,n,o){var c=t.type||"unknown-event";t.currentTarget=o,ll(c,n,void 0,t),t.currentTarget=null}function Zd(t,n){n=(n&4)!==0;for(var o=0;o<t.length;o++){var c=t[o],v=c.event;c=c.listeners;e:{var b=void 0;if(n)for(var A=c.length-1;0<=A;A--){var te=c[A],ne=te.instance,ae=te.currentTarget;if(te=te.listener,ne!==b&&v.isPropagationStopped())break e;qd(v,te,ae),b=ne}else for(A=0;A<c.length;A++){if(te=c[A],ne=te.instance,ae=te.currentTarget,te=te.listener,ne!==b&&v.isPropagationStopped())break e;qd(v,te,ae),b=ne}}}if(Lr)throw t=Mi,Lr=!1,Mi=null,t}function Oe(t,n){var o=n[Ul];o===void 0&&(o=n[Ul]=new Set);var c=t+"__bubble";o.has(c)||(Jd(n,t,2,!1),o.add(c))}function Dl(t,n,o){var c=0;n&&(c|=4),Jd(o,t,c,n)}var ys="_reactListening"+Math.random().toString(36).slice(2);function Qi(t){if(!t[ys]){t[ys]=!0,s.forEach(function(o){o!=="selectionchange"&&(vx.has(o)||Dl(o,!1,t),Dl(o,!0,t))});var n=t.nodeType===9?t:t.ownerDocument;n===null||n[ys]||(n[ys]=!0,Dl("selectionchange",!1,n))}}function Jd(t,n,o,c){switch(bd(n)){case 1:var v=Lg;break;case 4:v=Pg;break;default:v=Nl}o=v.bind(null,n,o,t),v=void 0,!zi||n!=="touchstart"&&n!=="touchmove"&&n!=="wheel"||(v=!0),c?v!==void 0?t.addEventListener(n,o,{capture:!0,passive:v}):t.addEventListener(n,o,!0):v!==void 0?t.addEventListener(n,o,{passive:v}):t.addEventListener(n,o,!1)}function $l(t,n,o,c,v){var b=c;if((n&1)===0&&(n&2)===0&&c!==null)e:for(;;){if(c===null)return;var A=c.tag;if(A===3||A===4){var te=c.stateNode.containerInfo;if(te===v||te.nodeType===8&&te.parentNode===v)break;if(A===4)for(A=c.return;A!==null;){var ne=A.tag;if((ne===3||ne===4)&&(ne=A.stateNode.containerInfo,ne===v||ne.nodeType===8&&ne.parentNode===v))return;A=A.return}for(;te!==null;){if(A=cr(te),A===null)return;if(ne=A.tag,ne===5||ne===6){c=b=A;continue e}te=te.parentNode}}c=c.return}Zo(function(){var ae=b,ce=_i(o),de=[];e:{var ue=Qd.get(t);if(ue!==void 0){var ge=El,ve=t;switch(t){case"keypress":if(hs(o)===0)break e;case"keydown":case"keyup":ge=Gg;break;case"focusin":ve="focus",ge=Cl;break;case"focusout":ve="blur",ge=Cl;break;case"beforeblur":case"afterblur":ge=Cl;break;case"click":if(o.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":ge=Sd;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":ge=Rg;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":ge=qg;break;case Ud:case Yd:case Xd:ge=$g;break;case Gd:ge=Jg;break;case"scroll":ge=Ag;break;case"wheel":ge=tx;break;case"copy":case"cut":case"paste":ge=Fg;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":ge=Cd}var we=(n&4)!==0,Xe=!we&&t==="scroll",oe=we?ue!==null?ue+"Capture":null:ue;we=[];for(var re=ae,se;re!==null;){se=re;var fe=se.stateNode;if(se.tag===5&&fe!==null&&(se=fe,oe!==null&&(fe=or(re,oe),fe!=null&&we.push(Ki(re,fe,se)))),Xe)break;re=re.return}0<we.length&&(ue=new ge(ue,ve,null,o,ce),de.push({event:ue,listeners:we}))}}if((n&7)===0){e:{if(ue=t==="mouseover"||t==="pointerover",ge=t==="mouseout"||t==="pointerout",ue&&o!==Si&&(ve=o.relatedTarget||o.fromElement)&&(cr(ve)||ve[fn]))break e;if((ge||ue)&&(ue=ce.window===ce?ce:(ue=ce.ownerDocument)?ue.defaultView||ue.parentWindow:window,ge?(ve=o.relatedTarget||o.toElement,ge=ae,ve=ve?cr(ve):null,ve!==null&&(Xe=Kt(ve),ve!==Xe||ve.tag!==5&&ve.tag!==6)&&(ve=null)):(ge=null,ve=ae),ge!==ve)){if(we=Sd,fe="onMouseLeave",oe="onMouseEnter",re="mouse",(t==="pointerout"||t==="pointerover")&&(we=Cd,fe="onPointerLeave",oe="onPointerEnter",re="pointer"),Xe=ge==null?ue:Ur(ge),se=ve==null?ue:Ur(ve),ue=new we(fe,re+"leave",ge,o,ce),ue.target=Xe,ue.relatedTarget=se,fe=null,cr(ce)===ae&&(we=new we(oe,re+"enter",ve,o,ce),we.target=se,we.relatedTarget=Xe,fe=we),Xe=fe,ge&&ve)t:{for(we=ge,oe=ve,re=0,se=we;se;se=Hr(se))re++;for(se=0,fe=oe;fe;fe=Hr(fe))se++;for(;0<re-se;)we=Hr(we),re--;for(;0<se-re;)oe=Hr(oe),se--;for(;re--;){if(we===oe||oe!==null&&we===oe.alternate)break t;we=Hr(we),oe=Hr(oe)}we=null}else we=null;ge!==null&&ef(de,ue,ge,we,!1),ve!==null&&Xe!==null&&ef(de,Xe,ve,we,!0)}}e:{if(ue=ae?Ur(ae):window,ge=ue.nodeName&&ue.nodeName.toLowerCase(),ge==="select"||ge==="input"&&ue.type==="file")var Ne=lx;else if(Pd(ue))if(Td)Ne=fx;else{Ne=cx;var Ee=ux}else(ge=ue.nodeName)&&ge.toLowerCase()==="input"&&(ue.type==="checkbox"||ue.type==="radio")&&(Ne=dx);if(Ne&&(Ne=Ne(t,ae))){Ad(de,Ne,o,ce);break e}Ee&&Ee(t,ue,ae),t==="focusout"&&(Ee=ue._wrapperState)&&Ee.controlled&&ue.type==="number"&&me(ue,"number",ue.value)}switch(Ee=ae?Ur(ae):window,t){case"focusin":(Pd(Ee)||Ee.contentEditable==="true")&&(Fr=Ee,Pl=ae,Xi=null);break;case"focusout":Xi=Pl=Fr=null;break;case"mousedown":Al=!0;break;case"contextmenu":case"mouseup":case"dragend":Al=!1,Hd(de,o,ce);break;case"selectionchange":if(mx)break;case"keydown":case"keyup":Hd(de,o,ce)}var Se;if(zl)e:{switch(t){case"compositionstart":var _e="onCompositionStart";break e;case"compositionend":_e="onCompositionEnd";break e;case"compositionupdate":_e="onCompositionUpdate";break e}_e=void 0}else Br?Id(t,o)&&(_e="onCompositionEnd"):t==="keydown"&&o.keyCode===229&&(_e="onCompositionStart");_e&&(jd&&o.locale!=="ko"&&(Br||_e!=="onCompositionStart"?_e==="onCompositionEnd"&&Br&&(Se=kd()):(In=ce,kl="value"in In?In.value:In.textContent,Br=!0)),Ee=ws(ae,_e),0<Ee.length&&(_e=new _d(_e,t,null,o,ce),de.push({event:_e,listeners:Ee}),Se?_e.data=Se:(Se=Ld(o),Se!==null&&(_e.data=Se)))),(Se=rx?ix(t,o):ox(t,o))&&(ae=ws(ae,"onBeforeInput"),0<ae.length&&(ce=new _d("onBeforeInput","beforeinput",null,o,ce),de.push({event:ce,listeners:ae}),ce.data=Se))}Zd(de,n)})}function Ki(t,n,o){return{instance:t,listener:n,currentTarget:o}}function ws(t,n){for(var o=n+"Capture",c=[];t!==null;){var v=t,b=v.stateNode;v.tag===5&&b!==null&&(v=b,b=or(t,o),b!=null&&c.unshift(Ki(t,b,v)),b=or(t,n),b!=null&&c.push(Ki(t,b,v))),t=t.return}return c}function Hr(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function ef(t,n,o,c,v){for(var b=n._reactName,A=[];o!==null&&o!==c;){var te=o,ne=te.alternate,ae=te.stateNode;if(ne!==null&&ne===c)break;te.tag===5&&ae!==null&&(te=ae,v?(ne=or(o,b),ne!=null&&A.unshift(Ki(o,ne,te))):v||(ne=or(o,b),ne!=null&&A.push(Ki(o,ne,te)))),o=o.return}A.length!==0&&t.push({event:n,listeners:A})}var yx=/\r\n?/g,wx=/\u0000|\uFFFD/g;function tf(t){return(typeof t=="string"?t:""+t).replace(yx,`
`).replace(wx,"")}function Ns(t,n,o){if(n=tf(n),tf(t)!==n&&o)throw Error(i(425))}function bs(){}var Bl=null,Fl=null;function Vl(t,n){return t==="textarea"||t==="noscript"||typeof n.children=="string"||typeof n.children=="number"||typeof n.dangerouslySetInnerHTML=="object"&&n.dangerouslySetInnerHTML!==null&&n.dangerouslySetInnerHTML.__html!=null}var Hl=typeof setTimeout=="function"?setTimeout:void 0,Nx=typeof clearTimeout=="function"?clearTimeout:void 0,nf=typeof Promise=="function"?Promise:void 0,bx=typeof queueMicrotask=="function"?queueMicrotask:typeof nf<"u"?function(t){return nf.resolve(null).then(t).catch(kx)}:Hl;function kx(t){setTimeout(function(){throw t})}function Wl(t,n){var o=n,c=0;do{var v=o.nextSibling;if(t.removeChild(o),v&&v.nodeType===8)if(o=v.data,o==="/$"){if(c===0){t.removeChild(v),Bi(n);return}c--}else o!=="$"&&o!=="$?"&&o!=="$!"||c++;o=v}while(o);Bi(n)}function Pn(t){for(;t!=null;t=t.nextSibling){var n=t.nodeType;if(n===1||n===3)break;if(n===8){if(n=t.data,n==="$"||n==="$!"||n==="$?")break;if(n==="/$")return null}}return t}function rf(t){t=t.previousSibling;for(var n=0;t;){if(t.nodeType===8){var o=t.data;if(o==="$"||o==="$!"||o==="$?"){if(n===0)return t;n--}else o==="/$"&&n++}t=t.previousSibling}return null}var Wr=Math.random().toString(36).slice(2),Zt="__reactFiber$"+Wr,qi="__reactProps$"+Wr,fn="__reactContainer$"+Wr,Ul="__reactEvents$"+Wr,Ex="__reactListeners$"+Wr,Sx="__reactHandles$"+Wr;function cr(t){var n=t[Zt];if(n)return n;for(var o=t.parentNode;o;){if(n=o[fn]||o[Zt]){if(o=n.alternate,n.child!==null||o!==null&&o.child!==null)for(t=rf(t);t!==null;){if(o=t[Zt])return o;t=rf(t)}return n}t=o,o=t.parentNode}return null}function Zi(t){return t=t[Zt]||t[fn],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function Ur(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(i(33))}function ks(t){return t[qi]||null}var Yl=[],Yr=-1;function An(t){return{current:t}}function De(t){0>Yr||(t.current=Yl[Yr],Yl[Yr]=null,Yr--)}function Te(t,n){Yr++,Yl[Yr]=t.current,t.current=n}var Tn={},at=An(Tn),xt=An(!1),dr=Tn;function Xr(t,n){var o=t.type.contextTypes;if(!o)return Tn;var c=t.stateNode;if(c&&c.__reactInternalMemoizedUnmaskedChildContext===n)return c.__reactInternalMemoizedMaskedChildContext;var v={},b;for(b in o)v[b]=n[b];return c&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=n,t.__reactInternalMemoizedMaskedChildContext=v),v}function vt(t){return t=t.childContextTypes,t!=null}function Es(){De(xt),De(at)}function of(t,n,o){if(at.current!==Tn)throw Error(i(168));Te(at,n),Te(xt,o)}function sf(t,n,o){var c=t.stateNode;if(n=n.childContextTypes,typeof c.getChildContext!="function")return o;c=c.getChildContext();for(var v in c)if(!(v in n))throw Error(i(108,q(t)||"Unknown",v));return H({},o,c)}function Ss(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||Tn,dr=at.current,Te(at,t),Te(xt,xt.current),!0}function af(t,n,o){var c=t.stateNode;if(!c)throw Error(i(169));o?(t=sf(t,n,dr),c.__reactInternalMemoizedMergedChildContext=t,De(xt),De(at),Te(at,t)):De(xt),Te(xt,o)}var hn=null,_s=!1,Xl=!1;function lf(t){hn===null?hn=[t]:hn.push(t)}function _x(t){_s=!0,lf(t)}function Rn(){if(!Xl&&hn!==null){Xl=!0;var t=0,n=Pe;try{var o=hn;for(Pe=1;t<o.length;t++){var c=o[t];do c=c(!0);while(c!==null)}hn=null,_s=!1}catch(v){throw hn!==null&&(hn=hn.slice(t+1)),ts(Pi,Rn),v}finally{Pe=n,Xl=!1}}return null}var Gr=[],Qr=0,Cs=null,js=0,It=[],Lt=0,fr=null,pn=1,mn="";function hr(t,n){Gr[Qr++]=js,Gr[Qr++]=Cs,Cs=t,js=n}function uf(t,n,o){It[Lt++]=pn,It[Lt++]=mn,It[Lt++]=fr,fr=t;var c=pn;t=mn;var v=32-Et(c)-1;c&=~(1<<v),o+=1;var b=32-Et(n)+v;if(30<b){var A=v-v%5;b=(c&(1<<A)-1).toString(32),c>>=A,v-=A,pn=1<<32-Et(n)+v|o<<v|c,mn=b+t}else pn=1<<b|o<<v|c,mn=t}function Gl(t){t.return!==null&&(hr(t,1),uf(t,1,0))}function Ql(t){for(;t===Cs;)Cs=Gr[--Qr],Gr[Qr]=null,js=Gr[--Qr],Gr[Qr]=null;for(;t===fr;)fr=It[--Lt],It[Lt]=null,mn=It[--Lt],It[Lt]=null,pn=It[--Lt],It[Lt]=null}var _t=null,Ct=null,Be=!1,Dt=null;function cf(t,n){var o=Rt(5,null,null,0);o.elementType="DELETED",o.stateNode=n,o.return=t,n=t.deletions,n===null?(t.deletions=[o],t.flags|=16):n.push(o)}function df(t,n){switch(t.tag){case 5:var o=t.type;return n=n.nodeType!==1||o.toLowerCase()!==n.nodeName.toLowerCase()?null:n,n!==null?(t.stateNode=n,_t=t,Ct=Pn(n.firstChild),!0):!1;case 6:return n=t.pendingProps===""||n.nodeType!==3?null:n,n!==null?(t.stateNode=n,_t=t,Ct=null,!0):!1;case 13:return n=n.nodeType!==8?null:n,n!==null?(o=fr!==null?{id:pn,overflow:mn}:null,t.memoizedState={dehydrated:n,treeContext:o,retryLane:1073741824},o=Rt(18,null,null,0),o.stateNode=n,o.return=t,t.child=o,_t=t,Ct=null,!0):!1;default:return!1}}function Kl(t){return(t.mode&1)!==0&&(t.flags&128)===0}function ql(t){if(Be){var n=Ct;if(n){var o=n;if(!df(t,n)){if(Kl(t))throw Error(i(418));n=Pn(o.nextSibling);var c=_t;n&&df(t,n)?cf(c,o):(t.flags=t.flags&-4097|2,Be=!1,_t=t)}}else{if(Kl(t))throw Error(i(418));t.flags=t.flags&-4097|2,Be=!1,_t=t}}}function ff(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;_t=t}function zs(t){if(t!==_t)return!1;if(!Be)return ff(t),Be=!0,!1;var n;if((n=t.tag!==3)&&!(n=t.tag!==5)&&(n=t.type,n=n!=="head"&&n!=="body"&&!Vl(t.type,t.memoizedProps)),n&&(n=Ct)){if(Kl(t))throw hf(),Error(i(418));for(;n;)cf(t,n),n=Pn(n.nextSibling)}if(ff(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(i(317));e:{for(t=t.nextSibling,n=0;t;){if(t.nodeType===8){var o=t.data;if(o==="/$"){if(n===0){Ct=Pn(t.nextSibling);break e}n--}else o!=="$"&&o!=="$!"&&o!=="$?"||n++}t=t.nextSibling}Ct=null}}else Ct=_t?Pn(t.stateNode.nextSibling):null;return!0}function hf(){for(var t=Ct;t;)t=Pn(t.nextSibling)}function Kr(){Ct=_t=null,Be=!1}function Zl(t){Dt===null?Dt=[t]:Dt.push(t)}var Cx=_.ReactCurrentBatchConfig;function Ji(t,n,o){if(t=o.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(o._owner){if(o=o._owner,o){if(o.tag!==1)throw Error(i(309));var c=o.stateNode}if(!c)throw Error(i(147,t));var v=c,b=""+t;return n!==null&&n.ref!==null&&typeof n.ref=="function"&&n.ref._stringRef===b?n.ref:(n=function(A){var te=v.refs;A===null?delete te[b]:te[b]=A},n._stringRef=b,n)}if(typeof t!="string")throw Error(i(284));if(!o._owner)throw Error(i(290,t))}return t}function Ms(t,n){throw t=Object.prototype.toString.call(n),Error(i(31,t==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":t))}function pf(t){var n=t._init;return n(t._payload)}function mf(t){function n(oe,re){if(t){var se=oe.deletions;se===null?(oe.deletions=[re],oe.flags|=16):se.push(re)}}function o(oe,re){if(!t)return null;for(;re!==null;)n(oe,re),re=re.sibling;return null}function c(oe,re){for(oe=new Map;re!==null;)re.key!==null?oe.set(re.key,re):oe.set(re.index,re),re=re.sibling;return oe}function v(oe,re){return oe=Wn(oe,re),oe.index=0,oe.sibling=null,oe}function b(oe,re,se){return oe.index=se,t?(se=oe.alternate,se!==null?(se=se.index,se<re?(oe.flags|=2,re):se):(oe.flags|=2,re)):(oe.flags|=1048576,re)}function A(oe){return t&&oe.alternate===null&&(oe.flags|=2),oe}function te(oe,re,se,fe){return re===null||re.tag!==6?(re=Hu(se,oe.mode,fe),re.return=oe,re):(re=v(re,se),re.return=oe,re)}function ne(oe,re,se,fe){var Ne=se.type;return Ne===F?ce(oe,re,se.props.children,fe,se.key):re!==null&&(re.elementType===Ne||typeof Ne=="object"&&Ne!==null&&Ne.$$typeof===$&&pf(Ne)===re.type)?(fe=v(re,se.props),fe.ref=Ji(oe,re,se),fe.return=oe,fe):(fe=ea(se.type,se.key,se.props,null,oe.mode,fe),fe.ref=Ji(oe,re,se),fe.return=oe,fe)}function ae(oe,re,se,fe){return re===null||re.tag!==4||re.stateNode.containerInfo!==se.containerInfo||re.stateNode.implementation!==se.implementation?(re=Wu(se,oe.mode,fe),re.return=oe,re):(re=v(re,se.children||[]),re.return=oe,re)}function ce(oe,re,se,fe,Ne){return re===null||re.tag!==7?(re=Nr(se,oe.mode,fe,Ne),re.return=oe,re):(re=v(re,se),re.return=oe,re)}function de(oe,re,se){if(typeof re=="string"&&re!==""||typeof re=="number")return re=Hu(""+re,oe.mode,se),re.return=oe,re;if(typeof re=="object"&&re!==null){switch(re.$$typeof){case M:return se=ea(re.type,re.key,re.props,null,oe.mode,se),se.ref=Ji(oe,null,re),se.return=oe,se;case O:return re=Wu(re,oe.mode,se),re.return=oe,re;case $:var fe=re._init;return de(oe,fe(re._payload),se)}if(je(re)||P(re))return re=Nr(re,oe.mode,se,null),re.return=oe,re;Ms(oe,re)}return null}function ue(oe,re,se,fe){var Ne=re!==null?re.key:null;if(typeof se=="string"&&se!==""||typeof se=="number")return Ne!==null?null:te(oe,re,""+se,fe);if(typeof se=="object"&&se!==null){switch(se.$$typeof){case M:return se.key===Ne?ne(oe,re,se,fe):null;case O:return se.key===Ne?ae(oe,re,se,fe):null;case $:return Ne=se._init,ue(oe,re,Ne(se._payload),fe)}if(je(se)||P(se))return Ne!==null?null:ce(oe,re,se,fe,null);Ms(oe,se)}return null}function ge(oe,re,se,fe,Ne){if(typeof fe=="string"&&fe!==""||typeof fe=="number")return oe=oe.get(se)||null,te(re,oe,""+fe,Ne);if(typeof fe=="object"&&fe!==null){switch(fe.$$typeof){case M:return oe=oe.get(fe.key===null?se:fe.key)||null,ne(re,oe,fe,Ne);case O:return oe=oe.get(fe.key===null?se:fe.key)||null,ae(re,oe,fe,Ne);case $:var Ee=fe._init;return ge(oe,re,se,Ee(fe._payload),Ne)}if(je(fe)||P(fe))return oe=oe.get(se)||null,ce(re,oe,fe,Ne,null);Ms(re,fe)}return null}function ve(oe,re,se,fe){for(var Ne=null,Ee=null,Se=re,_e=re=0,nt=null;Se!==null&&_e<se.length;_e++){Se.index>_e?(nt=Se,Se=null):nt=Se.sibling;var Le=ue(oe,Se,se[_e],fe);if(Le===null){Se===null&&(Se=nt);break}t&&Se&&Le.alternate===null&&n(oe,Se),re=b(Le,re,_e),Ee===null?Ne=Le:Ee.sibling=Le,Ee=Le,Se=nt}if(_e===se.length)return o(oe,Se),Be&&hr(oe,_e),Ne;if(Se===null){for(;_e<se.length;_e++)Se=de(oe,se[_e],fe),Se!==null&&(re=b(Se,re,_e),Ee===null?Ne=Se:Ee.sibling=Se,Ee=Se);return Be&&hr(oe,_e),Ne}for(Se=c(oe,Se);_e<se.length;_e++)nt=ge(Se,oe,_e,se[_e],fe),nt!==null&&(t&&nt.alternate!==null&&Se.delete(nt.key===null?_e:nt.key),re=b(nt,re,_e),Ee===null?Ne=nt:Ee.sibling=nt,Ee=nt);return t&&Se.forEach(function(Un){return n(oe,Un)}),Be&&hr(oe,_e),Ne}function we(oe,re,se,fe){var Ne=P(se);if(typeof Ne!="function")throw Error(i(150));if(se=Ne.call(se),se==null)throw Error(i(151));for(var Ee=Ne=null,Se=re,_e=re=0,nt=null,Le=se.next();Se!==null&&!Le.done;_e++,Le=se.next()){Se.index>_e?(nt=Se,Se=null):nt=Se.sibling;var Un=ue(oe,Se,Le.value,fe);if(Un===null){Se===null&&(Se=nt);break}t&&Se&&Un.alternate===null&&n(oe,Se),re=b(Un,re,_e),Ee===null?Ne=Un:Ee.sibling=Un,Ee=Un,Se=nt}if(Le.done)return o(oe,Se),Be&&hr(oe,_e),Ne;if(Se===null){for(;!Le.done;_e++,Le=se.next())Le=de(oe,Le.value,fe),Le!==null&&(re=b(Le,re,_e),Ee===null?Ne=Le:Ee.sibling=Le,Ee=Le);return Be&&hr(oe,_e),Ne}for(Se=c(oe,Se);!Le.done;_e++,Le=se.next())Le=ge(Se,oe,_e,Le.value,fe),Le!==null&&(t&&Le.alternate!==null&&Se.delete(Le.key===null?_e:Le.key),re=b(Le,re,_e),Ee===null?Ne=Le:Ee.sibling=Le,Ee=Le);return t&&Se.forEach(function(sv){return n(oe,sv)}),Be&&hr(oe,_e),Ne}function Xe(oe,re,se,fe){if(typeof se=="object"&&se!==null&&se.type===F&&se.key===null&&(se=se.props.children),typeof se=="object"&&se!==null){switch(se.$$typeof){case M:e:{for(var Ne=se.key,Ee=re;Ee!==null;){if(Ee.key===Ne){if(Ne=se.type,Ne===F){if(Ee.tag===7){o(oe,Ee.sibling),re=v(Ee,se.props.children),re.return=oe,oe=re;break e}}else if(Ee.elementType===Ne||typeof Ne=="object"&&Ne!==null&&Ne.$$typeof===$&&pf(Ne)===Ee.type){o(oe,Ee.sibling),re=v(Ee,se.props),re.ref=Ji(oe,Ee,se),re.return=oe,oe=re;break e}o(oe,Ee);break}else n(oe,Ee);Ee=Ee.sibling}se.type===F?(re=Nr(se.props.children,oe.mode,fe,se.key),re.return=oe,oe=re):(fe=ea(se.type,se.key,se.props,null,oe.mode,fe),fe.ref=Ji(oe,re,se),fe.return=oe,oe=fe)}return A(oe);case O:e:{for(Ee=se.key;re!==null;){if(re.key===Ee)if(re.tag===4&&re.stateNode.containerInfo===se.containerInfo&&re.stateNode.implementation===se.implementation){o(oe,re.sibling),re=v(re,se.children||[]),re.return=oe,oe=re;break e}else{o(oe,re);break}else n(oe,re);re=re.sibling}re=Wu(se,oe.mode,fe),re.return=oe,oe=re}return A(oe);case $:return Ee=se._init,Xe(oe,re,Ee(se._payload),fe)}if(je(se))return ve(oe,re,se,fe);if(P(se))return we(oe,re,se,fe);Ms(oe,se)}return typeof se=="string"&&se!==""||typeof se=="number"?(se=""+se,re!==null&&re.tag===6?(o(oe,re.sibling),re=v(re,se),re.return=oe,oe=re):(o(oe,re),re=Hu(se,oe.mode,fe),re.return=oe,oe=re),A(oe)):o(oe,re)}return Xe}var qr=mf(!0),gf=mf(!1),Is=An(null),Ls=null,Zr=null,Jl=null;function eu(){Jl=Zr=Ls=null}function tu(t){var n=Is.current;De(Is),t._currentValue=n}function nu(t,n,o){for(;t!==null;){var c=t.alternate;if((t.childLanes&n)!==n?(t.childLanes|=n,c!==null&&(c.childLanes|=n)):c!==null&&(c.childLanes&n)!==n&&(c.childLanes|=n),t===o)break;t=t.return}}function Jr(t,n){Ls=t,Jl=Zr=null,t=t.dependencies,t!==null&&t.firstContext!==null&&((t.lanes&n)!==0&&(yt=!0),t.firstContext=null)}function Pt(t){var n=t._currentValue;if(Jl!==t)if(t={context:t,memoizedValue:n,next:null},Zr===null){if(Ls===null)throw Error(i(308));Zr=t,Ls.dependencies={lanes:0,firstContext:t}}else Zr=Zr.next=t;return n}var pr=null;function ru(t){pr===null?pr=[t]:pr.push(t)}function xf(t,n,o,c){var v=n.interleaved;return v===null?(o.next=o,ru(n)):(o.next=v.next,v.next=o),n.interleaved=o,gn(t,c)}function gn(t,n){t.lanes|=n;var o=t.alternate;for(o!==null&&(o.lanes|=n),o=t,t=t.return;t!==null;)t.childLanes|=n,o=t.alternate,o!==null&&(o.childLanes|=n),o=t,t=t.return;return o.tag===3?o.stateNode:null}var On=!1;function iu(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function vf(t,n){t=t.updateQueue,n.updateQueue===t&&(n.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function xn(t,n){return{eventTime:t,lane:n,tag:0,payload:null,callback:null,next:null}}function Dn(t,n,o){var c=t.updateQueue;if(c===null)return null;if(c=c.shared,(Ie&2)!==0){var v=c.pending;return v===null?n.next=n:(n.next=v.next,v.next=n),c.pending=n,gn(t,o)}return v=c.interleaved,v===null?(n.next=n,ru(c)):(n.next=v.next,v.next=n),c.interleaved=n,gn(t,o)}function Ps(t,n,o){if(n=n.updateQueue,n!==null&&(n=n.shared,(o&4194240)!==0)){var c=n.lanes;c&=t.pendingLanes,o|=c,n.lanes=o,vl(t,o)}}function yf(t,n){var o=t.updateQueue,c=t.alternate;if(c!==null&&(c=c.updateQueue,o===c)){var v=null,b=null;if(o=o.firstBaseUpdate,o!==null){do{var A={eventTime:o.eventTime,lane:o.lane,tag:o.tag,payload:o.payload,callback:o.callback,next:null};b===null?v=b=A:b=b.next=A,o=o.next}while(o!==null);b===null?v=b=n:b=b.next=n}else v=b=n;o={baseState:c.baseState,firstBaseUpdate:v,lastBaseUpdate:b,shared:c.shared,effects:c.effects},t.updateQueue=o;return}t=o.lastBaseUpdate,t===null?o.firstBaseUpdate=n:t.next=n,o.lastBaseUpdate=n}function As(t,n,o,c){var v=t.updateQueue;On=!1;var b=v.firstBaseUpdate,A=v.lastBaseUpdate,te=v.shared.pending;if(te!==null){v.shared.pending=null;var ne=te,ae=ne.next;ne.next=null,A===null?b=ae:A.next=ae,A=ne;var ce=t.alternate;ce!==null&&(ce=ce.updateQueue,te=ce.lastBaseUpdate,te!==A&&(te===null?ce.firstBaseUpdate=ae:te.next=ae,ce.lastBaseUpdate=ne))}if(b!==null){var de=v.baseState;A=0,ce=ae=ne=null,te=b;do{var ue=te.lane,ge=te.eventTime;if((c&ue)===ue){ce!==null&&(ce=ce.next={eventTime:ge,lane:0,tag:te.tag,payload:te.payload,callback:te.callback,next:null});e:{var ve=t,we=te;switch(ue=n,ge=o,we.tag){case 1:if(ve=we.payload,typeof ve=="function"){de=ve.call(ge,de,ue);break e}de=ve;break e;case 3:ve.flags=ve.flags&-65537|128;case 0:if(ve=we.payload,ue=typeof ve=="function"?ve.call(ge,de,ue):ve,ue==null)break e;de=H({},de,ue);break e;case 2:On=!0}}te.callback!==null&&te.lane!==0&&(t.flags|=64,ue=v.effects,ue===null?v.effects=[te]:ue.push(te))}else ge={eventTime:ge,lane:ue,tag:te.tag,payload:te.payload,callback:te.callback,next:null},ce===null?(ae=ce=ge,ne=de):ce=ce.next=ge,A|=ue;if(te=te.next,te===null){if(te=v.shared.pending,te===null)break;ue=te,te=ue.next,ue.next=null,v.lastBaseUpdate=ue,v.shared.pending=null}}while(!0);if(ce===null&&(ne=de),v.baseState=ne,v.firstBaseUpdate=ae,v.lastBaseUpdate=ce,n=v.shared.interleaved,n!==null){v=n;do A|=v.lane,v=v.next;while(v!==n)}else b===null&&(v.shared.lanes=0);xr|=A,t.lanes=A,t.memoizedState=de}}function wf(t,n,o){if(t=n.effects,n.effects=null,t!==null)for(n=0;n<t.length;n++){var c=t[n],v=c.callback;if(v!==null){if(c.callback=null,c=o,typeof v!="function")throw Error(i(191,v));v.call(c)}}}var eo={},Jt=An(eo),to=An(eo),no=An(eo);function mr(t){if(t===eo)throw Error(i(174));return t}function ou(t,n){switch(Te(no,n),Te(to,t),Te(Jt,eo),t=n.nodeType,t){case 9:case 11:n=(n=n.documentElement)?n.namespaceURI:cn(null,"");break;default:t=t===8?n.parentNode:n,n=t.namespaceURI||null,t=t.tagName,n=cn(n,t)}De(Jt),Te(Jt,n)}function ei(){De(Jt),De(to),De(no)}function Nf(t){mr(no.current);var n=mr(Jt.current),o=cn(n,t.type);n!==o&&(Te(to,t),Te(Jt,o))}function su(t){to.current===t&&(De(Jt),De(to))}var We=An(0);function Ts(t){for(var n=t;n!==null;){if(n.tag===13){var o=n.memoizedState;if(o!==null&&(o=o.dehydrated,o===null||o.data==="$?"||o.data==="$!"))return n}else if(n.tag===19&&n.memoizedProps.revealOrder!==void 0){if((n.flags&128)!==0)return n}else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return null;n=n.return}n.sibling.return=n.return,n=n.sibling}return null}var au=[];function lu(){for(var t=0;t<au.length;t++)au[t]._workInProgressVersionPrimary=null;au.length=0}var Rs=_.ReactCurrentDispatcher,uu=_.ReactCurrentBatchConfig,gr=0,Ue=null,Ze=null,et=null,Os=!1,ro=!1,io=0,jx=0;function lt(){throw Error(i(321))}function cu(t,n){if(n===null)return!1;for(var o=0;o<n.length&&o<t.length;o++)if(!Ot(t[o],n[o]))return!1;return!0}function du(t,n,o,c,v,b){if(gr=b,Ue=n,n.memoizedState=null,n.updateQueue=null,n.lanes=0,Rs.current=t===null||t.memoizedState===null?Lx:Px,t=o(c,v),ro){b=0;do{if(ro=!1,io=0,25<=b)throw Error(i(301));b+=1,et=Ze=null,n.updateQueue=null,Rs.current=Ax,t=o(c,v)}while(ro)}if(Rs.current=Bs,n=Ze!==null&&Ze.next!==null,gr=0,et=Ze=Ue=null,Os=!1,n)throw Error(i(300));return t}function fu(){var t=io!==0;return io=0,t}function en(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return et===null?Ue.memoizedState=et=t:et=et.next=t,et}function At(){if(Ze===null){var t=Ue.alternate;t=t!==null?t.memoizedState:null}else t=Ze.next;var n=et===null?Ue.memoizedState:et.next;if(n!==null)et=n,Ze=t;else{if(t===null)throw Error(i(310));Ze=t,t={memoizedState:Ze.memoizedState,baseState:Ze.baseState,baseQueue:Ze.baseQueue,queue:Ze.queue,next:null},et===null?Ue.memoizedState=et=t:et=et.next=t}return et}function oo(t,n){return typeof n=="function"?n(t):n}function hu(t){var n=At(),o=n.queue;if(o===null)throw Error(i(311));o.lastRenderedReducer=t;var c=Ze,v=c.baseQueue,b=o.pending;if(b!==null){if(v!==null){var A=v.next;v.next=b.next,b.next=A}c.baseQueue=v=b,o.pending=null}if(v!==null){b=v.next,c=c.baseState;var te=A=null,ne=null,ae=b;do{var ce=ae.lane;if((gr&ce)===ce)ne!==null&&(ne=ne.next={lane:0,action:ae.action,hasEagerState:ae.hasEagerState,eagerState:ae.eagerState,next:null}),c=ae.hasEagerState?ae.eagerState:t(c,ae.action);else{var de={lane:ce,action:ae.action,hasEagerState:ae.hasEagerState,eagerState:ae.eagerState,next:null};ne===null?(te=ne=de,A=c):ne=ne.next=de,Ue.lanes|=ce,xr|=ce}ae=ae.next}while(ae!==null&&ae!==b);ne===null?A=c:ne.next=te,Ot(c,n.memoizedState)||(yt=!0),n.memoizedState=c,n.baseState=A,n.baseQueue=ne,o.lastRenderedState=c}if(t=o.interleaved,t!==null){v=t;do b=v.lane,Ue.lanes|=b,xr|=b,v=v.next;while(v!==t)}else v===null&&(o.lanes=0);return[n.memoizedState,o.dispatch]}function pu(t){var n=At(),o=n.queue;if(o===null)throw Error(i(311));o.lastRenderedReducer=t;var c=o.dispatch,v=o.pending,b=n.memoizedState;if(v!==null){o.pending=null;var A=v=v.next;do b=t(b,A.action),A=A.next;while(A!==v);Ot(b,n.memoizedState)||(yt=!0),n.memoizedState=b,n.baseQueue===null&&(n.baseState=b),o.lastRenderedState=b}return[b,c]}function bf(){}function kf(t,n){var o=Ue,c=At(),v=n(),b=!Ot(c.memoizedState,v);if(b&&(c.memoizedState=v,yt=!0),c=c.queue,mu(_f.bind(null,o,c,t),[t]),c.getSnapshot!==n||b||et!==null&&et.memoizedState.tag&1){if(o.flags|=2048,so(9,Sf.bind(null,o,c,v,n),void 0,null),tt===null)throw Error(i(349));(gr&30)!==0||Ef(o,n,v)}return v}function Ef(t,n,o){t.flags|=16384,t={getSnapshot:n,value:o},n=Ue.updateQueue,n===null?(n={lastEffect:null,stores:null},Ue.updateQueue=n,n.stores=[t]):(o=n.stores,o===null?n.stores=[t]:o.push(t))}function Sf(t,n,o,c){n.value=o,n.getSnapshot=c,Cf(n)&&jf(t)}function _f(t,n,o){return o(function(){Cf(n)&&jf(t)})}function Cf(t){var n=t.getSnapshot;t=t.value;try{var o=n();return!Ot(t,o)}catch{return!0}}function jf(t){var n=gn(t,1);n!==null&&Vt(n,t,1,-1)}function zf(t){var n=en();return typeof t=="function"&&(t=t()),n.memoizedState=n.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:oo,lastRenderedState:t},n.queue=t,t=t.dispatch=Ix.bind(null,Ue,t),[n.memoizedState,t]}function so(t,n,o,c){return t={tag:t,create:n,destroy:o,deps:c,next:null},n=Ue.updateQueue,n===null?(n={lastEffect:null,stores:null},Ue.updateQueue=n,n.lastEffect=t.next=t):(o=n.lastEffect,o===null?n.lastEffect=t.next=t:(c=o.next,o.next=t,t.next=c,n.lastEffect=t)),t}function Mf(){return At().memoizedState}function Ds(t,n,o,c){var v=en();Ue.flags|=t,v.memoizedState=so(1|n,o,void 0,c===void 0?null:c)}function $s(t,n,o,c){var v=At();c=c===void 0?null:c;var b=void 0;if(Ze!==null){var A=Ze.memoizedState;if(b=A.destroy,c!==null&&cu(c,A.deps)){v.memoizedState=so(n,o,b,c);return}}Ue.flags|=t,v.memoizedState=so(1|n,o,b,c)}function If(t,n){return Ds(8390656,8,t,n)}function mu(t,n){return $s(2048,8,t,n)}function Lf(t,n){return $s(4,2,t,n)}function Pf(t,n){return $s(4,4,t,n)}function Af(t,n){if(typeof n=="function")return t=t(),n(t),function(){n(null)};if(n!=null)return t=t(),n.current=t,function(){n.current=null}}function Tf(t,n,o){return o=o!=null?o.concat([t]):null,$s(4,4,Af.bind(null,n,t),o)}function gu(){}function Rf(t,n){var o=At();n=n===void 0?null:n;var c=o.memoizedState;return c!==null&&n!==null&&cu(n,c[1])?c[0]:(o.memoizedState=[t,n],t)}function Of(t,n){var o=At();n=n===void 0?null:n;var c=o.memoizedState;return c!==null&&n!==null&&cu(n,c[1])?c[0]:(t=t(),o.memoizedState=[t,n],t)}function Df(t,n,o){return(gr&21)===0?(t.baseState&&(t.baseState=!1,yt=!0),t.memoizedState=o):(Ot(o,n)||(o=Or(),Ue.lanes|=o,xr|=o,t.baseState=!0),n)}function zx(t,n){var o=Pe;Pe=o!==0&&4>o?o:4,t(!0);var c=uu.transition;uu.transition={};try{t(!1),n()}finally{Pe=o,uu.transition=c}}function $f(){return At().memoizedState}function Mx(t,n,o){var c=Vn(t);if(o={lane:c,action:o,hasEagerState:!1,eagerState:null,next:null},Bf(t))Ff(n,o);else if(o=xf(t,n,o,c),o!==null){var v=ht();Vt(o,t,c,v),Vf(o,n,c)}}function Ix(t,n,o){var c=Vn(t),v={lane:c,action:o,hasEagerState:!1,eagerState:null,next:null};if(Bf(t))Ff(n,v);else{var b=t.alternate;if(t.lanes===0&&(b===null||b.lanes===0)&&(b=n.lastRenderedReducer,b!==null))try{var A=n.lastRenderedState,te=b(A,o);if(v.hasEagerState=!0,v.eagerState=te,Ot(te,A)){var ne=n.interleaved;ne===null?(v.next=v,ru(n)):(v.next=ne.next,ne.next=v),n.interleaved=v;return}}catch{}finally{}o=xf(t,n,v,c),o!==null&&(v=ht(),Vt(o,t,c,v),Vf(o,n,c))}}function Bf(t){var n=t.alternate;return t===Ue||n!==null&&n===Ue}function Ff(t,n){ro=Os=!0;var o=t.pending;o===null?n.next=n:(n.next=o.next,o.next=n),t.pending=n}function Vf(t,n,o){if((o&4194240)!==0){var c=n.lanes;c&=t.pendingLanes,o|=c,n.lanes=o,vl(t,o)}}var Bs={readContext:Pt,useCallback:lt,useContext:lt,useEffect:lt,useImperativeHandle:lt,useInsertionEffect:lt,useLayoutEffect:lt,useMemo:lt,useReducer:lt,useRef:lt,useState:lt,useDebugValue:lt,useDeferredValue:lt,useTransition:lt,useMutableSource:lt,useSyncExternalStore:lt,useId:lt,unstable_isNewReconciler:!1},Lx={readContext:Pt,useCallback:function(t,n){return en().memoizedState=[t,n===void 0?null:n],t},useContext:Pt,useEffect:If,useImperativeHandle:function(t,n,o){return o=o!=null?o.concat([t]):null,Ds(4194308,4,Af.bind(null,n,t),o)},useLayoutEffect:function(t,n){return Ds(4194308,4,t,n)},useInsertionEffect:function(t,n){return Ds(4,2,t,n)},useMemo:function(t,n){var o=en();return n=n===void 0?null:n,t=t(),o.memoizedState=[t,n],t},useReducer:function(t,n,o){var c=en();return n=o!==void 0?o(n):n,c.memoizedState=c.baseState=n,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:n},c.queue=t,t=t.dispatch=Mx.bind(null,Ue,t),[c.memoizedState,t]},useRef:function(t){var n=en();return t={current:t},n.memoizedState=t},useState:zf,useDebugValue:gu,useDeferredValue:function(t){return en().memoizedState=t},useTransition:function(){var t=zf(!1),n=t[0];return t=zx.bind(null,t[1]),en().memoizedState=t,[n,t]},useMutableSource:function(){},useSyncExternalStore:function(t,n,o){var c=Ue,v=en();if(Be){if(o===void 0)throw Error(i(407));o=o()}else{if(o=n(),tt===null)throw Error(i(349));(gr&30)!==0||Ef(c,n,o)}v.memoizedState=o;var b={value:o,getSnapshot:n};return v.queue=b,If(_f.bind(null,c,b,t),[t]),c.flags|=2048,so(9,Sf.bind(null,c,b,o,n),void 0,null),o},useId:function(){var t=en(),n=tt.identifierPrefix;if(Be){var o=mn,c=pn;o=(c&~(1<<32-Et(c)-1)).toString(32)+o,n=":"+n+"R"+o,o=io++,0<o&&(n+="H"+o.toString(32)),n+=":"}else o=jx++,n=":"+n+"r"+o.toString(32)+":";return t.memoizedState=n},unstable_isNewReconciler:!1},Px={readContext:Pt,useCallback:Rf,useContext:Pt,useEffect:mu,useImperativeHandle:Tf,useInsertionEffect:Lf,useLayoutEffect:Pf,useMemo:Of,useReducer:hu,useRef:Mf,useState:function(){return hu(oo)},useDebugValue:gu,useDeferredValue:function(t){var n=At();return Df(n,Ze.memoizedState,t)},useTransition:function(){var t=hu(oo)[0],n=At().memoizedState;return[t,n]},useMutableSource:bf,useSyncExternalStore:kf,useId:$f,unstable_isNewReconciler:!1},Ax={readContext:Pt,useCallback:Rf,useContext:Pt,useEffect:mu,useImperativeHandle:Tf,useInsertionEffect:Lf,useLayoutEffect:Pf,useMemo:Of,useReducer:pu,useRef:Mf,useState:function(){return pu(oo)},useDebugValue:gu,useDeferredValue:function(t){var n=At();return Ze===null?n.memoizedState=t:Df(n,Ze.memoizedState,t)},useTransition:function(){var t=pu(oo)[0],n=At().memoizedState;return[t,n]},useMutableSource:bf,useSyncExternalStore:kf,useId:$f,unstable_isNewReconciler:!1};function $t(t,n){if(t&&t.defaultProps){n=H({},n),t=t.defaultProps;for(var o in t)n[o]===void 0&&(n[o]=t[o]);return n}return n}function xu(t,n,o,c){n=t.memoizedState,o=o(c,n),o=o==null?n:H({},n,o),t.memoizedState=o,t.lanes===0&&(t.updateQueue.baseState=o)}var Fs={isMounted:function(t){return(t=t._reactInternals)?Kt(t)===t:!1},enqueueSetState:function(t,n,o){t=t._reactInternals;var c=ht(),v=Vn(t),b=xn(c,v);b.payload=n,o!=null&&(b.callback=o),n=Dn(t,b,v),n!==null&&(Vt(n,t,v,c),Ps(n,t,v))},enqueueReplaceState:function(t,n,o){t=t._reactInternals;var c=ht(),v=Vn(t),b=xn(c,v);b.tag=1,b.payload=n,o!=null&&(b.callback=o),n=Dn(t,b,v),n!==null&&(Vt(n,t,v,c),Ps(n,t,v))},enqueueForceUpdate:function(t,n){t=t._reactInternals;var o=ht(),c=Vn(t),v=xn(o,c);v.tag=2,n!=null&&(v.callback=n),n=Dn(t,v,c),n!==null&&(Vt(n,t,c,o),Ps(n,t,c))}};function Hf(t,n,o,c,v,b,A){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(c,b,A):n.prototype&&n.prototype.isPureReactComponent?!Yi(o,c)||!Yi(v,b):!0}function Wf(t,n,o){var c=!1,v=Tn,b=n.contextType;return typeof b=="object"&&b!==null?b=Pt(b):(v=vt(n)?dr:at.current,c=n.contextTypes,b=(c=c!=null)?Xr(t,v):Tn),n=new n(o,b),t.memoizedState=n.state!==null&&n.state!==void 0?n.state:null,n.updater=Fs,t.stateNode=n,n._reactInternals=t,c&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=v,t.__reactInternalMemoizedMaskedChildContext=b),n}function Uf(t,n,o,c){t=n.state,typeof n.componentWillReceiveProps=="function"&&n.componentWillReceiveProps(o,c),typeof n.UNSAFE_componentWillReceiveProps=="function"&&n.UNSAFE_componentWillReceiveProps(o,c),n.state!==t&&Fs.enqueueReplaceState(n,n.state,null)}function vu(t,n,o,c){var v=t.stateNode;v.props=o,v.state=t.memoizedState,v.refs={},iu(t);var b=n.contextType;typeof b=="object"&&b!==null?v.context=Pt(b):(b=vt(n)?dr:at.current,v.context=Xr(t,b)),v.state=t.memoizedState,b=n.getDerivedStateFromProps,typeof b=="function"&&(xu(t,n,b,o),v.state=t.memoizedState),typeof n.getDerivedStateFromProps=="function"||typeof v.getSnapshotBeforeUpdate=="function"||typeof v.UNSAFE_componentWillMount!="function"&&typeof v.componentWillMount!="function"||(n=v.state,typeof v.componentWillMount=="function"&&v.componentWillMount(),typeof v.UNSAFE_componentWillMount=="function"&&v.UNSAFE_componentWillMount(),n!==v.state&&Fs.enqueueReplaceState(v,v.state,null),As(t,o,v,c),v.state=t.memoizedState),typeof v.componentDidMount=="function"&&(t.flags|=4194308)}function ti(t,n){try{var o="",c=n;do o+=T(c),c=c.return;while(c);var v=o}catch(b){v=`
Error generating stack: `+b.message+`
`+b.stack}return{value:t,source:n,stack:v,digest:null}}function yu(t,n,o){return{value:t,source:null,stack:o??null,digest:n??null}}function wu(t,n){try{console.error(n.value)}catch(o){setTimeout(function(){throw o})}}var Tx=typeof WeakMap=="function"?WeakMap:Map;function Yf(t,n,o){o=xn(-1,o),o.tag=3,o.payload={element:null};var c=n.value;return o.callback=function(){Gs||(Gs=!0,Tu=c),wu(t,n)},o}function Xf(t,n,o){o=xn(-1,o),o.tag=3;var c=t.type.getDerivedStateFromError;if(typeof c=="function"){var v=n.value;o.payload=function(){return c(v)},o.callback=function(){wu(t,n)}}var b=t.stateNode;return b!==null&&typeof b.componentDidCatch=="function"&&(o.callback=function(){wu(t,n),typeof c!="function"&&(Bn===null?Bn=new Set([this]):Bn.add(this));var A=n.stack;this.componentDidCatch(n.value,{componentStack:A!==null?A:""})}),o}function Gf(t,n,o){var c=t.pingCache;if(c===null){c=t.pingCache=new Tx;var v=new Set;c.set(n,v)}else v=c.get(n),v===void 0&&(v=new Set,c.set(n,v));v.has(o)||(v.add(o),t=Qx.bind(null,t,n,o),n.then(t,t))}function Qf(t){do{var n;if((n=t.tag===13)&&(n=t.memoizedState,n=n!==null?n.dehydrated!==null:!0),n)return t;t=t.return}while(t!==null);return null}function Kf(t,n,o,c,v){return(t.mode&1)===0?(t===n?t.flags|=65536:(t.flags|=128,o.flags|=131072,o.flags&=-52805,o.tag===1&&(o.alternate===null?o.tag=17:(n=xn(-1,1),n.tag=2,Dn(o,n,1))),o.lanes|=1),t):(t.flags|=65536,t.lanes=v,t)}var Rx=_.ReactCurrentOwner,yt=!1;function ft(t,n,o,c){n.child=t===null?gf(n,null,o,c):qr(n,t.child,o,c)}function qf(t,n,o,c,v){o=o.render;var b=n.ref;return Jr(n,v),c=du(t,n,o,c,b,v),o=fu(),t!==null&&!yt?(n.updateQueue=t.updateQueue,n.flags&=-2053,t.lanes&=~v,vn(t,n,v)):(Be&&o&&Gl(n),n.flags|=1,ft(t,n,c,v),n.child)}function Zf(t,n,o,c,v){if(t===null){var b=o.type;return typeof b=="function"&&!Vu(b)&&b.defaultProps===void 0&&o.compare===null&&o.defaultProps===void 0?(n.tag=15,n.type=b,Jf(t,n,b,c,v)):(t=ea(o.type,null,c,n,n.mode,v),t.ref=n.ref,t.return=n,n.child=t)}if(b=t.child,(t.lanes&v)===0){var A=b.memoizedProps;if(o=o.compare,o=o!==null?o:Yi,o(A,c)&&t.ref===n.ref)return vn(t,n,v)}return n.flags|=1,t=Wn(b,c),t.ref=n.ref,t.return=n,n.child=t}function Jf(t,n,o,c,v){if(t!==null){var b=t.memoizedProps;if(Yi(b,c)&&t.ref===n.ref)if(yt=!1,n.pendingProps=c=b,(t.lanes&v)!==0)(t.flags&131072)!==0&&(yt=!0);else return n.lanes=t.lanes,vn(t,n,v)}return Nu(t,n,o,c,v)}function eh(t,n,o){var c=n.pendingProps,v=c.children,b=t!==null?t.memoizedState:null;if(c.mode==="hidden")if((n.mode&1)===0)n.memoizedState={baseLanes:0,cachePool:null,transitions:null},Te(ri,jt),jt|=o;else{if((o&1073741824)===0)return t=b!==null?b.baseLanes|o:o,n.lanes=n.childLanes=1073741824,n.memoizedState={baseLanes:t,cachePool:null,transitions:null},n.updateQueue=null,Te(ri,jt),jt|=t,null;n.memoizedState={baseLanes:0,cachePool:null,transitions:null},c=b!==null?b.baseLanes:o,Te(ri,jt),jt|=c}else b!==null?(c=b.baseLanes|o,n.memoizedState=null):c=o,Te(ri,jt),jt|=c;return ft(t,n,v,o),n.child}function th(t,n){var o=n.ref;(t===null&&o!==null||t!==null&&t.ref!==o)&&(n.flags|=512,n.flags|=2097152)}function Nu(t,n,o,c,v){var b=vt(o)?dr:at.current;return b=Xr(n,b),Jr(n,v),o=du(t,n,o,c,b,v),c=fu(),t!==null&&!yt?(n.updateQueue=t.updateQueue,n.flags&=-2053,t.lanes&=~v,vn(t,n,v)):(Be&&c&&Gl(n),n.flags|=1,ft(t,n,o,v),n.child)}function nh(t,n,o,c,v){if(vt(o)){var b=!0;Ss(n)}else b=!1;if(Jr(n,v),n.stateNode===null)Hs(t,n),Wf(n,o,c),vu(n,o,c,v),c=!0;else if(t===null){var A=n.stateNode,te=n.memoizedProps;A.props=te;var ne=A.context,ae=o.contextType;typeof ae=="object"&&ae!==null?ae=Pt(ae):(ae=vt(o)?dr:at.current,ae=Xr(n,ae));var ce=o.getDerivedStateFromProps,de=typeof ce=="function"||typeof A.getSnapshotBeforeUpdate=="function";de||typeof A.UNSAFE_componentWillReceiveProps!="function"&&typeof A.componentWillReceiveProps!="function"||(te!==c||ne!==ae)&&Uf(n,A,c,ae),On=!1;var ue=n.memoizedState;A.state=ue,As(n,c,A,v),ne=n.memoizedState,te!==c||ue!==ne||xt.current||On?(typeof ce=="function"&&(xu(n,o,ce,c),ne=n.memoizedState),(te=On||Hf(n,o,te,c,ue,ne,ae))?(de||typeof A.UNSAFE_componentWillMount!="function"&&typeof A.componentWillMount!="function"||(typeof A.componentWillMount=="function"&&A.componentWillMount(),typeof A.UNSAFE_componentWillMount=="function"&&A.UNSAFE_componentWillMount()),typeof A.componentDidMount=="function"&&(n.flags|=4194308)):(typeof A.componentDidMount=="function"&&(n.flags|=4194308),n.memoizedProps=c,n.memoizedState=ne),A.props=c,A.state=ne,A.context=ae,c=te):(typeof A.componentDidMount=="function"&&(n.flags|=4194308),c=!1)}else{A=n.stateNode,vf(t,n),te=n.memoizedProps,ae=n.type===n.elementType?te:$t(n.type,te),A.props=ae,de=n.pendingProps,ue=A.context,ne=o.contextType,typeof ne=="object"&&ne!==null?ne=Pt(ne):(ne=vt(o)?dr:at.current,ne=Xr(n,ne));var ge=o.getDerivedStateFromProps;(ce=typeof ge=="function"||typeof A.getSnapshotBeforeUpdate=="function")||typeof A.UNSAFE_componentWillReceiveProps!="function"&&typeof A.componentWillReceiveProps!="function"||(te!==de||ue!==ne)&&Uf(n,A,c,ne),On=!1,ue=n.memoizedState,A.state=ue,As(n,c,A,v);var ve=n.memoizedState;te!==de||ue!==ve||xt.current||On?(typeof ge=="function"&&(xu(n,o,ge,c),ve=n.memoizedState),(ae=On||Hf(n,o,ae,c,ue,ve,ne)||!1)?(ce||typeof A.UNSAFE_componentWillUpdate!="function"&&typeof A.componentWillUpdate!="function"||(typeof A.componentWillUpdate=="function"&&A.componentWillUpdate(c,ve,ne),typeof A.UNSAFE_componentWillUpdate=="function"&&A.UNSAFE_componentWillUpdate(c,ve,ne)),typeof A.componentDidUpdate=="function"&&(n.flags|=4),typeof A.getSnapshotBeforeUpdate=="function"&&(n.flags|=1024)):(typeof A.componentDidUpdate!="function"||te===t.memoizedProps&&ue===t.memoizedState||(n.flags|=4),typeof A.getSnapshotBeforeUpdate!="function"||te===t.memoizedProps&&ue===t.memoizedState||(n.flags|=1024),n.memoizedProps=c,n.memoizedState=ve),A.props=c,A.state=ve,A.context=ne,c=ae):(typeof A.componentDidUpdate!="function"||te===t.memoizedProps&&ue===t.memoizedState||(n.flags|=4),typeof A.getSnapshotBeforeUpdate!="function"||te===t.memoizedProps&&ue===t.memoizedState||(n.flags|=1024),c=!1)}return bu(t,n,o,c,b,v)}function bu(t,n,o,c,v,b){th(t,n);var A=(n.flags&128)!==0;if(!c&&!A)return v&&af(n,o,!1),vn(t,n,b);c=n.stateNode,Rx.current=n;var te=A&&typeof o.getDerivedStateFromError!="function"?null:c.render();return n.flags|=1,t!==null&&A?(n.child=qr(n,t.child,null,b),n.child=qr(n,null,te,b)):ft(t,n,te,b),n.memoizedState=c.state,v&&af(n,o,!0),n.child}function rh(t){var n=t.stateNode;n.pendingContext?of(t,n.pendingContext,n.pendingContext!==n.context):n.context&&of(t,n.context,!1),ou(t,n.containerInfo)}function ih(t,n,o,c,v){return Kr(),Zl(v),n.flags|=256,ft(t,n,o,c),n.child}var ku={dehydrated:null,treeContext:null,retryLane:0};function Eu(t){return{baseLanes:t,cachePool:null,transitions:null}}function oh(t,n,o){var c=n.pendingProps,v=We.current,b=!1,A=(n.flags&128)!==0,te;if((te=A)||(te=t!==null&&t.memoizedState===null?!1:(v&2)!==0),te?(b=!0,n.flags&=-129):(t===null||t.memoizedState!==null)&&(v|=1),Te(We,v&1),t===null)return ql(n),t=n.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?((n.mode&1)===0?n.lanes=1:t.data==="$!"?n.lanes=8:n.lanes=1073741824,null):(A=c.children,t=c.fallback,b?(c=n.mode,b=n.child,A={mode:"hidden",children:A},(c&1)===0&&b!==null?(b.childLanes=0,b.pendingProps=A):b=ta(A,c,0,null),t=Nr(t,c,o,null),b.return=n,t.return=n,b.sibling=t,n.child=b,n.child.memoizedState=Eu(o),n.memoizedState=ku,t):Su(n,A));if(v=t.memoizedState,v!==null&&(te=v.dehydrated,te!==null))return Ox(t,n,A,c,te,v,o);if(b){b=c.fallback,A=n.mode,v=t.child,te=v.sibling;var ne={mode:"hidden",children:c.children};return(A&1)===0&&n.child!==v?(c=n.child,c.childLanes=0,c.pendingProps=ne,n.deletions=null):(c=Wn(v,ne),c.subtreeFlags=v.subtreeFlags&14680064),te!==null?b=Wn(te,b):(b=Nr(b,A,o,null),b.flags|=2),b.return=n,c.return=n,c.sibling=b,n.child=c,c=b,b=n.child,A=t.child.memoizedState,A=A===null?Eu(o):{baseLanes:A.baseLanes|o,cachePool:null,transitions:A.transitions},b.memoizedState=A,b.childLanes=t.childLanes&~o,n.memoizedState=ku,c}return b=t.child,t=b.sibling,c=Wn(b,{mode:"visible",children:c.children}),(n.mode&1)===0&&(c.lanes=o),c.return=n,c.sibling=null,t!==null&&(o=n.deletions,o===null?(n.deletions=[t],n.flags|=16):o.push(t)),n.child=c,n.memoizedState=null,c}function Su(t,n){return n=ta({mode:"visible",children:n},t.mode,0,null),n.return=t,t.child=n}function Vs(t,n,o,c){return c!==null&&Zl(c),qr(n,t.child,null,o),t=Su(n,n.pendingProps.children),t.flags|=2,n.memoizedState=null,t}function Ox(t,n,o,c,v,b,A){if(o)return n.flags&256?(n.flags&=-257,c=yu(Error(i(422))),Vs(t,n,A,c)):n.memoizedState!==null?(n.child=t.child,n.flags|=128,null):(b=c.fallback,v=n.mode,c=ta({mode:"visible",children:c.children},v,0,null),b=Nr(b,v,A,null),b.flags|=2,c.return=n,b.return=n,c.sibling=b,n.child=c,(n.mode&1)!==0&&qr(n,t.child,null,A),n.child.memoizedState=Eu(A),n.memoizedState=ku,b);if((n.mode&1)===0)return Vs(t,n,A,null);if(v.data==="$!"){if(c=v.nextSibling&&v.nextSibling.dataset,c)var te=c.dgst;return c=te,b=Error(i(419)),c=yu(b,c,void 0),Vs(t,n,A,c)}if(te=(A&t.childLanes)!==0,yt||te){if(c=tt,c!==null){switch(A&-A){case 4:v=2;break;case 16:v=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:v=32;break;case 536870912:v=268435456;break;default:v=0}v=(v&(c.suspendedLanes|A))!==0?0:v,v!==0&&v!==b.retryLane&&(b.retryLane=v,gn(t,v),Vt(c,t,v,-1))}return Fu(),c=yu(Error(i(421))),Vs(t,n,A,c)}return v.data==="$?"?(n.flags|=128,n.child=t.child,n=Kx.bind(null,t),v._reactRetry=n,null):(t=b.treeContext,Ct=Pn(v.nextSibling),_t=n,Be=!0,Dt=null,t!==null&&(It[Lt++]=pn,It[Lt++]=mn,It[Lt++]=fr,pn=t.id,mn=t.overflow,fr=n),n=Su(n,c.children),n.flags|=4096,n)}function sh(t,n,o){t.lanes|=n;var c=t.alternate;c!==null&&(c.lanes|=n),nu(t.return,n,o)}function _u(t,n,o,c,v){var b=t.memoizedState;b===null?t.memoizedState={isBackwards:n,rendering:null,renderingStartTime:0,last:c,tail:o,tailMode:v}:(b.isBackwards=n,b.rendering=null,b.renderingStartTime=0,b.last=c,b.tail=o,b.tailMode=v)}function ah(t,n,o){var c=n.pendingProps,v=c.revealOrder,b=c.tail;if(ft(t,n,c.children,o),c=We.current,(c&2)!==0)c=c&1|2,n.flags|=128;else{if(t!==null&&(t.flags&128)!==0)e:for(t=n.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&sh(t,o,n);else if(t.tag===19)sh(t,o,n);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===n)break e;for(;t.sibling===null;){if(t.return===null||t.return===n)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}c&=1}if(Te(We,c),(n.mode&1)===0)n.memoizedState=null;else switch(v){case"forwards":for(o=n.child,v=null;o!==null;)t=o.alternate,t!==null&&Ts(t)===null&&(v=o),o=o.sibling;o=v,o===null?(v=n.child,n.child=null):(v=o.sibling,o.sibling=null),_u(n,!1,v,o,b);break;case"backwards":for(o=null,v=n.child,n.child=null;v!==null;){if(t=v.alternate,t!==null&&Ts(t)===null){n.child=v;break}t=v.sibling,v.sibling=o,o=v,v=t}_u(n,!0,o,null,b);break;case"together":_u(n,!1,null,null,void 0);break;default:n.memoizedState=null}return n.child}function Hs(t,n){(n.mode&1)===0&&t!==null&&(t.alternate=null,n.alternate=null,n.flags|=2)}function vn(t,n,o){if(t!==null&&(n.dependencies=t.dependencies),xr|=n.lanes,(o&n.childLanes)===0)return null;if(t!==null&&n.child!==t.child)throw Error(i(153));if(n.child!==null){for(t=n.child,o=Wn(t,t.pendingProps),n.child=o,o.return=n;t.sibling!==null;)t=t.sibling,o=o.sibling=Wn(t,t.pendingProps),o.return=n;o.sibling=null}return n.child}function Dx(t,n,o){switch(n.tag){case 3:rh(n),Kr();break;case 5:Nf(n);break;case 1:vt(n.type)&&Ss(n);break;case 4:ou(n,n.stateNode.containerInfo);break;case 10:var c=n.type._context,v=n.memoizedProps.value;Te(Is,c._currentValue),c._currentValue=v;break;case 13:if(c=n.memoizedState,c!==null)return c.dehydrated!==null?(Te(We,We.current&1),n.flags|=128,null):(o&n.child.childLanes)!==0?oh(t,n,o):(Te(We,We.current&1),t=vn(t,n,o),t!==null?t.sibling:null);Te(We,We.current&1);break;case 19:if(c=(o&n.childLanes)!==0,(t.flags&128)!==0){if(c)return ah(t,n,o);n.flags|=128}if(v=n.memoizedState,v!==null&&(v.rendering=null,v.tail=null,v.lastEffect=null),Te(We,We.current),c)break;return null;case 22:case 23:return n.lanes=0,eh(t,n,o)}return vn(t,n,o)}var lh,Cu,uh,ch;lh=function(t,n){for(var o=n.child;o!==null;){if(o.tag===5||o.tag===6)t.appendChild(o.stateNode);else if(o.tag!==4&&o.child!==null){o.child.return=o,o=o.child;continue}if(o===n)break;for(;o.sibling===null;){if(o.return===null||o.return===n)return;o=o.return}o.sibling.return=o.return,o=o.sibling}},Cu=function(){},uh=function(t,n,o,c){var v=t.memoizedProps;if(v!==c){t=n.stateNode,mr(Jt.current);var b=null;switch(o){case"input":v=ye(t,v),c=ye(t,c),b=[];break;case"select":v=H({},v,{value:void 0}),c=H({},c,{value:void 0}),b=[];break;case"textarea":v=dt(t,v),c=dt(t,c),b=[];break;default:typeof v.onClick!="function"&&typeof c.onClick=="function"&&(t.onclick=bs)}ki(o,c);var A;o=null;for(ae in v)if(!c.hasOwnProperty(ae)&&v.hasOwnProperty(ae)&&v[ae]!=null)if(ae==="style"){var te=v[ae];for(A in te)te.hasOwnProperty(A)&&(o||(o={}),o[A]="")}else ae!=="dangerouslySetInnerHTML"&&ae!=="children"&&ae!=="suppressContentEditableWarning"&&ae!=="suppressHydrationWarning"&&ae!=="autoFocus"&&(a.hasOwnProperty(ae)?b||(b=[]):(b=b||[]).push(ae,null));for(ae in c){var ne=c[ae];if(te=v!=null?v[ae]:void 0,c.hasOwnProperty(ae)&&ne!==te&&(ne!=null||te!=null))if(ae==="style")if(te){for(A in te)!te.hasOwnProperty(A)||ne&&ne.hasOwnProperty(A)||(o||(o={}),o[A]="");for(A in ne)ne.hasOwnProperty(A)&&te[A]!==ne[A]&&(o||(o={}),o[A]=ne[A])}else o||(b||(b=[]),b.push(ae,o)),o=ne;else ae==="dangerouslySetInnerHTML"?(ne=ne?ne.__html:void 0,te=te?te.__html:void 0,ne!=null&&te!==ne&&(b=b||[]).push(ae,ne)):ae==="children"?typeof ne!="string"&&typeof ne!="number"||(b=b||[]).push(ae,""+ne):ae!=="suppressContentEditableWarning"&&ae!=="suppressHydrationWarning"&&(a.hasOwnProperty(ae)?(ne!=null&&ae==="onScroll"&&Oe("scroll",t),b||te===ne||(b=[])):(b=b||[]).push(ae,ne))}o&&(b=b||[]).push("style",o);var ae=b;(n.updateQueue=ae)&&(n.flags|=4)}},ch=function(t,n,o,c){o!==c&&(n.flags|=4)};function ao(t,n){if(!Be)switch(t.tailMode){case"hidden":n=t.tail;for(var o=null;n!==null;)n.alternate!==null&&(o=n),n=n.sibling;o===null?t.tail=null:o.sibling=null;break;case"collapsed":o=t.tail;for(var c=null;o!==null;)o.alternate!==null&&(c=o),o=o.sibling;c===null?n||t.tail===null?t.tail=null:t.tail.sibling=null:c.sibling=null}}function ut(t){var n=t.alternate!==null&&t.alternate.child===t.child,o=0,c=0;if(n)for(var v=t.child;v!==null;)o|=v.lanes|v.childLanes,c|=v.subtreeFlags&14680064,c|=v.flags&14680064,v.return=t,v=v.sibling;else for(v=t.child;v!==null;)o|=v.lanes|v.childLanes,c|=v.subtreeFlags,c|=v.flags,v.return=t,v=v.sibling;return t.subtreeFlags|=c,t.childLanes=o,n}function $x(t,n,o){var c=n.pendingProps;switch(Ql(n),n.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ut(n),null;case 1:return vt(n.type)&&Es(),ut(n),null;case 3:return c=n.stateNode,ei(),De(xt),De(at),lu(),c.pendingContext&&(c.context=c.pendingContext,c.pendingContext=null),(t===null||t.child===null)&&(zs(n)?n.flags|=4:t===null||t.memoizedState.isDehydrated&&(n.flags&256)===0||(n.flags|=1024,Dt!==null&&(Du(Dt),Dt=null))),Cu(t,n),ut(n),null;case 5:su(n);var v=mr(no.current);if(o=n.type,t!==null&&n.stateNode!=null)uh(t,n,o,c,v),t.ref!==n.ref&&(n.flags|=512,n.flags|=2097152);else{if(!c){if(n.stateNode===null)throw Error(i(166));return ut(n),null}if(t=mr(Jt.current),zs(n)){c=n.stateNode,o=n.type;var b=n.memoizedProps;switch(c[Zt]=n,c[qi]=b,t=(n.mode&1)!==0,o){case"dialog":Oe("cancel",c),Oe("close",c);break;case"iframe":case"object":case"embed":Oe("load",c);break;case"video":case"audio":for(v=0;v<Gi.length;v++)Oe(Gi[v],c);break;case"source":Oe("error",c);break;case"img":case"image":case"link":Oe("error",c),Oe("load",c);break;case"details":Oe("toggle",c);break;case"input":ke(c,b),Oe("invalid",c);break;case"select":c._wrapperState={wasMultiple:!!b.multiple},Oe("invalid",c);break;case"textarea":En(c,b),Oe("invalid",c)}ki(o,b),v=null;for(var A in b)if(b.hasOwnProperty(A)){var te=b[A];A==="children"?typeof te=="string"?c.textContent!==te&&(b.suppressHydrationWarning!==!0&&Ns(c.textContent,te,t),v=["children",te]):typeof te=="number"&&c.textContent!==""+te&&(b.suppressHydrationWarning!==!0&&Ns(c.textContent,te,t),v=["children",""+te]):a.hasOwnProperty(A)&&te!=null&&A==="onScroll"&&Oe("scroll",c)}switch(o){case"input":le(c),st(c,b,!0);break;case"textarea":le(c),nr(c);break;case"select":case"option":break;default:typeof b.onClick=="function"&&(c.onclick=bs)}c=v,n.updateQueue=c,c!==null&&(n.flags|=4)}else{A=v.nodeType===9?v:v.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=un(o)),t==="http://www.w3.org/1999/xhtml"?o==="script"?(t=A.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof c.is=="string"?t=A.createElement(o,{is:c.is}):(t=A.createElement(o),o==="select"&&(A=t,c.multiple?A.multiple=!0:c.size&&(A.size=c.size))):t=A.createElementNS(t,o),t[Zt]=n,t[qi]=c,lh(t,n,!1,!1),n.stateNode=t;e:{switch(A=Ei(o,c),o){case"dialog":Oe("cancel",t),Oe("close",t),v=c;break;case"iframe":case"object":case"embed":Oe("load",t),v=c;break;case"video":case"audio":for(v=0;v<Gi.length;v++)Oe(Gi[v],t);v=c;break;case"source":Oe("error",t),v=c;break;case"img":case"image":case"link":Oe("error",t),Oe("load",t),v=c;break;case"details":Oe("toggle",t),v=c;break;case"input":ke(t,c),v=ye(t,c),Oe("invalid",t);break;case"option":v=c;break;case"select":t._wrapperState={wasMultiple:!!c.multiple},v=H({},c,{value:void 0}),Oe("invalid",t);break;case"textarea":En(t,c),v=dt(t,c),Oe("invalid",t);break;default:v=c}ki(o,v),te=v;for(b in te)if(te.hasOwnProperty(b)){var ne=te[b];b==="style"?Yo(t,ne):b==="dangerouslySetInnerHTML"?(ne=ne?ne.__html:void 0,ne!=null&&Wo(t,ne)):b==="children"?typeof ne=="string"?(o!=="textarea"||ne!=="")&&dn(t,ne):typeof ne=="number"&&dn(t,""+ne):b!=="suppressContentEditableWarning"&&b!=="suppressHydrationWarning"&&b!=="autoFocus"&&(a.hasOwnProperty(b)?ne!=null&&b==="onScroll"&&Oe("scroll",t):ne!=null&&E(t,b,ne,A))}switch(o){case"input":le(t),st(t,c,!1);break;case"textarea":le(t),nr(t);break;case"option":c.value!=null&&t.setAttribute("value",""+U(c.value));break;case"select":t.multiple=!!c.multiple,b=c.value,b!=null?$e(t,!!c.multiple,b,!1):c.defaultValue!=null&&$e(t,!!c.multiple,c.defaultValue,!0);break;default:typeof v.onClick=="function"&&(t.onclick=bs)}switch(o){case"button":case"input":case"select":case"textarea":c=!!c.autoFocus;break e;case"img":c=!0;break e;default:c=!1}}c&&(n.flags|=4)}n.ref!==null&&(n.flags|=512,n.flags|=2097152)}return ut(n),null;case 6:if(t&&n.stateNode!=null)ch(t,n,t.memoizedProps,c);else{if(typeof c!="string"&&n.stateNode===null)throw Error(i(166));if(o=mr(no.current),mr(Jt.current),zs(n)){if(c=n.stateNode,o=n.memoizedProps,c[Zt]=n,(b=c.nodeValue!==o)&&(t=_t,t!==null))switch(t.tag){case 3:Ns(c.nodeValue,o,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&Ns(c.nodeValue,o,(t.mode&1)!==0)}b&&(n.flags|=4)}else c=(o.nodeType===9?o:o.ownerDocument).createTextNode(c),c[Zt]=n,n.stateNode=c}return ut(n),null;case 13:if(De(We),c=n.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(Be&&Ct!==null&&(n.mode&1)!==0&&(n.flags&128)===0)hf(),Kr(),n.flags|=98560,b=!1;else if(b=zs(n),c!==null&&c.dehydrated!==null){if(t===null){if(!b)throw Error(i(318));if(b=n.memoizedState,b=b!==null?b.dehydrated:null,!b)throw Error(i(317));b[Zt]=n}else Kr(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;ut(n),b=!1}else Dt!==null&&(Du(Dt),Dt=null),b=!0;if(!b)return n.flags&65536?n:null}return(n.flags&128)!==0?(n.lanes=o,n):(c=c!==null,c!==(t!==null&&t.memoizedState!==null)&&c&&(n.child.flags|=8192,(n.mode&1)!==0&&(t===null||(We.current&1)!==0?Je===0&&(Je=3):Fu())),n.updateQueue!==null&&(n.flags|=4),ut(n),null);case 4:return ei(),Cu(t,n),t===null&&Qi(n.stateNode.containerInfo),ut(n),null;case 10:return tu(n.type._context),ut(n),null;case 17:return vt(n.type)&&Es(),ut(n),null;case 19:if(De(We),b=n.memoizedState,b===null)return ut(n),null;if(c=(n.flags&128)!==0,A=b.rendering,A===null)if(c)ao(b,!1);else{if(Je!==0||t!==null&&(t.flags&128)!==0)for(t=n.child;t!==null;){if(A=Ts(t),A!==null){for(n.flags|=128,ao(b,!1),c=A.updateQueue,c!==null&&(n.updateQueue=c,n.flags|=4),n.subtreeFlags=0,c=o,o=n.child;o!==null;)b=o,t=c,b.flags&=14680066,A=b.alternate,A===null?(b.childLanes=0,b.lanes=t,b.child=null,b.subtreeFlags=0,b.memoizedProps=null,b.memoizedState=null,b.updateQueue=null,b.dependencies=null,b.stateNode=null):(b.childLanes=A.childLanes,b.lanes=A.lanes,b.child=A.child,b.subtreeFlags=0,b.deletions=null,b.memoizedProps=A.memoizedProps,b.memoizedState=A.memoizedState,b.updateQueue=A.updateQueue,b.type=A.type,t=A.dependencies,b.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),o=o.sibling;return Te(We,We.current&1|2),n.child}t=t.sibling}b.tail!==null&&He()>ii&&(n.flags|=128,c=!0,ao(b,!1),n.lanes=4194304)}else{if(!c)if(t=Ts(A),t!==null){if(n.flags|=128,c=!0,o=t.updateQueue,o!==null&&(n.updateQueue=o,n.flags|=4),ao(b,!0),b.tail===null&&b.tailMode==="hidden"&&!A.alternate&&!Be)return ut(n),null}else 2*He()-b.renderingStartTime>ii&&o!==1073741824&&(n.flags|=128,c=!0,ao(b,!1),n.lanes=4194304);b.isBackwards?(A.sibling=n.child,n.child=A):(o=b.last,o!==null?o.sibling=A:n.child=A,b.last=A)}return b.tail!==null?(n=b.tail,b.rendering=n,b.tail=n.sibling,b.renderingStartTime=He(),n.sibling=null,o=We.current,Te(We,c?o&1|2:o&1),n):(ut(n),null);case 22:case 23:return Bu(),c=n.memoizedState!==null,t!==null&&t.memoizedState!==null!==c&&(n.flags|=8192),c&&(n.mode&1)!==0?(jt&1073741824)!==0&&(ut(n),n.subtreeFlags&6&&(n.flags|=8192)):ut(n),null;case 24:return null;case 25:return null}throw Error(i(156,n.tag))}function Bx(t,n){switch(Ql(n),n.tag){case 1:return vt(n.type)&&Es(),t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 3:return ei(),De(xt),De(at),lu(),t=n.flags,(t&65536)!==0&&(t&128)===0?(n.flags=t&-65537|128,n):null;case 5:return su(n),null;case 13:if(De(We),t=n.memoizedState,t!==null&&t.dehydrated!==null){if(n.alternate===null)throw Error(i(340));Kr()}return t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 19:return De(We),null;case 4:return ei(),null;case 10:return tu(n.type._context),null;case 22:case 23:return Bu(),null;case 24:return null;default:return null}}var Ws=!1,ct=!1,Fx=typeof WeakSet=="function"?WeakSet:Set,xe=null;function ni(t,n){var o=t.ref;if(o!==null)if(typeof o=="function")try{o(null)}catch(c){Ye(t,n,c)}else o.current=null}function ju(t,n,o){try{o()}catch(c){Ye(t,n,c)}}var dh=!1;function Vx(t,n){if(Bl=cs,t=Vd(),Ll(t)){if("selectionStart"in t)var o={start:t.selectionStart,end:t.selectionEnd};else e:{o=(o=t.ownerDocument)&&o.defaultView||window;var c=o.getSelection&&o.getSelection();if(c&&c.rangeCount!==0){o=c.anchorNode;var v=c.anchorOffset,b=c.focusNode;c=c.focusOffset;try{o.nodeType,b.nodeType}catch{o=null;break e}var A=0,te=-1,ne=-1,ae=0,ce=0,de=t,ue=null;t:for(;;){for(var ge;de!==o||v!==0&&de.nodeType!==3||(te=A+v),de!==b||c!==0&&de.nodeType!==3||(ne=A+c),de.nodeType===3&&(A+=de.nodeValue.length),(ge=de.firstChild)!==null;)ue=de,de=ge;for(;;){if(de===t)break t;if(ue===o&&++ae===v&&(te=A),ue===b&&++ce===c&&(ne=A),(ge=de.nextSibling)!==null)break;de=ue,ue=de.parentNode}de=ge}o=te===-1||ne===-1?null:{start:te,end:ne}}else o=null}o=o||{start:0,end:0}}else o=null;for(Fl={focusedElem:t,selectionRange:o},cs=!1,xe=n;xe!==null;)if(n=xe,t=n.child,(n.subtreeFlags&1028)!==0&&t!==null)t.return=n,xe=t;else for(;xe!==null;){n=xe;try{var ve=n.alternate;if((n.flags&1024)!==0)switch(n.tag){case 0:case 11:case 15:break;case 1:if(ve!==null){var we=ve.memoizedProps,Xe=ve.memoizedState,oe=n.stateNode,re=oe.getSnapshotBeforeUpdate(n.elementType===n.type?we:$t(n.type,we),Xe);oe.__reactInternalSnapshotBeforeUpdate=re}break;case 3:var se=n.stateNode.containerInfo;se.nodeType===1?se.textContent="":se.nodeType===9&&se.documentElement&&se.removeChild(se.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(i(163))}}catch(fe){Ye(n,n.return,fe)}if(t=n.sibling,t!==null){t.return=n.return,xe=t;break}xe=n.return}return ve=dh,dh=!1,ve}function lo(t,n,o){var c=n.updateQueue;if(c=c!==null?c.lastEffect:null,c!==null){var v=c=c.next;do{if((v.tag&t)===t){var b=v.destroy;v.destroy=void 0,b!==void 0&&ju(n,o,b)}v=v.next}while(v!==c)}}function Us(t,n){if(n=n.updateQueue,n=n!==null?n.lastEffect:null,n!==null){var o=n=n.next;do{if((o.tag&t)===t){var c=o.create;o.destroy=c()}o=o.next}while(o!==n)}}function zu(t){var n=t.ref;if(n!==null){var o=t.stateNode;switch(t.tag){case 5:t=o;break;default:t=o}typeof n=="function"?n(t):n.current=t}}function fh(t){var n=t.alternate;n!==null&&(t.alternate=null,fh(n)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(n=t.stateNode,n!==null&&(delete n[Zt],delete n[qi],delete n[Ul],delete n[Ex],delete n[Sx])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function hh(t){return t.tag===5||t.tag===3||t.tag===4}function ph(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||hh(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Mu(t,n,o){var c=t.tag;if(c===5||c===6)t=t.stateNode,n?o.nodeType===8?o.parentNode.insertBefore(t,n):o.insertBefore(t,n):(o.nodeType===8?(n=o.parentNode,n.insertBefore(t,o)):(n=o,n.appendChild(t)),o=o._reactRootContainer,o!=null||n.onclick!==null||(n.onclick=bs));else if(c!==4&&(t=t.child,t!==null))for(Mu(t,n,o),t=t.sibling;t!==null;)Mu(t,n,o),t=t.sibling}function Iu(t,n,o){var c=t.tag;if(c===5||c===6)t=t.stateNode,n?o.insertBefore(t,n):o.appendChild(t);else if(c!==4&&(t=t.child,t!==null))for(Iu(t,n,o),t=t.sibling;t!==null;)Iu(t,n,o),t=t.sibling}var it=null,Bt=!1;function $n(t,n,o){for(o=o.child;o!==null;)mh(t,n,o),o=o.sibling}function mh(t,n,o){if(Mt&&typeof Mt.onCommitFiberUnmount=="function")try{Mt.onCommitFiberUnmount(lr,o)}catch{}switch(o.tag){case 5:ct||ni(o,n);case 6:var c=it,v=Bt;it=null,$n(t,n,o),it=c,Bt=v,it!==null&&(Bt?(t=it,o=o.stateNode,t.nodeType===8?t.parentNode.removeChild(o):t.removeChild(o)):it.removeChild(o.stateNode));break;case 18:it!==null&&(Bt?(t=it,o=o.stateNode,t.nodeType===8?Wl(t.parentNode,o):t.nodeType===1&&Wl(t,o),Bi(t)):Wl(it,o.stateNode));break;case 4:c=it,v=Bt,it=o.stateNode.containerInfo,Bt=!0,$n(t,n,o),it=c,Bt=v;break;case 0:case 11:case 14:case 15:if(!ct&&(c=o.updateQueue,c!==null&&(c=c.lastEffect,c!==null))){v=c=c.next;do{var b=v,A=b.destroy;b=b.tag,A!==void 0&&((b&2)!==0||(b&4)!==0)&&ju(o,n,A),v=v.next}while(v!==c)}$n(t,n,o);break;case 1:if(!ct&&(ni(o,n),c=o.stateNode,typeof c.componentWillUnmount=="function"))try{c.props=o.memoizedProps,c.state=o.memoizedState,c.componentWillUnmount()}catch(te){Ye(o,n,te)}$n(t,n,o);break;case 21:$n(t,n,o);break;case 22:o.mode&1?(ct=(c=ct)||o.memoizedState!==null,$n(t,n,o),ct=c):$n(t,n,o);break;default:$n(t,n,o)}}function gh(t){var n=t.updateQueue;if(n!==null){t.updateQueue=null;var o=t.stateNode;o===null&&(o=t.stateNode=new Fx),n.forEach(function(c){var v=qx.bind(null,t,c);o.has(c)||(o.add(c),c.then(v,v))})}}function Ft(t,n){var o=n.deletions;if(o!==null)for(var c=0;c<o.length;c++){var v=o[c];try{var b=t,A=n,te=A;e:for(;te!==null;){switch(te.tag){case 5:it=te.stateNode,Bt=!1;break e;case 3:it=te.stateNode.containerInfo,Bt=!0;break e;case 4:it=te.stateNode.containerInfo,Bt=!0;break e}te=te.return}if(it===null)throw Error(i(160));mh(b,A,v),it=null,Bt=!1;var ne=v.alternate;ne!==null&&(ne.return=null),v.return=null}catch(ae){Ye(v,n,ae)}}if(n.subtreeFlags&12854)for(n=n.child;n!==null;)xh(n,t),n=n.sibling}function xh(t,n){var o=t.alternate,c=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(Ft(n,t),tn(t),c&4){try{lo(3,t,t.return),Us(3,t)}catch(we){Ye(t,t.return,we)}try{lo(5,t,t.return)}catch(we){Ye(t,t.return,we)}}break;case 1:Ft(n,t),tn(t),c&512&&o!==null&&ni(o,o.return);break;case 5:if(Ft(n,t),tn(t),c&512&&o!==null&&ni(o,o.return),t.flags&32){var v=t.stateNode;try{dn(v,"")}catch(we){Ye(t,t.return,we)}}if(c&4&&(v=t.stateNode,v!=null)){var b=t.memoizedProps,A=o!==null?o.memoizedProps:b,te=t.type,ne=t.updateQueue;if(t.updateQueue=null,ne!==null)try{te==="input"&&b.type==="radio"&&b.name!=null&&Ce(v,b),Ei(te,A);var ae=Ei(te,b);for(A=0;A<ne.length;A+=2){var ce=ne[A],de=ne[A+1];ce==="style"?Yo(v,de):ce==="dangerouslySetInnerHTML"?Wo(v,de):ce==="children"?dn(v,de):E(v,ce,de,ae)}switch(te){case"input":Re(v,b);break;case"textarea":Mr(v,b);break;case"select":var ue=v._wrapperState.wasMultiple;v._wrapperState.wasMultiple=!!b.multiple;var ge=b.value;ge!=null?$e(v,!!b.multiple,ge,!1):ue!==!!b.multiple&&(b.defaultValue!=null?$e(v,!!b.multiple,b.defaultValue,!0):$e(v,!!b.multiple,b.multiple?[]:"",!1))}v[qi]=b}catch(we){Ye(t,t.return,we)}}break;case 6:if(Ft(n,t),tn(t),c&4){if(t.stateNode===null)throw Error(i(162));v=t.stateNode,b=t.memoizedProps;try{v.nodeValue=b}catch(we){Ye(t,t.return,we)}}break;case 3:if(Ft(n,t),tn(t),c&4&&o!==null&&o.memoizedState.isDehydrated)try{Bi(n.containerInfo)}catch(we){Ye(t,t.return,we)}break;case 4:Ft(n,t),tn(t);break;case 13:Ft(n,t),tn(t),v=t.child,v.flags&8192&&(b=v.memoizedState!==null,v.stateNode.isHidden=b,!b||v.alternate!==null&&v.alternate.memoizedState!==null||(Au=He())),c&4&&gh(t);break;case 22:if(ce=o!==null&&o.memoizedState!==null,t.mode&1?(ct=(ae=ct)||ce,Ft(n,t),ct=ae):Ft(n,t),tn(t),c&8192){if(ae=t.memoizedState!==null,(t.stateNode.isHidden=ae)&&!ce&&(t.mode&1)!==0)for(xe=t,ce=t.child;ce!==null;){for(de=xe=ce;xe!==null;){switch(ue=xe,ge=ue.child,ue.tag){case 0:case 11:case 14:case 15:lo(4,ue,ue.return);break;case 1:ni(ue,ue.return);var ve=ue.stateNode;if(typeof ve.componentWillUnmount=="function"){c=ue,o=ue.return;try{n=c,ve.props=n.memoizedProps,ve.state=n.memoizedState,ve.componentWillUnmount()}catch(we){Ye(c,o,we)}}break;case 5:ni(ue,ue.return);break;case 22:if(ue.memoizedState!==null){wh(de);continue}}ge!==null?(ge.return=ue,xe=ge):wh(de)}ce=ce.sibling}e:for(ce=null,de=t;;){if(de.tag===5){if(ce===null){ce=de;try{v=de.stateNode,ae?(b=v.style,typeof b.setProperty=="function"?b.setProperty("display","none","important"):b.display="none"):(te=de.stateNode,ne=de.memoizedProps.style,A=ne!=null&&ne.hasOwnProperty("display")?ne.display:null,te.style.display=Uo("display",A))}catch(we){Ye(t,t.return,we)}}}else if(de.tag===6){if(ce===null)try{de.stateNode.nodeValue=ae?"":de.memoizedProps}catch(we){Ye(t,t.return,we)}}else if((de.tag!==22&&de.tag!==23||de.memoizedState===null||de===t)&&de.child!==null){de.child.return=de,de=de.child;continue}if(de===t)break e;for(;de.sibling===null;){if(de.return===null||de.return===t)break e;ce===de&&(ce=null),de=de.return}ce===de&&(ce=null),de.sibling.return=de.return,de=de.sibling}}break;case 19:Ft(n,t),tn(t),c&4&&gh(t);break;case 21:break;default:Ft(n,t),tn(t)}}function tn(t){var n=t.flags;if(n&2){try{e:{for(var o=t.return;o!==null;){if(hh(o)){var c=o;break e}o=o.return}throw Error(i(160))}switch(c.tag){case 5:var v=c.stateNode;c.flags&32&&(dn(v,""),c.flags&=-33);var b=ph(t);Iu(t,b,v);break;case 3:case 4:var A=c.stateNode.containerInfo,te=ph(t);Mu(t,te,A);break;default:throw Error(i(161))}}catch(ne){Ye(t,t.return,ne)}t.flags&=-3}n&4096&&(t.flags&=-4097)}function Hx(t,n,o){xe=t,vh(t)}function vh(t,n,o){for(var c=(t.mode&1)!==0;xe!==null;){var v=xe,b=v.child;if(v.tag===22&&c){var A=v.memoizedState!==null||Ws;if(!A){var te=v.alternate,ne=te!==null&&te.memoizedState!==null||ct;te=Ws;var ae=ct;if(Ws=A,(ct=ne)&&!ae)for(xe=v;xe!==null;)A=xe,ne=A.child,A.tag===22&&A.memoizedState!==null?Nh(v):ne!==null?(ne.return=A,xe=ne):Nh(v);for(;b!==null;)xe=b,vh(b),b=b.sibling;xe=v,Ws=te,ct=ae}yh(t)}else(v.subtreeFlags&8772)!==0&&b!==null?(b.return=v,xe=b):yh(t)}}function yh(t){for(;xe!==null;){var n=xe;if((n.flags&8772)!==0){var o=n.alternate;try{if((n.flags&8772)!==0)switch(n.tag){case 0:case 11:case 15:ct||Us(5,n);break;case 1:var c=n.stateNode;if(n.flags&4&&!ct)if(o===null)c.componentDidMount();else{var v=n.elementType===n.type?o.memoizedProps:$t(n.type,o.memoizedProps);c.componentDidUpdate(v,o.memoizedState,c.__reactInternalSnapshotBeforeUpdate)}var b=n.updateQueue;b!==null&&wf(n,b,c);break;case 3:var A=n.updateQueue;if(A!==null){if(o=null,n.child!==null)switch(n.child.tag){case 5:o=n.child.stateNode;break;case 1:o=n.child.stateNode}wf(n,A,o)}break;case 5:var te=n.stateNode;if(o===null&&n.flags&4){o=te;var ne=n.memoizedProps;switch(n.type){case"button":case"input":case"select":case"textarea":ne.autoFocus&&o.focus();break;case"img":ne.src&&(o.src=ne.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(n.memoizedState===null){var ae=n.alternate;if(ae!==null){var ce=ae.memoizedState;if(ce!==null){var de=ce.dehydrated;de!==null&&Bi(de)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(i(163))}ct||n.flags&512&&zu(n)}catch(ue){Ye(n,n.return,ue)}}if(n===t){xe=null;break}if(o=n.sibling,o!==null){o.return=n.return,xe=o;break}xe=n.return}}function wh(t){for(;xe!==null;){var n=xe;if(n===t){xe=null;break}var o=n.sibling;if(o!==null){o.return=n.return,xe=o;break}xe=n.return}}function Nh(t){for(;xe!==null;){var n=xe;try{switch(n.tag){case 0:case 11:case 15:var o=n.return;try{Us(4,n)}catch(ne){Ye(n,o,ne)}break;case 1:var c=n.stateNode;if(typeof c.componentDidMount=="function"){var v=n.return;try{c.componentDidMount()}catch(ne){Ye(n,v,ne)}}var b=n.return;try{zu(n)}catch(ne){Ye(n,b,ne)}break;case 5:var A=n.return;try{zu(n)}catch(ne){Ye(n,A,ne)}}}catch(ne){Ye(n,n.return,ne)}if(n===t){xe=null;break}var te=n.sibling;if(te!==null){te.return=n.return,xe=te;break}xe=n.return}}var Wx=Math.ceil,Ys=_.ReactCurrentDispatcher,Lu=_.ReactCurrentOwner,Tt=_.ReactCurrentBatchConfig,Ie=0,tt=null,Qe=null,ot=0,jt=0,ri=An(0),Je=0,uo=null,xr=0,Xs=0,Pu=0,co=null,wt=null,Au=0,ii=1/0,yn=null,Gs=!1,Tu=null,Bn=null,Qs=!1,Fn=null,Ks=0,fo=0,Ru=null,qs=-1,Zs=0;function ht(){return(Ie&6)!==0?He():qs!==-1?qs:qs=He()}function Vn(t){return(t.mode&1)===0?1:(Ie&2)!==0&&ot!==0?ot&-ot:Cx.transition!==null?(Zs===0&&(Zs=Or()),Zs):(t=Pe,t!==0||(t=window.event,t=t===void 0?16:bd(t.type)),t)}function Vt(t,n,o,c){if(50<fo)throw fo=0,Ru=null,Error(i(185));ur(t,o,c),((Ie&2)===0||t!==tt)&&(t===tt&&((Ie&2)===0&&(Xs|=o),Je===4&&Hn(t,ot)),Nt(t,c),o===1&&Ie===0&&(n.mode&1)===0&&(ii=He()+500,_s&&Rn()))}function Nt(t,n){var o=t.callbackNode;xl(t,n);var c=Rr(t,t===tt?ot:0);if(c===0)o!==null&&ns(o),t.callbackNode=null,t.callbackPriority=0;else if(n=c&-c,t.callbackPriority!==n){if(o!=null&&ns(o),n===1)t.tag===0?_x(kh.bind(null,t)):lf(kh.bind(null,t)),bx(function(){(Ie&6)===0&&Rn()}),o=null;else{switch(pd(c)){case 1:o=Pi;break;case 4:o=is;break;case 16:o=Pr;break;case 536870912:o=os;break;default:o=Pr}o=Ih(o,bh.bind(null,t))}t.callbackPriority=n,t.callbackNode=o}}function bh(t,n){if(qs=-1,Zs=0,(Ie&6)!==0)throw Error(i(327));var o=t.callbackNode;if(oi()&&t.callbackNode!==o)return null;var c=Rr(t,t===tt?ot:0);if(c===0)return null;if((c&30)!==0||(c&t.expiredLanes)!==0||n)n=Js(t,c);else{n=c;var v=Ie;Ie|=2;var b=Sh();(tt!==t||ot!==n)&&(yn=null,ii=He()+500,yr(t,n));do try{Xx();break}catch(te){Eh(t,te)}while(!0);eu(),Ys.current=b,Ie=v,Qe!==null?n=0:(tt=null,ot=0,n=Je)}if(n!==0){if(n===2&&(v=Ai(t),v!==0&&(c=v,n=Ou(t,v))),n===1)throw o=uo,yr(t,0),Hn(t,c),Nt(t,He()),o;if(n===6)Hn(t,c);else{if(v=t.current.alternate,(c&30)===0&&!Ux(v)&&(n=Js(t,c),n===2&&(b=Ai(t),b!==0&&(c=b,n=Ou(t,b))),n===1))throw o=uo,yr(t,0),Hn(t,c),Nt(t,He()),o;switch(t.finishedWork=v,t.finishedLanes=c,n){case 0:case 1:throw Error(i(345));case 2:wr(t,wt,yn);break;case 3:if(Hn(t,c),(c&130023424)===c&&(n=Au+500-He(),10<n)){if(Rr(t,0)!==0)break;if(v=t.suspendedLanes,(v&c)!==c){ht(),t.pingedLanes|=t.suspendedLanes&v;break}t.timeoutHandle=Hl(wr.bind(null,t,wt,yn),n);break}wr(t,wt,yn);break;case 4:if(Hn(t,c),(c&4194240)===c)break;for(n=t.eventTimes,v=-1;0<c;){var A=31-Et(c);b=1<<A,A=n[A],A>v&&(v=A),c&=~b}if(c=v,c=He()-c,c=(120>c?120:480>c?480:1080>c?1080:1920>c?1920:3e3>c?3e3:4320>c?4320:1960*Wx(c/1960))-c,10<c){t.timeoutHandle=Hl(wr.bind(null,t,wt,yn),c);break}wr(t,wt,yn);break;case 5:wr(t,wt,yn);break;default:throw Error(i(329))}}}return Nt(t,He()),t.callbackNode===o?bh.bind(null,t):null}function Ou(t,n){var o=co;return t.current.memoizedState.isDehydrated&&(yr(t,n).flags|=256),t=Js(t,n),t!==2&&(n=wt,wt=o,n!==null&&Du(n)),t}function Du(t){wt===null?wt=t:wt.push.apply(wt,t)}function Ux(t){for(var n=t;;){if(n.flags&16384){var o=n.updateQueue;if(o!==null&&(o=o.stores,o!==null))for(var c=0;c<o.length;c++){var v=o[c],b=v.getSnapshot;v=v.value;try{if(!Ot(b(),v))return!1}catch{return!1}}}if(o=n.child,n.subtreeFlags&16384&&o!==null)o.return=n,n=o;else{if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return!0;n=n.return}n.sibling.return=n.return,n=n.sibling}}return!0}function Hn(t,n){for(n&=~Pu,n&=~Xs,t.suspendedLanes|=n,t.pingedLanes&=~n,t=t.expirationTimes;0<n;){var o=31-Et(n),c=1<<o;t[o]=-1,n&=~c}}function kh(t){if((Ie&6)!==0)throw Error(i(327));oi();var n=Rr(t,0);if((n&1)===0)return Nt(t,He()),null;var o=Js(t,n);if(t.tag!==0&&o===2){var c=Ai(t);c!==0&&(n=c,o=Ou(t,c))}if(o===1)throw o=uo,yr(t,0),Hn(t,n),Nt(t,He()),o;if(o===6)throw Error(i(345));return t.finishedWork=t.current.alternate,t.finishedLanes=n,wr(t,wt,yn),Nt(t,He()),null}function $u(t,n){var o=Ie;Ie|=1;try{return t(n)}finally{Ie=o,Ie===0&&(ii=He()+500,_s&&Rn())}}function vr(t){Fn!==null&&Fn.tag===0&&(Ie&6)===0&&oi();var n=Ie;Ie|=1;var o=Tt.transition,c=Pe;try{if(Tt.transition=null,Pe=1,t)return t()}finally{Pe=c,Tt.transition=o,Ie=n,(Ie&6)===0&&Rn()}}function Bu(){jt=ri.current,De(ri)}function yr(t,n){t.finishedWork=null,t.finishedLanes=0;var o=t.timeoutHandle;if(o!==-1&&(t.timeoutHandle=-1,Nx(o)),Qe!==null)for(o=Qe.return;o!==null;){var c=o;switch(Ql(c),c.tag){case 1:c=c.type.childContextTypes,c!=null&&Es();break;case 3:ei(),De(xt),De(at),lu();break;case 5:su(c);break;case 4:ei();break;case 13:De(We);break;case 19:De(We);break;case 10:tu(c.type._context);break;case 22:case 23:Bu()}o=o.return}if(tt=t,Qe=t=Wn(t.current,null),ot=jt=n,Je=0,uo=null,Pu=Xs=xr=0,wt=co=null,pr!==null){for(n=0;n<pr.length;n++)if(o=pr[n],c=o.interleaved,c!==null){o.interleaved=null;var v=c.next,b=o.pending;if(b!==null){var A=b.next;b.next=v,c.next=A}o.pending=c}pr=null}return t}function Eh(t,n){do{var o=Qe;try{if(eu(),Rs.current=Bs,Os){for(var c=Ue.memoizedState;c!==null;){var v=c.queue;v!==null&&(v.pending=null),c=c.next}Os=!1}if(gr=0,et=Ze=Ue=null,ro=!1,io=0,Lu.current=null,o===null||o.return===null){Je=1,uo=n,Qe=null;break}e:{var b=t,A=o.return,te=o,ne=n;if(n=ot,te.flags|=32768,ne!==null&&typeof ne=="object"&&typeof ne.then=="function"){var ae=ne,ce=te,de=ce.tag;if((ce.mode&1)===0&&(de===0||de===11||de===15)){var ue=ce.alternate;ue?(ce.updateQueue=ue.updateQueue,ce.memoizedState=ue.memoizedState,ce.lanes=ue.lanes):(ce.updateQueue=null,ce.memoizedState=null)}var ge=Qf(A);if(ge!==null){ge.flags&=-257,Kf(ge,A,te,b,n),ge.mode&1&&Gf(b,ae,n),n=ge,ne=ae;var ve=n.updateQueue;if(ve===null){var we=new Set;we.add(ne),n.updateQueue=we}else ve.add(ne);break e}else{if((n&1)===0){Gf(b,ae,n),Fu();break e}ne=Error(i(426))}}else if(Be&&te.mode&1){var Xe=Qf(A);if(Xe!==null){(Xe.flags&65536)===0&&(Xe.flags|=256),Kf(Xe,A,te,b,n),Zl(ti(ne,te));break e}}b=ne=ti(ne,te),Je!==4&&(Je=2),co===null?co=[b]:co.push(b),b=A;do{switch(b.tag){case 3:b.flags|=65536,n&=-n,b.lanes|=n;var oe=Yf(b,ne,n);yf(b,oe);break e;case 1:te=ne;var re=b.type,se=b.stateNode;if((b.flags&128)===0&&(typeof re.getDerivedStateFromError=="function"||se!==null&&typeof se.componentDidCatch=="function"&&(Bn===null||!Bn.has(se)))){b.flags|=65536,n&=-n,b.lanes|=n;var fe=Xf(b,te,n);yf(b,fe);break e}}b=b.return}while(b!==null)}Ch(o)}catch(Ne){n=Ne,Qe===o&&o!==null&&(Qe=o=o.return);continue}break}while(!0)}function Sh(){var t=Ys.current;return Ys.current=Bs,t===null?Bs:t}function Fu(){(Je===0||Je===3||Je===2)&&(Je=4),tt===null||(xr&268435455)===0&&(Xs&268435455)===0||Hn(tt,ot)}function Js(t,n){var o=Ie;Ie|=2;var c=Sh();(tt!==t||ot!==n)&&(yn=null,yr(t,n));do try{Yx();break}catch(v){Eh(t,v)}while(!0);if(eu(),Ie=o,Ys.current=c,Qe!==null)throw Error(i(261));return tt=null,ot=0,Je}function Yx(){for(;Qe!==null;)_h(Qe)}function Xx(){for(;Qe!==null&&!cl();)_h(Qe)}function _h(t){var n=Mh(t.alternate,t,jt);t.memoizedProps=t.pendingProps,n===null?Ch(t):Qe=n,Lu.current=null}function Ch(t){var n=t;do{var o=n.alternate;if(t=n.return,(n.flags&32768)===0){if(o=$x(o,n,jt),o!==null){Qe=o;return}}else{if(o=Bx(o,n),o!==null){o.flags&=32767,Qe=o;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{Je=6,Qe=null;return}}if(n=n.sibling,n!==null){Qe=n;return}Qe=n=t}while(n!==null);Je===0&&(Je=5)}function wr(t,n,o){var c=Pe,v=Tt.transition;try{Tt.transition=null,Pe=1,Gx(t,n,o,c)}finally{Tt.transition=v,Pe=c}return null}function Gx(t,n,o,c){do oi();while(Fn!==null);if((Ie&6)!==0)throw Error(i(327));o=t.finishedWork;var v=t.finishedLanes;if(o===null)return null;if(t.finishedWork=null,t.finishedLanes=0,o===t.current)throw Error(i(177));t.callbackNode=null,t.callbackPriority=0;var b=o.lanes|o.childLanes;if(as(t,b),t===tt&&(Qe=tt=null,ot=0),(o.subtreeFlags&2064)===0&&(o.flags&2064)===0||Qs||(Qs=!0,Ih(Pr,function(){return oi(),null})),b=(o.flags&15990)!==0,(o.subtreeFlags&15990)!==0||b){b=Tt.transition,Tt.transition=null;var A=Pe;Pe=1;var te=Ie;Ie|=4,Lu.current=null,Vx(t,o),xh(o,t),px(Fl),cs=!!Bl,Fl=Bl=null,t.current=o,Hx(o),rs(),Ie=te,Pe=A,Tt.transition=b}else t.current=o;if(Qs&&(Qs=!1,Fn=t,Ks=v),b=t.pendingLanes,b===0&&(Bn=null),hl(o.stateNode),Nt(t,He()),n!==null)for(c=t.onRecoverableError,o=0;o<n.length;o++)v=n[o],c(v.value,{componentStack:v.stack,digest:v.digest});if(Gs)throw Gs=!1,t=Tu,Tu=null,t;return(Ks&1)!==0&&t.tag!==0&&oi(),b=t.pendingLanes,(b&1)!==0?t===Ru?fo++:(fo=0,Ru=t):fo=0,Rn(),null}function oi(){if(Fn!==null){var t=pd(Ks),n=Tt.transition,o=Pe;try{if(Tt.transition=null,Pe=16>t?16:t,Fn===null)var c=!1;else{if(t=Fn,Fn=null,Ks=0,(Ie&6)!==0)throw Error(i(331));var v=Ie;for(Ie|=4,xe=t.current;xe!==null;){var b=xe,A=b.child;if((xe.flags&16)!==0){var te=b.deletions;if(te!==null){for(var ne=0;ne<te.length;ne++){var ae=te[ne];for(xe=ae;xe!==null;){var ce=xe;switch(ce.tag){case 0:case 11:case 15:lo(8,ce,b)}var de=ce.child;if(de!==null)de.return=ce,xe=de;else for(;xe!==null;){ce=xe;var ue=ce.sibling,ge=ce.return;if(fh(ce),ce===ae){xe=null;break}if(ue!==null){ue.return=ge,xe=ue;break}xe=ge}}}var ve=b.alternate;if(ve!==null){var we=ve.child;if(we!==null){ve.child=null;do{var Xe=we.sibling;we.sibling=null,we=Xe}while(we!==null)}}xe=b}}if((b.subtreeFlags&2064)!==0&&A!==null)A.return=b,xe=A;else e:for(;xe!==null;){if(b=xe,(b.flags&2048)!==0)switch(b.tag){case 0:case 11:case 15:lo(9,b,b.return)}var oe=b.sibling;if(oe!==null){oe.return=b.return,xe=oe;break e}xe=b.return}}var re=t.current;for(xe=re;xe!==null;){A=xe;var se=A.child;if((A.subtreeFlags&2064)!==0&&se!==null)se.return=A,xe=se;else e:for(A=re;xe!==null;){if(te=xe,(te.flags&2048)!==0)try{switch(te.tag){case 0:case 11:case 15:Us(9,te)}}catch(Ne){Ye(te,te.return,Ne)}if(te===A){xe=null;break e}var fe=te.sibling;if(fe!==null){fe.return=te.return,xe=fe;break e}xe=te.return}}if(Ie=v,Rn(),Mt&&typeof Mt.onPostCommitFiberRoot=="function")try{Mt.onPostCommitFiberRoot(lr,t)}catch{}c=!0}return c}finally{Pe=o,Tt.transition=n}}return!1}function jh(t,n,o){n=ti(o,n),n=Yf(t,n,1),t=Dn(t,n,1),n=ht(),t!==null&&(ur(t,1,n),Nt(t,n))}function Ye(t,n,o){if(t.tag===3)jh(t,t,o);else for(;n!==null;){if(n.tag===3){jh(n,t,o);break}else if(n.tag===1){var c=n.stateNode;if(typeof n.type.getDerivedStateFromError=="function"||typeof c.componentDidCatch=="function"&&(Bn===null||!Bn.has(c))){t=ti(o,t),t=Xf(n,t,1),n=Dn(n,t,1),t=ht(),n!==null&&(ur(n,1,t),Nt(n,t));break}}n=n.return}}function Qx(t,n,o){var c=t.pingCache;c!==null&&c.delete(n),n=ht(),t.pingedLanes|=t.suspendedLanes&o,tt===t&&(ot&o)===o&&(Je===4||Je===3&&(ot&130023424)===ot&&500>He()-Au?yr(t,0):Pu|=o),Nt(t,n)}function zh(t,n){n===0&&((t.mode&1)===0?n=1:(n=Tr,Tr<<=1,(Tr&130023424)===0&&(Tr=4194304)));var o=ht();t=gn(t,n),t!==null&&(ur(t,n,o),Nt(t,o))}function Kx(t){var n=t.memoizedState,o=0;n!==null&&(o=n.retryLane),zh(t,o)}function qx(t,n){var o=0;switch(t.tag){case 13:var c=t.stateNode,v=t.memoizedState;v!==null&&(o=v.retryLane);break;case 19:c=t.stateNode;break;default:throw Error(i(314))}c!==null&&c.delete(n),zh(t,o)}var Mh;Mh=function(t,n,o){if(t!==null)if(t.memoizedProps!==n.pendingProps||xt.current)yt=!0;else{if((t.lanes&o)===0&&(n.flags&128)===0)return yt=!1,Dx(t,n,o);yt=(t.flags&131072)!==0}else yt=!1,Be&&(n.flags&1048576)!==0&&uf(n,js,n.index);switch(n.lanes=0,n.tag){case 2:var c=n.type;Hs(t,n),t=n.pendingProps;var v=Xr(n,at.current);Jr(n,o),v=du(null,n,c,t,v,o);var b=fu();return n.flags|=1,typeof v=="object"&&v!==null&&typeof v.render=="function"&&v.$$typeof===void 0?(n.tag=1,n.memoizedState=null,n.updateQueue=null,vt(c)?(b=!0,Ss(n)):b=!1,n.memoizedState=v.state!==null&&v.state!==void 0?v.state:null,iu(n),v.updater=Fs,n.stateNode=v,v._reactInternals=n,vu(n,c,t,o),n=bu(null,n,c,!0,b,o)):(n.tag=0,Be&&b&&Gl(n),ft(null,n,v,o),n=n.child),n;case 16:c=n.elementType;e:{switch(Hs(t,n),t=n.pendingProps,v=c._init,c=v(c._payload),n.type=c,v=n.tag=Jx(c),t=$t(c,t),v){case 0:n=Nu(null,n,c,t,o);break e;case 1:n=nh(null,n,c,t,o);break e;case 11:n=qf(null,n,c,t,o);break e;case 14:n=Zf(null,n,c,$t(c.type,t),o);break e}throw Error(i(306,c,""))}return n;case 0:return c=n.type,v=n.pendingProps,v=n.elementType===c?v:$t(c,v),Nu(t,n,c,v,o);case 1:return c=n.type,v=n.pendingProps,v=n.elementType===c?v:$t(c,v),nh(t,n,c,v,o);case 3:e:{if(rh(n),t===null)throw Error(i(387));c=n.pendingProps,b=n.memoizedState,v=b.element,vf(t,n),As(n,c,null,o);var A=n.memoizedState;if(c=A.element,b.isDehydrated)if(b={element:c,isDehydrated:!1,cache:A.cache,pendingSuspenseBoundaries:A.pendingSuspenseBoundaries,transitions:A.transitions},n.updateQueue.baseState=b,n.memoizedState=b,n.flags&256){v=ti(Error(i(423)),n),n=ih(t,n,c,o,v);break e}else if(c!==v){v=ti(Error(i(424)),n),n=ih(t,n,c,o,v);break e}else for(Ct=Pn(n.stateNode.containerInfo.firstChild),_t=n,Be=!0,Dt=null,o=gf(n,null,c,o),n.child=o;o;)o.flags=o.flags&-3|4096,o=o.sibling;else{if(Kr(),c===v){n=vn(t,n,o);break e}ft(t,n,c,o)}n=n.child}return n;case 5:return Nf(n),t===null&&ql(n),c=n.type,v=n.pendingProps,b=t!==null?t.memoizedProps:null,A=v.children,Vl(c,v)?A=null:b!==null&&Vl(c,b)&&(n.flags|=32),th(t,n),ft(t,n,A,o),n.child;case 6:return t===null&&ql(n),null;case 13:return oh(t,n,o);case 4:return ou(n,n.stateNode.containerInfo),c=n.pendingProps,t===null?n.child=qr(n,null,c,o):ft(t,n,c,o),n.child;case 11:return c=n.type,v=n.pendingProps,v=n.elementType===c?v:$t(c,v),qf(t,n,c,v,o);case 7:return ft(t,n,n.pendingProps,o),n.child;case 8:return ft(t,n,n.pendingProps.children,o),n.child;case 12:return ft(t,n,n.pendingProps.children,o),n.child;case 10:e:{if(c=n.type._context,v=n.pendingProps,b=n.memoizedProps,A=v.value,Te(Is,c._currentValue),c._currentValue=A,b!==null)if(Ot(b.value,A)){if(b.children===v.children&&!xt.current){n=vn(t,n,o);break e}}else for(b=n.child,b!==null&&(b.return=n);b!==null;){var te=b.dependencies;if(te!==null){A=b.child;for(var ne=te.firstContext;ne!==null;){if(ne.context===c){if(b.tag===1){ne=xn(-1,o&-o),ne.tag=2;var ae=b.updateQueue;if(ae!==null){ae=ae.shared;var ce=ae.pending;ce===null?ne.next=ne:(ne.next=ce.next,ce.next=ne),ae.pending=ne}}b.lanes|=o,ne=b.alternate,ne!==null&&(ne.lanes|=o),nu(b.return,o,n),te.lanes|=o;break}ne=ne.next}}else if(b.tag===10)A=b.type===n.type?null:b.child;else if(b.tag===18){if(A=b.return,A===null)throw Error(i(341));A.lanes|=o,te=A.alternate,te!==null&&(te.lanes|=o),nu(A,o,n),A=b.sibling}else A=b.child;if(A!==null)A.return=b;else for(A=b;A!==null;){if(A===n){A=null;break}if(b=A.sibling,b!==null){b.return=A.return,A=b;break}A=A.return}b=A}ft(t,n,v.children,o),n=n.child}return n;case 9:return v=n.type,c=n.pendingProps.children,Jr(n,o),v=Pt(v),c=c(v),n.flags|=1,ft(t,n,c,o),n.child;case 14:return c=n.type,v=$t(c,n.pendingProps),v=$t(c.type,v),Zf(t,n,c,v,o);case 15:return Jf(t,n,n.type,n.pendingProps,o);case 17:return c=n.type,v=n.pendingProps,v=n.elementType===c?v:$t(c,v),Hs(t,n),n.tag=1,vt(c)?(t=!0,Ss(n)):t=!1,Jr(n,o),Wf(n,c,v),vu(n,c,v,o),bu(null,n,c,!0,t,o);case 19:return ah(t,n,o);case 22:return eh(t,n,o)}throw Error(i(156,n.tag))};function Ih(t,n){return ts(t,n)}function Zx(t,n,o,c){this.tag=t,this.key=o,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=n,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=c,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Rt(t,n,o,c){return new Zx(t,n,o,c)}function Vu(t){return t=t.prototype,!(!t||!t.isReactComponent)}function Jx(t){if(typeof t=="function")return Vu(t)?1:0;if(t!=null){if(t=t.$$typeof,t===B)return 11;if(t===Q)return 14}return 2}function Wn(t,n){var o=t.alternate;return o===null?(o=Rt(t.tag,n,t.key,t.mode),o.elementType=t.elementType,o.type=t.type,o.stateNode=t.stateNode,o.alternate=t,t.alternate=o):(o.pendingProps=n,o.type=t.type,o.flags=0,o.subtreeFlags=0,o.deletions=null),o.flags=t.flags&14680064,o.childLanes=t.childLanes,o.lanes=t.lanes,o.child=t.child,o.memoizedProps=t.memoizedProps,o.memoizedState=t.memoizedState,o.updateQueue=t.updateQueue,n=t.dependencies,o.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext},o.sibling=t.sibling,o.index=t.index,o.ref=t.ref,o}function ea(t,n,o,c,v,b){var A=2;if(c=t,typeof t=="function")Vu(t)&&(A=1);else if(typeof t=="string")A=5;else e:switch(t){case F:return Nr(o.children,v,b,n);case V:A=8,v|=8;break;case Z:return t=Rt(12,o,n,v|2),t.elementType=Z,t.lanes=b,t;case D:return t=Rt(13,o,n,v),t.elementType=D,t.lanes=b,t;case j:return t=Rt(19,o,n,v),t.elementType=j,t.lanes=b,t;case W:return ta(o,v,b,n);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case G:A=10;break e;case X:A=9;break e;case B:A=11;break e;case Q:A=14;break e;case $:A=16,c=null;break e}throw Error(i(130,t==null?t:typeof t,""))}return n=Rt(A,o,n,v),n.elementType=t,n.type=c,n.lanes=b,n}function Nr(t,n,o,c){return t=Rt(7,t,c,n),t.lanes=o,t}function ta(t,n,o,c){return t=Rt(22,t,c,n),t.elementType=W,t.lanes=o,t.stateNode={isHidden:!1},t}function Hu(t,n,o){return t=Rt(6,t,null,n),t.lanes=o,t}function Wu(t,n,o){return n=Rt(4,t.children!==null?t.children:[],t.key,n),n.lanes=o,n.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},n}function ev(t,n,o,c,v){this.tag=n,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Ti(0),this.expirationTimes=Ti(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Ti(0),this.identifierPrefix=c,this.onRecoverableError=v,this.mutableSourceEagerHydrationData=null}function Uu(t,n,o,c,v,b,A,te,ne){return t=new ev(t,n,o,te,ne),n===1?(n=1,b===!0&&(n|=8)):n=0,b=Rt(3,null,null,n),t.current=b,b.stateNode=t,b.memoizedState={element:c,isDehydrated:o,cache:null,transitions:null,pendingSuspenseBoundaries:null},iu(b),t}function tv(t,n,o){var c=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:O,key:c==null?null:""+c,children:t,containerInfo:n,implementation:o}}function Lh(t){if(!t)return Tn;t=t._reactInternals;e:{if(Kt(t)!==t||t.tag!==1)throw Error(i(170));var n=t;do{switch(n.tag){case 3:n=n.stateNode.context;break e;case 1:if(vt(n.type)){n=n.stateNode.__reactInternalMemoizedMergedChildContext;break e}}n=n.return}while(n!==null);throw Error(i(171))}if(t.tag===1){var o=t.type;if(vt(o))return sf(t,o,n)}return n}function Ph(t,n,o,c,v,b,A,te,ne){return t=Uu(o,c,!0,t,v,b,A,te,ne),t.context=Lh(null),o=t.current,c=ht(),v=Vn(o),b=xn(c,v),b.callback=n??null,Dn(o,b,v),t.current.lanes=v,ur(t,v,c),Nt(t,c),t}function na(t,n,o,c){var v=n.current,b=ht(),A=Vn(v);return o=Lh(o),n.context===null?n.context=o:n.pendingContext=o,n=xn(b,A),n.payload={element:t},c=c===void 0?null:c,c!==null&&(n.callback=c),t=Dn(v,n,A),t!==null&&(Vt(t,v,A,b),Ps(t,v,A)),A}function ra(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function Ah(t,n){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var o=t.retryLane;t.retryLane=o!==0&&o<n?o:n}}function Yu(t,n){Ah(t,n),(t=t.alternate)&&Ah(t,n)}function nv(){return null}var Th=typeof reportError=="function"?reportError:function(t){console.error(t)};function Xu(t){this._internalRoot=t}ia.prototype.render=Xu.prototype.render=function(t){var n=this._internalRoot;if(n===null)throw Error(i(409));na(t,n,null,null)},ia.prototype.unmount=Xu.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var n=t.containerInfo;vr(function(){na(null,t,null,null)}),n[fn]=null}};function ia(t){this._internalRoot=t}ia.prototype.unstable_scheduleHydration=function(t){if(t){var n=xd();t={blockedOn:null,target:t,priority:n};for(var o=0;o<Mn.length&&n!==0&&n<Mn[o].priority;o++);Mn.splice(o,0,t),o===0&&wd(t)}};function Gu(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function oa(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function Rh(){}function rv(t,n,o,c,v){if(v){if(typeof c=="function"){var b=c;c=function(){var ae=ra(A);b.call(ae)}}var A=Ph(n,c,t,0,null,!1,!1,"",Rh);return t._reactRootContainer=A,t[fn]=A.current,Qi(t.nodeType===8?t.parentNode:t),vr(),A}for(;v=t.lastChild;)t.removeChild(v);if(typeof c=="function"){var te=c;c=function(){var ae=ra(ne);te.call(ae)}}var ne=Uu(t,0,!1,null,null,!1,!1,"",Rh);return t._reactRootContainer=ne,t[fn]=ne.current,Qi(t.nodeType===8?t.parentNode:t),vr(function(){na(n,ne,o,c)}),ne}function sa(t,n,o,c,v){var b=o._reactRootContainer;if(b){var A=b;if(typeof v=="function"){var te=v;v=function(){var ne=ra(A);te.call(ne)}}na(n,A,t,v)}else A=rv(o,n,t,v,c);return ra(A)}md=function(t){switch(t.tag){case 3:var n=t.stateNode;if(n.current.memoizedState.isDehydrated){var o=qt(n.pendingLanes);o!==0&&(vl(n,o|1),Nt(n,He()),(Ie&6)===0&&(ii=He()+500,Rn()))}break;case 13:vr(function(){var c=gn(t,1);if(c!==null){var v=ht();Vt(c,t,1,v)}}),Yu(t,1)}},yl=function(t){if(t.tag===13){var n=gn(t,134217728);if(n!==null){var o=ht();Vt(n,t,134217728,o)}Yu(t,134217728)}},gd=function(t){if(t.tag===13){var n=Vn(t),o=gn(t,n);if(o!==null){var c=ht();Vt(o,t,n,c)}Yu(t,n)}},xd=function(){return Pe},vd=function(t,n){var o=Pe;try{return Pe=t,n()}finally{Pe=o}},Ci=function(t,n,o){switch(n){case"input":if(Re(t,o),n=o.name,o.type==="radio"&&n!=null){for(o=t;o.parentNode;)o=o.parentNode;for(o=o.querySelectorAll("input[name="+JSON.stringify(""+n)+'][type="radio"]'),n=0;n<o.length;n++){var c=o[n];if(c!==t&&c.form===t.form){var v=ks(c);if(!v)throw Error(i(90));he(c),Re(c,v)}}}break;case"textarea":Mr(t,o);break;case"select":n=o.value,n!=null&&$e(t,!!o.multiple,n,!1)}},Ko=$u,qo=vr;var iv={usingClientEntryPoint:!1,Events:[Zi,Ur,ks,Go,Qo,$u]},ho={findFiberByHostInstance:cr,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},ov={bundleType:ho.bundleType,version:ho.version,rendererPackageName:ho.rendererPackageName,rendererConfig:ho.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:_.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=Jo(t),t===null?null:t.stateNode},findFiberByHostInstance:ho.findFiberByHostInstance||nv,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var aa=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!aa.isDisabled&&aa.supportsFiber)try{lr=aa.inject(ov),Mt=aa}catch{}}return bt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=iv,bt.createPortal=function(t,n){var o=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Gu(n))throw Error(i(200));return tv(t,n,null,o)},bt.createRoot=function(t,n){if(!Gu(t))throw Error(i(299));var o=!1,c="",v=Th;return n!=null&&(n.unstable_strictMode===!0&&(o=!0),n.identifierPrefix!==void 0&&(c=n.identifierPrefix),n.onRecoverableError!==void 0&&(v=n.onRecoverableError)),n=Uu(t,1,!1,null,null,o,!1,c,v),t[fn]=n.current,Qi(t.nodeType===8?t.parentNode:t),new Xu(n)},bt.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var n=t._reactInternals;if(n===void 0)throw typeof t.render=="function"?Error(i(188)):(t=Object.keys(t).join(","),Error(i(268,t)));return t=Jo(n),t=t===null?null:t.stateNode,t},bt.flushSync=function(t){return vr(t)},bt.hydrate=function(t,n,o){if(!oa(n))throw Error(i(200));return sa(null,t,n,!0,o)},bt.hydrateRoot=function(t,n,o){if(!Gu(t))throw Error(i(405));var c=o!=null&&o.hydratedSources||null,v=!1,b="",A=Th;if(o!=null&&(o.unstable_strictMode===!0&&(v=!0),o.identifierPrefix!==void 0&&(b=o.identifierPrefix),o.onRecoverableError!==void 0&&(A=o.onRecoverableError)),n=Ph(n,null,t,1,o??null,v,!1,b,A),t[fn]=n.current,Qi(t),c)for(t=0;t<c.length;t++)o=c[t],v=o._getVersion,v=v(o._source),n.mutableSourceEagerHydrationData==null?n.mutableSourceEagerHydrationData=[o,v]:n.mutableSourceEagerHydrationData.push(o,v);return new ia(n)},bt.render=function(t,n,o){if(!oa(n))throw Error(i(200));return sa(null,t,n,!1,o)},bt.unmountComponentAtNode=function(t){if(!oa(t))throw Error(i(40));return t._reactRootContainer?(vr(function(){sa(null,null,t,!1,function(){t._reactRootContainer=null,t[fn]=null})}),!0):!1},bt.unstable_batchedUpdates=$u,bt.unstable_renderSubtreeIntoContainer=function(t,n,o,c){if(!oa(o))throw Error(i(200));if(t==null||t._reactInternals===void 0)throw Error(i(38));return sa(t,n,o,!1,c)},bt.version="18.3.1-next-f1338f8080-20240426",bt}var Wh;function j0(){if(Wh)return qu.exports;Wh=1;function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(r){console.error(r)}}return e(),qu.exports=pv(),qu.exports}var Uh;function mv(){if(Uh)return la;Uh=1;var e=j0();return la.createRoot=e.createRoot,la.hydrateRoot=e.hydrateRoot,la}var gv=mv();j0();/**
 * @remix-run/router v1.23.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function ko(){return ko=Object.assign?Object.assign.bind():function(e){for(var r=1;r<arguments.length;r++){var i=arguments[r];for(var s in i)Object.prototype.hasOwnProperty.call(i,s)&&(e[s]=i[s])}return e},ko.apply(this,arguments)}var Qn;(function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"})(Qn||(Qn={}));const Yh="popstate";function xv(e){e===void 0&&(e={});function r(s,a){let{pathname:l,search:u,hash:d}=s.location;return Nc("",{pathname:l,search:u,hash:d},a.state&&a.state.usr||null,a.state&&a.state.key||"default")}function i(s,a){return typeof a=="string"?a:Sa(a)}return yv(r,i,null,e)}function Ge(e,r){if(e===!1||e===null||typeof e>"u")throw new Error(r)}function Dc(e,r){if(!e){typeof console<"u"&&console.warn(r);try{throw new Error(r)}catch{}}}function vv(){return Math.random().toString(36).substr(2,8)}function Xh(e,r){return{usr:e.state,key:e.key,idx:r}}function Nc(e,r,i,s){return i===void 0&&(i=null),ko({pathname:typeof e=="string"?e:e.pathname,search:"",hash:""},typeof r=="string"?vi(r):r,{state:i,key:r&&r.key||s||vv()})}function Sa(e){let{pathname:r="/",search:i="",hash:s=""}=e;return i&&i!=="?"&&(r+=i.charAt(0)==="?"?i:"?"+i),s&&s!=="#"&&(r+=s.charAt(0)==="#"?s:"#"+s),r}function vi(e){let r={};if(e){let i=e.indexOf("#");i>=0&&(r.hash=e.substr(i),e=e.substr(0,i));let s=e.indexOf("?");s>=0&&(r.search=e.substr(s),e=e.substr(0,s)),e&&(r.pathname=e)}return r}function yv(e,r,i,s){s===void 0&&(s={});let{window:a=document.defaultView,v5Compat:l=!1}=s,u=a.history,d=Qn.Pop,f=null,h=p();h==null&&(h=0,u.replaceState(ko({},u.state,{idx:h}),""));function p(){return(u.state||{idx:null}).idx}function m(){d=Qn.Pop;let w=p(),S=w==null?null:w-h;h=w,f&&f({action:d,location:k.location,delta:S})}function g(w,S){d=Qn.Push;let C=Nc(k.location,w,S);h=p()+1;let E=Xh(C,h),_=k.createHref(C);try{u.pushState(E,"",_)}catch(M){if(M instanceof DOMException&&M.name==="DataCloneError")throw M;a.location.assign(_)}l&&f&&f({action:d,location:k.location,delta:1})}function y(w,S){d=Qn.Replace;let C=Nc(k.location,w,S);h=p();let E=Xh(C,h),_=k.createHref(C);u.replaceState(E,"",_),l&&f&&f({action:d,location:k.location,delta:0})}function N(w){let S=a.location.origin!=="null"?a.location.origin:a.location.href,C=typeof w=="string"?w:Sa(w);return C=C.replace(/ $/,"%20"),Ge(S,"No window.location.(origin|href) available to create URL for href: "+C),new URL(C,S)}let k={get action(){return d},get location(){return e(a,u)},listen(w){if(f)throw new Error("A history only accepts one active listener");return a.addEventListener(Yh,m),f=w,()=>{a.removeEventListener(Yh,m),f=null}},createHref(w){return r(a,w)},createURL:N,encodeLocation(w){let S=N(w);return{pathname:S.pathname,search:S.search,hash:S.hash}},push:g,replace:y,go(w){return u.go(w)}};return k}var Gh;(function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"})(Gh||(Gh={}));function wv(e,r,i){return i===void 0&&(i="/"),Nv(e,r,i)}function Nv(e,r,i,s){let a=typeof r=="string"?vi(r):r,l=$c(a.pathname||"/",i);if(l==null)return null;let u=z0(e);bv(u);let d=null;for(let f=0;d==null&&f<u.length;++f){let h=Av(l);d=Iv(u[f],h)}return d}function z0(e,r,i,s){r===void 0&&(r=[]),i===void 0&&(i=[]),s===void 0&&(s="");let a=(l,u,d)=>{let f={relativePath:d===void 0?l.path||"":d,caseSensitive:l.caseSensitive===!0,childrenIndex:u,route:l};f.relativePath.startsWith("/")&&(Ge(f.relativePath.startsWith(s),'Absolute route path "'+f.relativePath+'" nested under path '+('"'+s+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),f.relativePath=f.relativePath.slice(s.length));let h=qn([s,f.relativePath]),p=i.concat(f);l.children&&l.children.length>0&&(Ge(l.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+h+'".')),z0(l.children,r,p,h)),!(l.path==null&&!l.index)&&r.push({path:h,score:zv(h,l.index),routesMeta:p})};return e.forEach((l,u)=>{var d;if(l.path===""||!((d=l.path)!=null&&d.includes("?")))a(l,u);else for(let f of M0(l.path))a(l,u,f)}),r}function M0(e){let r=e.split("/");if(r.length===0)return[];let[i,...s]=r,a=i.endsWith("?"),l=i.replace(/\?$/,"");if(s.length===0)return a?[l,""]:[l];let u=M0(s.join("/")),d=[];return d.push(...u.map(f=>f===""?l:[l,f].join("/"))),a&&d.push(...u),d.map(f=>e.startsWith("/")&&f===""?"/":f)}function bv(e){e.sort((r,i)=>r.score!==i.score?i.score-r.score:Mv(r.routesMeta.map(s=>s.childrenIndex),i.routesMeta.map(s=>s.childrenIndex)))}const kv=/^:[\w-]+$/,Ev=3,Sv=2,_v=1,Cv=10,jv=-2,Qh=e=>e==="*";function zv(e,r){let i=e.split("/"),s=i.length;return i.some(Qh)&&(s+=jv),r&&(s+=Sv),i.filter(a=>!Qh(a)).reduce((a,l)=>a+(kv.test(l)?Ev:l===""?_v:Cv),s)}function Mv(e,r){return e.length===r.length&&e.slice(0,-1).every((s,a)=>s===r[a])?e[e.length-1]-r[r.length-1]:0}function Iv(e,r,i){let{routesMeta:s}=e,a={},l="/",u=[];for(let d=0;d<s.length;++d){let f=s[d],h=d===s.length-1,p=l==="/"?r:r.slice(l.length)||"/",m=Lv({path:f.relativePath,caseSensitive:f.caseSensitive,end:h},p),g=f.route;if(!m)return null;Object.assign(a,m.params),u.push({params:a,pathname:qn([l,m.pathname]),pathnameBase:$v(qn([l,m.pathnameBase])),route:g}),m.pathnameBase!=="/"&&(l=qn([l,m.pathnameBase]))}return u}function Lv(e,r){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[i,s]=Pv(e.path,e.caseSensitive,e.end),a=r.match(i);if(!a)return null;let l=a[0],u=l.replace(/(.)\/+$/,"$1"),d=a.slice(1);return{params:s.reduce((h,p,m)=>{let{paramName:g,isOptional:y}=p;if(g==="*"){let k=d[m]||"";u=l.slice(0,l.length-k.length).replace(/(.)\/+$/,"$1")}const N=d[m];return y&&!N?h[g]=void 0:h[g]=(N||"").replace(/%2F/g,"/"),h},{}),pathname:l,pathnameBase:u,pattern:e}}function Pv(e,r,i){r===void 0&&(r=!1),i===void 0&&(i=!0),Dc(e==="*"||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were '+('"'+e.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+e.replace(/\*$/,"/*")+'".'));let s=[],a="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(u,d,f)=>(s.push({paramName:d,isOptional:f!=null}),f?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(s.push({paramName:"*"}),a+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):i?a+="\\/*$":e!==""&&e!=="/"&&(a+="(?:(?=\\/|$))"),[new RegExp(a,r?void 0:"i"),s]}function Av(e){try{return e.split("/").map(r=>decodeURIComponent(r).replace(/\//g,"%2F")).join("/")}catch(r){return Dc(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+r+").")),e}}function $c(e,r){if(r==="/")return e;if(!e.toLowerCase().startsWith(r.toLowerCase()))return null;let i=r.endsWith("/")?r.length-1:r.length,s=e.charAt(i);return s&&s!=="/"?null:e.slice(i)||"/"}const Tv=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Rv=e=>Tv.test(e);function Ov(e,r){r===void 0&&(r="/");let{pathname:i,search:s="",hash:a=""}=typeof e=="string"?vi(e):e,l;if(i)if(Rv(i))l=i;else{if(i.includes("//")){let u=i;i=i.replace(/\/\/+/g,"/"),Dc(!1,"Pathnames cannot have embedded double slashes - normalizing "+(u+" -> "+i))}i.startsWith("/")?l=Kh(i.substring(1),"/"):l=Kh(i,r)}else l=r;return{pathname:l,search:Bv(s),hash:Fv(a)}}function Kh(e,r){let i=r.replace(/\/+$/,"").split("/");return e.split("/").forEach(a=>{a===".."?i.length>1&&i.pop():a!=="."&&i.push(a)}),i.length>1?i.join("/"):"/"}function ec(e,r,i,s){return"Cannot include a '"+e+"' character in a manually specified "+("`to."+r+"` field ["+JSON.stringify(s)+"].  Please separate it out to the ")+("`to."+i+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function Dv(e){return e.filter((r,i)=>i===0||r.route.path&&r.route.path.length>0)}function Bc(e,r){let i=Dv(e);return r?i.map((s,a)=>a===i.length-1?s.pathname:s.pathnameBase):i.map(s=>s.pathnameBase)}function Fc(e,r,i,s){s===void 0&&(s=!1);let a;typeof e=="string"?a=vi(e):(a=ko({},e),Ge(!a.pathname||!a.pathname.includes("?"),ec("?","pathname","search",a)),Ge(!a.pathname||!a.pathname.includes("#"),ec("#","pathname","hash",a)),Ge(!a.search||!a.search.includes("#"),ec("#","search","hash",a)));let l=e===""||a.pathname==="",u=l?"/":a.pathname,d;if(u==null)d=i;else{let m=r.length-1;if(!s&&u.startsWith("..")){let g=u.split("/");for(;g[0]==="..";)g.shift(),m-=1;a.pathname=g.join("/")}d=m>=0?r[m]:"/"}let f=Ov(a,d),h=u&&u!=="/"&&u.endsWith("/"),p=(l||u===".")&&i.endsWith("/");return!f.pathname.endsWith("/")&&(h||p)&&(f.pathname+="/"),f}const qn=e=>e.join("/").replace(/\/\/+/g,"/"),$v=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),Bv=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,Fv=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function Vv(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}const I0=["post","put","patch","delete"];new Set(I0);const Hv=["get",...I0];new Set(Hv);/**
 * React Router v6.30.3
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Eo(){return Eo=Object.assign?Object.assign.bind():function(e){for(var r=1;r<arguments.length;r++){var i=arguments[r];for(var s in i)Object.prototype.hasOwnProperty.call(i,s)&&(e[s]=i[s])}return e},Eo.apply(this,arguments)}const Vc=R.createContext(null),Wv=R.createContext(null),Jn=R.createContext(null),Da=R.createContext(null),an=R.createContext({outlet:null,matches:[],isDataRoute:!1}),L0=R.createContext(null);function Uv(e,r){let{relative:i}=r===void 0?{}:r;yi()||Ge(!1);let{basename:s,navigator:a}=R.useContext(Jn),{hash:l,pathname:u,search:d}=T0(e,{relative:i}),f=u;return s!=="/"&&(f=u==="/"?s:qn([s,u])),a.createHref({pathname:f,search:d,hash:l})}function yi(){return R.useContext(Da)!=null}function wi(){return yi()||Ge(!1),R.useContext(Da).location}function P0(e){R.useContext(Jn).static||R.useLayoutEffect(e)}function er(){let{isDataRoute:e}=R.useContext(an);return e?sy():Yv()}function Yv(){yi()||Ge(!1);let e=R.useContext(Vc),{basename:r,future:i,navigator:s}=R.useContext(Jn),{matches:a}=R.useContext(an),{pathname:l}=wi(),u=JSON.stringify(Bc(a,i.v7_relativeSplatPath)),d=R.useRef(!1);return P0(()=>{d.current=!0}),R.useCallback(function(h,p){if(p===void 0&&(p={}),!d.current)return;if(typeof h=="number"){s.go(h);return}let m=Fc(h,JSON.parse(u),l,p.relative==="path");e==null&&r!=="/"&&(m.pathname=m.pathname==="/"?r:qn([r,m.pathname])),(p.replace?s.replace:s.push)(m,p.state,p)},[r,s,u,l,e])}const Xv=R.createContext(null);function Gv(e){let r=R.useContext(an).outlet;return r&&R.createElement(Xv.Provider,{value:e},r)}function A0(){let{matches:e}=R.useContext(an),r=e[e.length-1];return r?r.params:{}}function T0(e,r){let{relative:i}=r===void 0?{}:r,{future:s}=R.useContext(Jn),{matches:a}=R.useContext(an),{pathname:l}=wi(),u=JSON.stringify(Bc(a,s.v7_relativeSplatPath));return R.useMemo(()=>Fc(e,JSON.parse(u),l,i==="path"),[e,u,l,i])}function Qv(e,r){return Kv(e,r)}function Kv(e,r,i,s){yi()||Ge(!1);let{navigator:a}=R.useContext(Jn),{matches:l}=R.useContext(an),u=l[l.length-1],d=u?u.params:{};u&&u.pathname;let f=u?u.pathnameBase:"/";u&&u.route;let h=wi(),p;if(r){var m;let w=typeof r=="string"?vi(r):r;f==="/"||(m=w.pathname)!=null&&m.startsWith(f)||Ge(!1),p=w}else p=h;let g=p.pathname||"/",y=g;if(f!=="/"){let w=f.replace(/^\//,"").split("/");y="/"+g.replace(/^\//,"").split("/").slice(w.length).join("/")}let N=wv(e,{pathname:y}),k=ty(N&&N.map(w=>Object.assign({},w,{params:Object.assign({},d,w.params),pathname:qn([f,a.encodeLocation?a.encodeLocation(w.pathname).pathname:w.pathname]),pathnameBase:w.pathnameBase==="/"?f:qn([f,a.encodeLocation?a.encodeLocation(w.pathnameBase).pathname:w.pathnameBase])})),l,i,s);return r&&k?R.createElement(Da.Provider,{value:{location:Eo({pathname:"/",search:"",hash:"",state:null,key:"default"},p),navigationType:Qn.Pop}},k):k}function qv(){let e=oy(),r=Vv(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),i=e instanceof Error?e.stack:null,a={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return R.createElement(R.Fragment,null,R.createElement("h2",null,"Unexpected Application Error!"),R.createElement("h3",{style:{fontStyle:"italic"}},r),i?R.createElement("pre",{style:a},i):null,null)}const Zv=R.createElement(qv,null);class Jv extends R.Component{constructor(r){super(r),this.state={location:r.location,revalidation:r.revalidation,error:r.error}}static getDerivedStateFromError(r){return{error:r}}static getDerivedStateFromProps(r,i){return i.location!==r.location||i.revalidation!=="idle"&&r.revalidation==="idle"?{error:r.error,location:r.location,revalidation:r.revalidation}:{error:r.error!==void 0?r.error:i.error,location:i.location,revalidation:r.revalidation||i.revalidation}}componentDidCatch(r,i){console.error("React Router caught the following error during render",r,i)}render(){return this.state.error!==void 0?R.createElement(an.Provider,{value:this.props.routeContext},R.createElement(L0.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function ey(e){let{routeContext:r,match:i,children:s}=e,a=R.useContext(Vc);return a&&a.static&&a.staticContext&&(i.route.errorElement||i.route.ErrorBoundary)&&(a.staticContext._deepestRenderedBoundaryId=i.route.id),R.createElement(an.Provider,{value:r},s)}function ty(e,r,i,s){var a;if(r===void 0&&(r=[]),i===void 0&&(i=null),s===void 0&&(s=null),e==null){var l;if(!i)return null;if(i.errors)e=i.matches;else if((l=s)!=null&&l.v7_partialHydration&&r.length===0&&!i.initialized&&i.matches.length>0)e=i.matches;else return null}let u=e,d=(a=i)==null?void 0:a.errors;if(d!=null){let p=u.findIndex(m=>m.route.id&&(d==null?void 0:d[m.route.id])!==void 0);p>=0||Ge(!1),u=u.slice(0,Math.min(u.length,p+1))}let f=!1,h=-1;if(i&&s&&s.v7_partialHydration)for(let p=0;p<u.length;p++){let m=u[p];if((m.route.HydrateFallback||m.route.hydrateFallbackElement)&&(h=p),m.route.id){let{loaderData:g,errors:y}=i,N=m.route.loader&&g[m.route.id]===void 0&&(!y||y[m.route.id]===void 0);if(m.route.lazy||N){f=!0,h>=0?u=u.slice(0,h+1):u=[u[0]];break}}}return u.reduceRight((p,m,g)=>{let y,N=!1,k=null,w=null;i&&(y=d&&m.route.id?d[m.route.id]:void 0,k=m.route.errorElement||Zv,f&&(h<0&&g===0?(ay("route-fallback"),N=!0,w=null):h===g&&(N=!0,w=m.route.hydrateFallbackElement||null)));let S=r.concat(u.slice(0,g+1)),C=()=>{let E;return y?E=k:N?E=w:m.route.Component?E=R.createElement(m.route.Component,null):m.route.element?E=m.route.element:E=p,R.createElement(ey,{match:m,routeContext:{outlet:p,matches:S,isDataRoute:i!=null},children:E})};return i&&(m.route.ErrorBoundary||m.route.errorElement||g===0)?R.createElement(Jv,{location:i.location,revalidation:i.revalidation,component:k,error:y,children:C(),routeContext:{outlet:null,matches:S,isDataRoute:!0}}):C()},null)}var R0=(function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e})(R0||{}),O0=(function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e})(O0||{});function ny(e){let r=R.useContext(Vc);return r||Ge(!1),r}function ry(e){let r=R.useContext(Wv);return r||Ge(!1),r}function iy(e){let r=R.useContext(an);return r||Ge(!1),r}function D0(e){let r=iy(),i=r.matches[r.matches.length-1];return i.route.id||Ge(!1),i.route.id}function oy(){var e;let r=R.useContext(L0),i=ry(),s=D0();return r!==void 0?r:(e=i.errors)==null?void 0:e[s]}function sy(){let{router:e}=ny(R0.UseNavigateStable),r=D0(O0.UseNavigateStable),i=R.useRef(!1);return P0(()=>{i.current=!0}),R.useCallback(function(a,l){l===void 0&&(l={}),i.current&&(typeof a=="number"?e.navigate(a):e.navigate(a,Eo({fromRouteId:r},l)))},[e,r])}const qh={};function ay(e,r,i){qh[e]||(qh[e]=!0)}function ly(e,r){e==null||e.v7_startTransition,e==null||e.v7_relativeSplatPath}function uy(e){let{to:r,replace:i,state:s,relative:a}=e;yi()||Ge(!1);let{future:l,static:u}=R.useContext(Jn),{matches:d}=R.useContext(an),{pathname:f}=wi(),h=er(),p=Fc(r,Bc(d,l.v7_relativeSplatPath),f,a==="path"),m=JSON.stringify(p);return R.useEffect(()=>h(JSON.parse(m),{replace:i,state:s,relative:a}),[h,m,a,i,s]),null}function cy(e){return Gv(e.context)}function Ht(e){Ge(!1)}function dy(e){let{basename:r="/",children:i=null,location:s,navigationType:a=Qn.Pop,navigator:l,static:u=!1,future:d}=e;yi()&&Ge(!1);let f=r.replace(/^\/*/,"/"),h=R.useMemo(()=>({basename:f,navigator:l,static:u,future:Eo({v7_relativeSplatPath:!1},d)}),[f,d,l,u]);typeof s=="string"&&(s=vi(s));let{pathname:p="/",search:m="",hash:g="",state:y=null,key:N="default"}=s,k=R.useMemo(()=>{let w=$c(p,f);return w==null?null:{location:{pathname:w,search:m,hash:g,state:y,key:N},navigationType:a}},[f,p,m,g,y,N,a]);return k==null?null:R.createElement(Jn.Provider,{value:h},R.createElement(Da.Provider,{children:i,value:k}))}function fy(e){let{children:r,location:i}=e;return Qv(bc(r),i)}new Promise(()=>{});function bc(e,r){r===void 0&&(r=[]);let i=[];return R.Children.forEach(e,(s,a)=>{if(!R.isValidElement(s))return;let l=[...r,a];if(s.type===R.Fragment){i.push.apply(i,bc(s.props.children,l));return}s.type!==Ht&&Ge(!1),!s.props.index||!s.props.children||Ge(!1);let u={id:s.props.id||l.join("-"),caseSensitive:s.props.caseSensitive,element:s.props.element,Component:s.props.Component,index:s.props.index,path:s.props.path,loader:s.props.loader,action:s.props.action,errorElement:s.props.errorElement,ErrorBoundary:s.props.ErrorBoundary,hasErrorBoundary:s.props.ErrorBoundary!=null||s.props.errorElement!=null,shouldRevalidate:s.props.shouldRevalidate,handle:s.props.handle,lazy:s.props.lazy};s.props.children&&(u.children=bc(s.props.children,l)),i.push(u)}),i}/**
 * React Router DOM v6.30.3
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function kc(){return kc=Object.assign?Object.assign.bind():function(e){for(var r=1;r<arguments.length;r++){var i=arguments[r];for(var s in i)Object.prototype.hasOwnProperty.call(i,s)&&(e[s]=i[s])}return e},kc.apply(this,arguments)}function hy(e,r){if(e==null)return{};var i={},s=Object.keys(e),a,l;for(l=0;l<s.length;l++)a=s[l],!(r.indexOf(a)>=0)&&(i[a]=e[a]);return i}function py(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function my(e,r){return e.button===0&&(!r||r==="_self")&&!py(e)}const gy=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],xy="6";try{window.__reactRouterVersion=xy}catch{}const vy="startTransition",Zh=dv[vy];function yy(e){let{basename:r,children:i,future:s,window:a}=e,l=R.useRef();l.current==null&&(l.current=xv({window:a,v5Compat:!0}));let u=l.current,[d,f]=R.useState({action:u.action,location:u.location}),{v7_startTransition:h}=s||{},p=R.useCallback(m=>{h&&Zh?Zh(()=>f(m)):f(m)},[f,h]);return R.useLayoutEffect(()=>u.listen(p),[u,p]),R.useEffect(()=>ly(s),[s]),R.createElement(dy,{basename:r,children:i,location:d.location,navigationType:d.action,navigator:u,future:s})}const wy=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",Ny=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,mo=R.forwardRef(function(r,i){let{onClick:s,relative:a,reloadDocument:l,replace:u,state:d,target:f,to:h,preventScrollReset:p,viewTransition:m}=r,g=hy(r,gy),{basename:y}=R.useContext(Jn),N,k=!1;if(typeof h=="string"&&Ny.test(h)&&(N=h,wy))try{let E=new URL(window.location.href),_=h.startsWith("//")?new URL(E.protocol+h):new URL(h),M=$c(_.pathname,y);_.origin===E.origin&&M!=null?h=M+_.search+_.hash:k=!0}catch{}let w=Uv(h,{relative:a}),S=by(h,{replace:u,state:d,target:f,preventScrollReset:p,relative:a,viewTransition:m});function C(E){s&&s(E),E.defaultPrevented||S(E)}return R.createElement("a",kc({},g,{href:N||w,onClick:k||l?s:C,ref:i,target:f}))});var Jh;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(Jh||(Jh={}));var ep;(function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"})(ep||(ep={}));function by(e,r){let{target:i,replace:s,state:a,preventScrollReset:l,relative:u,viewTransition:d}=r===void 0?{}:r,f=er(),h=wi(),p=T0(e,{relative:u});return R.useCallback(m=>{if(my(m,i)){m.preventDefault();let g=s!==void 0?s:Sa(h)===Sa(p);f(e,{replace:g,state:a,preventScrollReset:l,relative:u,viewTransition:d})}},[h,f,p,s,a,i,e,l,u,d])}function ky(){const e=wi(),r=e.pathname==="/organizacao",i=e.pathname==="/planejamento-profissional",s=e.pathname==="/tarefas-diarias",a=e.pathname==="/visualizacao-ideias";return x.jsxs("div",{className:"flex h-screen overflow-hidden",children:[x.jsxs("aside",{className:"w-56 flex-shrink-0 border-r border-zinc-800 bg-surface-900 flex flex-col animate-fade-in",children:[x.jsx("div",{className:"p-4 border-b border-zinc-800",children:x.jsx(mo,{to:"/",className:"text-lg font-semibold text-white tracking-tight",children:"Obsidian Premium"})}),x.jsxs("nav",{className:"flex-1 p-3 space-y-0.5",children:[x.jsx(mo,{to:"/visualizacao-ideias",className:`block rounded-lg px-3 py-2 text-sm transition-colors ${a?"bg-accent/15 text-accent":"text-zinc-400 hover:bg-zinc-800 hover:text-zinc-200"}`,children:"Segundo Crebro"}),x.jsx(mo,{to:"/tarefas-diarias",className:`block rounded-lg px-3 py-2 text-sm transition-colors ${s?"bg-accent/15 text-accent":"text-zinc-400 hover:bg-zinc-800 hover:text-zinc-200"}`,children:"Tarefas Diarias"}),x.jsx(mo,{to:"/planejamento-profissional",className:`block rounded-lg px-3 py-2 text-sm transition-colors ${i?"bg-accent/15 text-accent":"text-zinc-400 hover:bg-zinc-800 hover:text-zinc-200"}`,children:"Planejamento Empresarial"}),x.jsxs("div",{className:"pt-2 mt-2 border-t border-zinc-800",children:[x.jsx("p",{className:"px-3 py-1.5 text-xs font-medium uppercase tracking-wider text-zinc-500",children:"Cadastros"}),x.jsx(mo,{to:"/organizacao",className:`block rounded-lg px-3 py-2 text-sm transition-colors ${r?"bg-accent/15 text-accent":"text-zinc-400 hover:bg-zinc-800 hover:text-zinc-200"}`,children:"Interesses e reas"})]})]})]}),x.jsx("main",{className:"flex-1 min-h-0 overflow-auto",children:x.jsx(cy,{})})]})}const $a="/api/documents";async function Ba(e){if(!e.ok){const r=await e.text();throw new Error(r||e.statusText)}return e.status===204?null:e.json()}async function Ey(){const e=await fetch($a);return await Ba(e)}async function Sy(e){const r=await fetch($a,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)});return await Ba(r)}async function tp(e,r){const i=await fetch(`${$a}/${encodeURIComponent(e)}`,{method:"PATCH",headers:{"Content-Type":"application/json"},body:JSON.stringify(r)});return await Ba(i)}async function _y(e){const r=await fetch(`${$a}/${encodeURIComponent(e)}`,{method:"DELETE"});await Ba(r)}function So(){if(typeof crypto<"u"&&typeof crypto.randomUUID=="function")return crypto.randomUUID();const e=new Uint8Array(16);if(typeof crypto<"u"&&typeof crypto.getRandomValues=="function")crypto.getRandomValues(e);else for(let i=0;i<16;i++)e[i]=Math.floor(Math.random()*256);e[6]=e[6]&15|64,e[8]=e[8]&63|128;const r=[...e].map(i=>i.toString(16).padStart(2,"0")).join("");return`${r.slice(0,8)}-${r.slice(8,12)}-${r.slice(12,16)}-${r.slice(16,20)}-${r.slice(20)}`}const np=/\[\[([^\]]+)\]\]/g;function Cy(e){const r=[];let i;for(np.lastIndex=0;(i=np.exec(e))!==null;){const s=i[1].trim();s&&!r.includes(s)&&r.push(s)}return r}function Ni(){const[e,r]=R.useState([]),[i,s]=R.useState(!1),a=R.useCallback(async()=>{try{const y=await Ey();r(y)}finally{s(!0)}},[]);R.useEffect(()=>{a().catch(()=>{})},[a]);const l=R.useCallback(y=>e.find(N=>N.id===y),[e]),u=R.useCallback(y=>{const N=y.trim().toLowerCase();return e.find(k=>k.title.trim().toLowerCase()===N)},[e]),d=R.useCallback(async y=>{const N={id:So(),createdAt:new Date().toISOString(),title:y.title||"Sem ttulo",cover:y.cover??"",content:y.content??"",interest:y.interest??"",area:y.area??"",tags:y.tags??[],relations:y.relations??[]},k=await Sy(N);return r(w=>[...w,k]),k},[]),f=R.useCallback(async(y,N)=>{const k=await tp(y,N);return r(w=>w.map(S=>S.id===y?k:S)),k},[]),h=R.useCallback(async(y,N)=>{const k=new Map(e.map(E=>[E.title.trim().toLowerCase(),E.id])),S=Cy(N).map(E=>k.get(E.trim().toLowerCase())).filter(E=>!!E&&E!==y).map(E=>({targetId:E,type:"link"})),C=await tp(y,{relations:S});r(E=>E.map(_=>_.id===y?C:_))},[e]),p=R.useCallback(y=>e.filter(N=>N.relations.some(k=>k.targetId===y)),[e]),m=R.useCallback(async y=>(await _y(y),r(N=>N.filter(k=>k.id!==y)),!0),[]);return{documents:R.useMemo(()=>e,[e]),isLoaded:i,getById:l,getByTitle:u,create:d,update:f,remove:m,syncRelations:h,backlinks:p,refresh:a}}const Fa="/api/interests",Va="/api/areas";async function tr(e){if(!e.ok){const r=await e.text();throw new Error(r||e.statusText)}return e.status===204?null:e.json()}async function jy(){const e=await fetch(Fa);return await tr(e)}async function zy(e){const r=await fetch(Fa,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)});return await tr(r)}async function My(e,r){const i=await fetch(`${Fa}/${encodeURIComponent(e)}`,{method:"PATCH",headers:{"Content-Type":"application/json"},body:JSON.stringify({name:r})});return await tr(i)}async function Iy(e){const r=await fetch(`${Fa}/${encodeURIComponent(e)}`,{method:"DELETE"});await tr(r)}async function Ly(){const e=await fetch(Va);return await tr(e)}async function Py(e){const r=await fetch(Va,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)});return await tr(r)}async function Ay(e,r){const i=await fetch(`${Va}/${encodeURIComponent(e)}`,{method:"PATCH",headers:{"Content-Type":"application/json"},body:JSON.stringify({name:r})});return await tr(i)}async function Ty(e){const r=await fetch(`${Va}/${encodeURIComponent(e)}`,{method:"DELETE"});await tr(r)}function bi(){const[e,r]=R.useState([]),[i,s]=R.useState([]),a=R.useCallback(async()=>{const[g,y]=await Promise.all([jy(),Ly()]);r(g),s(y)},[]);R.useEffect(()=>{a().catch(()=>{})},[a]);const l=R.useCallback(async g=>{const y=g.trim();if(!y||e.some(w=>w.name.trim().toLowerCase()===y.toLowerCase()))return null;const k=await zy({id:So(),name:y,createdAt:new Date().toISOString()});return r(w=>[...w,k]),k},[e]),u=R.useCallback(async(g,y)=>{const N=g.trim();if(!N||!y||i.some(S=>S.interestId===y&&S.name.trim().toLowerCase()===N.toLowerCase()))return null;const w=await Py({id:So(),name:N,interestId:y,createdAt:new Date().toISOString()});return s(S=>[...S,w]),w},[i]),d=R.useCallback(async g=>(await Iy(g),r(y=>y.filter(N=>N.id!==g)),s(y=>y.filter(N=>N.interestId!==g)),!0),[]),f=R.useCallback(async g=>(await Ty(g),s(y=>y.filter(N=>N.id!==g)),!0),[]),h=R.useCallback(async(g,y)=>{const N=y.trim();if(!N||e.some(S=>S.id!==g&&S.name.trim().toLowerCase()===N.toLowerCase()))return null;const w=await My(g,N);return r(S=>S.map(C=>C.id===g?w:C)),w},[e]),p=R.useCallback(async(g,y)=>{const N=y.trim();if(!N)return null;const k=i.find(C=>C.id===g);if(!k||i.some(C=>C.id!==g&&C.interestId===k.interestId&&C.name.trim().toLowerCase()===N.toLowerCase()))return null;const S=await Ay(g,N);return s(C=>C.map(E=>E.id===g?S:E)),S},[i]),m=R.useMemo(()=>{const g=new Map;for(const y of i){const N=g.get(y.interestId)??[];N.push(y),g.set(y.interestId,N)}return g},[i]);return{interests:e,areas:i,areasByInterestId:m,addInterest:l,addArea:u,removeInterest:d,removeArea:f,editInterest:h,editArea:p,refresh:a}}function Ry({doc:e,onSave:r}){const[i,s]=R.useState(e.title),[a,l]=R.useState(e.cover),[u,d]=R.useState(e.content),[f,h]=R.useState(e.interest),[p,m]=R.useState(e.area),g=R.useRef(null),y=R.useRef(!1),{interests:N,areasByInterestId:k}=bi(),w=R.useCallback(()=>{y.current=!0},[]),S=R.useCallback(M=>{var V;const O=(V=M.target.files)==null?void 0:V[0];if(!(O!=null&&O.type.startsWith("image/")))return;const F=new FileReader;F.onload=()=>{w(),l(F.result)},F.readAsDataURL(O)},[w]),C=R.useCallback(()=>{r({title:i.trim()||"Sem ttulo",cover:a,content:u,interest:f.trim(),area:p.trim(),tags:e.tags})},[i,a,u,f,p,e.tags,r]);R.useEffect(()=>{if(!y.current)return;const M=window.setTimeout(()=>{C()},600);return()=>window.clearTimeout(M)},[i,a,u,f,p,C]);const E=N.find(M=>M.name===f),_=E?k.get(E.id)??[]:[];return x.jsxs("article",{className:"animate-fade-in text-zinc-300",children:[x.jsxs("div",{className:"mb-8",children:[x.jsx("input",{type:"file",ref:g,accept:"image/*",className:"hidden",onChange:S}),x.jsxs("div",{className:"mb-8 flex flex-wrap items-center gap-x-6 gap-y-2 text-sm text-zinc-500",children:[x.jsx("button",{type:"button",onClick:()=>{var M;return(M=g.current)==null?void 0:M.click()},className:"text-left text-sm text-zinc-500 hover:text-zinc-400 transition-colors",children:a?"Alterar capa":"+ Adicionar capa"}),x.jsxs("select",{value:f,onChange:M=>{var G;w();const O=M.target.value;h(O);const F=N.find(X=>X.name===O);if(!F){m("");return}const V=k.get(F.id)??[];V.some(X=>X.name===p)||m(((G=V[0])==null?void 0:G.name)??"")},className:"h-7 min-w-[160px] border-none bg-transparent p-0 text-sm text-zinc-400 focus:outline-none",children:[x.jsx("option",{value:"",className:"bg-surface-950 text-zinc-300",children:"Interesse"}),N.map(M=>x.jsx("option",{value:M.name,className:"bg-surface-950 text-zinc-300",children:M.name},M.id))]}),x.jsxs("select",{value:p,onChange:M=>{w(),m(M.target.value)},className:"h-7 min-w-[220px] border-none bg-transparent p-0 text-sm text-zinc-400 focus:outline-none",disabled:!E,children:[x.jsx("option",{value:"",className:"bg-surface-950 text-zinc-300",children:"rea"}),_.map(M=>x.jsx("option",{value:M.name,className:"bg-surface-950 text-zinc-300",children:M.name},M.id))]}),x.jsx("span",{className:"text-xs text-zinc-600",children:"Salvamento automatico"})]}),a&&x.jsx("button",{type:"button",onClick:()=>{var M;return(M=g.current)==null?void 0:M.click()},className:"mb-6 block h-52 w-full overflow-hidden bg-surface-900/30",children:x.jsx("img",{src:a,alt:"",className:"w-full h-full object-cover"})}),x.jsx("input",{type:"text",value:i,onChange:M=>{w(),s(M.target.value)},placeholder:"Ttulo",className:"w-full bg-transparent text-[42px] leading-tight font-semibold tracking-tight text-zinc-100 placeholder-zinc-600 border-none focus:outline-none focus:ring-0"})]}),x.jsx("div",{className:"mb-12",children:x.jsx("textarea",{value:u,onChange:M=>{w(),d(M.target.value)},placeholder:"Comece a escrever...",className:"w-full min-h-[56vh] resize-y border-none bg-transparent p-0 text-[16px] leading-8 text-zinc-300 placeholder-zinc-600 focus:outline-none",spellCheck:!0})})]})}const rp={id:"",title:"",cover:"",content:"",interest:"",area:"",tags:[],relations:[],createdAt:""};function Oy(){const{id:e}=A0(),r=er(),{documents:i,getById:s,create:a,update:l,syncRelations:u,refresh:d}=Ni(),[f,h]=R.useState(e==="new"?rp:null);R.useEffect(()=>{if(e&&e!=="new"){const y=s(e);h(y??null)}else e==="new"&&h(rp)},[e,s,i]),R.useEffect(()=>{d().catch(()=>{})},[d]);const p=R.useMemo(()=>f,[f]),m=e==="new"||!(p!=null&&p.id),g=async y=>{if(m){const N=await a({...y,relations:[]});if(!N)return;await u(N.id,y.content),await d(),r(`/doc/${N.id}`,{replace:!0}),h(s(N.id)??null);return}p!=null&&p.id&&(await l(p.id,y),await u(p.id,y.content),await d(),h(s(p.id)??null))};return e&&e!=="new"&&!p?x.jsx("div",{className:"mx-auto w-full max-w-[840px] px-10 py-12 text-zinc-500",children:"Documento no encontrado."}):p?x.jsx("div",{className:"mx-auto w-full max-w-[840px] px-10 py-12",children:x.jsx(Ry,{doc:p,onSave:g})}):null}function qe(e){if(typeof e=="string"||typeof e=="number")return""+e;let r="";if(Array.isArray(e))for(let i=0,s;i<e.length;i++)(s=qe(e[i]))!==""&&(r+=(r&&" ")+s);else for(let i in e)e[i]&&(r+=(r&&" ")+i);return r}var Dy={value:()=>{}};function Oo(){for(var e=0,r=arguments.length,i={},s;e<r;++e){if(!(s=arguments[e]+"")||s in i||/[\s.]/.test(s))throw new Error("illegal type: "+s);i[s]=[]}return new ya(i)}function ya(e){this._=e}function $y(e,r){return e.trim().split(/^|\s+/).map(function(i){var s="",a=i.indexOf(".");if(a>=0&&(s=i.slice(a+1),i=i.slice(0,a)),i&&!r.hasOwnProperty(i))throw new Error("unknown type: "+i);return{type:i,name:s}})}ya.prototype=Oo.prototype={constructor:ya,on:function(e,r){var i=this._,s=$y(e+"",i),a,l=-1,u=s.length;if(arguments.length<2){for(;++l<u;)if((a=(e=s[l]).type)&&(a=By(i[a],e.name)))return a;return}if(r!=null&&typeof r!="function")throw new Error("invalid callback: "+r);for(;++l<u;)if(a=(e=s[l]).type)i[a]=ip(i[a],e.name,r);else if(r==null)for(a in i)i[a]=ip(i[a],e.name,null);return this},copy:function(){var e={},r=this._;for(var i in r)e[i]=r[i].slice();return new ya(e)},call:function(e,r){if((a=arguments.length-2)>0)for(var i=new Array(a),s=0,a,l;s<a;++s)i[s]=arguments[s+2];if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(l=this._[e],s=0,a=l.length;s<a;++s)l[s].value.apply(r,i)},apply:function(e,r,i){if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(var s=this._[e],a=0,l=s.length;a<l;++a)s[a].value.apply(r,i)}};function By(e,r){for(var i=0,s=e.length,a;i<s;++i)if((a=e[i]).name===r)return a.value}function ip(e,r,i){for(var s=0,a=e.length;s<a;++s)if(e[s].name===r){e[s]=Dy,e=e.slice(0,s).concat(e.slice(s+1));break}return i!=null&&e.push({name:r,value:i}),e}var Ec="http://www.w3.org/1999/xhtml";const op={svg:"http://www.w3.org/2000/svg",xhtml:Ec,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function Ha(e){var r=e+="",i=r.indexOf(":");return i>=0&&(r=e.slice(0,i))!=="xmlns"&&(e=e.slice(i+1)),op.hasOwnProperty(r)?{space:op[r],local:e}:e}function Fy(e){return function(){var r=this.ownerDocument,i=this.namespaceURI;return i===Ec&&r.documentElement.namespaceURI===Ec?r.createElement(e):r.createElementNS(i,e)}}function Vy(e){return function(){return this.ownerDocument.createElementNS(e.space,e.local)}}function $0(e){var r=Ha(e);return(r.local?Vy:Fy)(r)}function Hy(){}function Hc(e){return e==null?Hy:function(){return this.querySelector(e)}}function Wy(e){typeof e!="function"&&(e=Hc(e));for(var r=this._groups,i=r.length,s=new Array(i),a=0;a<i;++a)for(var l=r[a],u=l.length,d=s[a]=new Array(u),f,h,p=0;p<u;++p)(f=l[p])&&(h=e.call(f,f.__data__,p,l))&&("__data__"in f&&(h.__data__=f.__data__),d[p]=h);return new zt(s,this._parents)}function Uy(e){return e==null?[]:Array.isArray(e)?e:Array.from(e)}function Yy(){return[]}function B0(e){return e==null?Yy:function(){return this.querySelectorAll(e)}}function Xy(e){return function(){return Uy(e.apply(this,arguments))}}function Gy(e){typeof e=="function"?e=Xy(e):e=B0(e);for(var r=this._groups,i=r.length,s=[],a=[],l=0;l<i;++l)for(var u=r[l],d=u.length,f,h=0;h<d;++h)(f=u[h])&&(s.push(e.call(f,f.__data__,h,u)),a.push(f));return new zt(s,a)}function F0(e){return function(){return this.matches(e)}}function V0(e){return function(r){return r.matches(e)}}var Qy=Array.prototype.find;function Ky(e){return function(){return Qy.call(this.children,e)}}function qy(){return this.firstElementChild}function Zy(e){return this.select(e==null?qy:Ky(typeof e=="function"?e:V0(e)))}var Jy=Array.prototype.filter;function ew(){return Array.from(this.children)}function tw(e){return function(){return Jy.call(this.children,e)}}function nw(e){return this.selectAll(e==null?ew:tw(typeof e=="function"?e:V0(e)))}function rw(e){typeof e!="function"&&(e=F0(e));for(var r=this._groups,i=r.length,s=new Array(i),a=0;a<i;++a)for(var l=r[a],u=l.length,d=s[a]=[],f,h=0;h<u;++h)(f=l[h])&&e.call(f,f.__data__,h,l)&&d.push(f);return new zt(s,this._parents)}function H0(e){return new Array(e.length)}function iw(){return new zt(this._enter||this._groups.map(H0),this._parents)}function _a(e,r){this.ownerDocument=e.ownerDocument,this.namespaceURI=e.namespaceURI,this._next=null,this._parent=e,this.__data__=r}_a.prototype={constructor:_a,appendChild:function(e){return this._parent.insertBefore(e,this._next)},insertBefore:function(e,r){return this._parent.insertBefore(e,r)},querySelector:function(e){return this._parent.querySelector(e)},querySelectorAll:function(e){return this._parent.querySelectorAll(e)}};function ow(e){return function(){return e}}function sw(e,r,i,s,a,l){for(var u=0,d,f=r.length,h=l.length;u<h;++u)(d=r[u])?(d.__data__=l[u],s[u]=d):i[u]=new _a(e,l[u]);for(;u<f;++u)(d=r[u])&&(a[u]=d)}function aw(e,r,i,s,a,l,u){var d,f,h=new Map,p=r.length,m=l.length,g=new Array(p),y;for(d=0;d<p;++d)(f=r[d])&&(g[d]=y=u.call(f,f.__data__,d,r)+"",h.has(y)?a[d]=f:h.set(y,f));for(d=0;d<m;++d)y=u.call(e,l[d],d,l)+"",(f=h.get(y))?(s[d]=f,f.__data__=l[d],h.delete(y)):i[d]=new _a(e,l[d]);for(d=0;d<p;++d)(f=r[d])&&h.get(g[d])===f&&(a[d]=f)}function lw(e){return e.__data__}function uw(e,r){if(!arguments.length)return Array.from(this,lw);var i=r?aw:sw,s=this._parents,a=this._groups;typeof e!="function"&&(e=ow(e));for(var l=a.length,u=new Array(l),d=new Array(l),f=new Array(l),h=0;h<l;++h){var p=s[h],m=a[h],g=m.length,y=cw(e.call(p,p&&p.__data__,h,s)),N=y.length,k=d[h]=new Array(N),w=u[h]=new Array(N),S=f[h]=new Array(g);i(p,m,k,w,S,y,r);for(var C=0,E=0,_,M;C<N;++C)if(_=k[C]){for(C>=E&&(E=C+1);!(M=w[E])&&++E<N;);_._next=M||null}}return u=new zt(u,s),u._enter=d,u._exit=f,u}function cw(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function dw(){return new zt(this._exit||this._groups.map(H0),this._parents)}function fw(e,r,i){var s=this.enter(),a=this,l=this.exit();return typeof e=="function"?(s=e(s),s&&(s=s.selection())):s=s.append(e+""),r!=null&&(a=r(a),a&&(a=a.selection())),i==null?l.remove():i(l),s&&a?s.merge(a).order():a}function hw(e){for(var r=e.selection?e.selection():e,i=this._groups,s=r._groups,a=i.length,l=s.length,u=Math.min(a,l),d=new Array(a),f=0;f<u;++f)for(var h=i[f],p=s[f],m=h.length,g=d[f]=new Array(m),y,N=0;N<m;++N)(y=h[N]||p[N])&&(g[N]=y);for(;f<a;++f)d[f]=i[f];return new zt(d,this._parents)}function pw(){for(var e=this._groups,r=-1,i=e.length;++r<i;)for(var s=e[r],a=s.length-1,l=s[a],u;--a>=0;)(u=s[a])&&(l&&u.compareDocumentPosition(l)^4&&l.parentNode.insertBefore(u,l),l=u);return this}function mw(e){e||(e=gw);function r(m,g){return m&&g?e(m.__data__,g.__data__):!m-!g}for(var i=this._groups,s=i.length,a=new Array(s),l=0;l<s;++l){for(var u=i[l],d=u.length,f=a[l]=new Array(d),h,p=0;p<d;++p)(h=u[p])&&(f[p]=h);f.sort(r)}return new zt(a,this._parents).order()}function gw(e,r){return e<r?-1:e>r?1:e>=r?0:NaN}function xw(){var e=arguments[0];return arguments[0]=this,e.apply(null,arguments),this}function vw(){return Array.from(this)}function yw(){for(var e=this._groups,r=0,i=e.length;r<i;++r)for(var s=e[r],a=0,l=s.length;a<l;++a){var u=s[a];if(u)return u}return null}function ww(){let e=0;for(const r of this)++e;return e}function Nw(){return!this.node()}function bw(e){for(var r=this._groups,i=0,s=r.length;i<s;++i)for(var a=r[i],l=0,u=a.length,d;l<u;++l)(d=a[l])&&e.call(d,d.__data__,l,a);return this}function kw(e){return function(){this.removeAttribute(e)}}function Ew(e){return function(){this.removeAttributeNS(e.space,e.local)}}function Sw(e,r){return function(){this.setAttribute(e,r)}}function _w(e,r){return function(){this.setAttributeNS(e.space,e.local,r)}}function Cw(e,r){return function(){var i=r.apply(this,arguments);i==null?this.removeAttribute(e):this.setAttribute(e,i)}}function jw(e,r){return function(){var i=r.apply(this,arguments);i==null?this.removeAttributeNS(e.space,e.local):this.setAttributeNS(e.space,e.local,i)}}function zw(e,r){var i=Ha(e);if(arguments.length<2){var s=this.node();return i.local?s.getAttributeNS(i.space,i.local):s.getAttribute(i)}return this.each((r==null?i.local?Ew:kw:typeof r=="function"?i.local?jw:Cw:i.local?_w:Sw)(i,r))}function W0(e){return e.ownerDocument&&e.ownerDocument.defaultView||e.document&&e||e.defaultView}function Mw(e){return function(){this.style.removeProperty(e)}}function Iw(e,r,i){return function(){this.style.setProperty(e,r,i)}}function Lw(e,r,i){return function(){var s=r.apply(this,arguments);s==null?this.style.removeProperty(e):this.style.setProperty(e,s,i)}}function Pw(e,r,i){return arguments.length>1?this.each((r==null?Mw:typeof r=="function"?Lw:Iw)(e,r,i??"")):di(this.node(),e)}function di(e,r){return e.style.getPropertyValue(r)||W0(e).getComputedStyle(e,null).getPropertyValue(r)}function Aw(e){return function(){delete this[e]}}function Tw(e,r){return function(){this[e]=r}}function Rw(e,r){return function(){var i=r.apply(this,arguments);i==null?delete this[e]:this[e]=i}}function Ow(e,r){return arguments.length>1?this.each((r==null?Aw:typeof r=="function"?Rw:Tw)(e,r)):this.node()[e]}function U0(e){return e.trim().split(/^|\s+/)}function Wc(e){return e.classList||new Y0(e)}function Y0(e){this._node=e,this._names=U0(e.getAttribute("class")||"")}Y0.prototype={add:function(e){var r=this._names.indexOf(e);r<0&&(this._names.push(e),this._node.setAttribute("class",this._names.join(" ")))},remove:function(e){var r=this._names.indexOf(e);r>=0&&(this._names.splice(r,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(e){return this._names.indexOf(e)>=0}};function X0(e,r){for(var i=Wc(e),s=-1,a=r.length;++s<a;)i.add(r[s])}function G0(e,r){for(var i=Wc(e),s=-1,a=r.length;++s<a;)i.remove(r[s])}function Dw(e){return function(){X0(this,e)}}function $w(e){return function(){G0(this,e)}}function Bw(e,r){return function(){(r.apply(this,arguments)?X0:G0)(this,e)}}function Fw(e,r){var i=U0(e+"");if(arguments.length<2){for(var s=Wc(this.node()),a=-1,l=i.length;++a<l;)if(!s.contains(i[a]))return!1;return!0}return this.each((typeof r=="function"?Bw:r?Dw:$w)(i,r))}function Vw(){this.textContent=""}function Hw(e){return function(){this.textContent=e}}function Ww(e){return function(){var r=e.apply(this,arguments);this.textContent=r??""}}function Uw(e){return arguments.length?this.each(e==null?Vw:(typeof e=="function"?Ww:Hw)(e)):this.node().textContent}function Yw(){this.innerHTML=""}function Xw(e){return function(){this.innerHTML=e}}function Gw(e){return function(){var r=e.apply(this,arguments);this.innerHTML=r??""}}function Qw(e){return arguments.length?this.each(e==null?Yw:(typeof e=="function"?Gw:Xw)(e)):this.node().innerHTML}function Kw(){this.nextSibling&&this.parentNode.appendChild(this)}function qw(){return this.each(Kw)}function Zw(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function Jw(){return this.each(Zw)}function e1(e){var r=typeof e=="function"?e:$0(e);return this.select(function(){return this.appendChild(r.apply(this,arguments))})}function t1(){return null}function n1(e,r){var i=typeof e=="function"?e:$0(e),s=r==null?t1:typeof r=="function"?r:Hc(r);return this.select(function(){return this.insertBefore(i.apply(this,arguments),s.apply(this,arguments)||null)})}function r1(){var e=this.parentNode;e&&e.removeChild(this)}function i1(){return this.each(r1)}function o1(){var e=this.cloneNode(!1),r=this.parentNode;return r?r.insertBefore(e,this.nextSibling):e}function s1(){var e=this.cloneNode(!0),r=this.parentNode;return r?r.insertBefore(e,this.nextSibling):e}function a1(e){return this.select(e?s1:o1)}function l1(e){return arguments.length?this.property("__data__",e):this.node().__data__}function u1(e){return function(r){e.call(this,r,this.__data__)}}function c1(e){return e.trim().split(/^|\s+/).map(function(r){var i="",s=r.indexOf(".");return s>=0&&(i=r.slice(s+1),r=r.slice(0,s)),{type:r,name:i}})}function d1(e){return function(){var r=this.__on;if(r){for(var i=0,s=-1,a=r.length,l;i<a;++i)l=r[i],(!e.type||l.type===e.type)&&l.name===e.name?this.removeEventListener(l.type,l.listener,l.options):r[++s]=l;++s?r.length=s:delete this.__on}}}function f1(e,r,i){return function(){var s=this.__on,a,l=u1(r);if(s){for(var u=0,d=s.length;u<d;++u)if((a=s[u]).type===e.type&&a.name===e.name){this.removeEventListener(a.type,a.listener,a.options),this.addEventListener(a.type,a.listener=l,a.options=i),a.value=r;return}}this.addEventListener(e.type,l,i),a={type:e.type,name:e.name,value:r,listener:l,options:i},s?s.push(a):this.__on=[a]}}function h1(e,r,i){var s=c1(e+""),a,l=s.length,u;if(arguments.length<2){var d=this.node().__on;if(d){for(var f=0,h=d.length,p;f<h;++f)for(a=0,p=d[f];a<l;++a)if((u=s[a]).type===p.type&&u.name===p.name)return p.value}return}for(d=r?f1:d1,a=0;a<l;++a)this.each(d(s[a],r,i));return this}function Q0(e,r,i){var s=W0(e),a=s.CustomEvent;typeof a=="function"?a=new a(r,i):(a=s.document.createEvent("Event"),i?(a.initEvent(r,i.bubbles,i.cancelable),a.detail=i.detail):a.initEvent(r,!1,!1)),e.dispatchEvent(a)}function p1(e,r){return function(){return Q0(this,e,r)}}function m1(e,r){return function(){return Q0(this,e,r.apply(this,arguments))}}function g1(e,r){return this.each((typeof r=="function"?m1:p1)(e,r))}function*x1(){for(var e=this._groups,r=0,i=e.length;r<i;++r)for(var s=e[r],a=0,l=s.length,u;a<l;++a)(u=s[a])&&(yield u)}var K0=[null];function zt(e,r){this._groups=e,this._parents=r}function Do(){return new zt([[document.documentElement]],K0)}function v1(){return this}zt.prototype=Do.prototype={constructor:zt,select:Wy,selectAll:Gy,selectChild:Zy,selectChildren:nw,filter:rw,data:uw,enter:iw,exit:dw,join:fw,merge:hw,selection:v1,order:pw,sort:mw,call:xw,nodes:vw,node:yw,size:ww,empty:Nw,each:bw,attr:zw,style:Pw,property:Ow,classed:Fw,text:Uw,html:Qw,raise:qw,lower:Jw,append:e1,insert:n1,remove:i1,clone:a1,datum:l1,on:h1,dispatch:g1,[Symbol.iterator]:x1};function rt(e){return typeof e=="string"?new zt([[document.querySelector(e)]],[document.documentElement]):new zt([[e]],K0)}function y1(e){let r;for(;r=e.sourceEvent;)e=r;return e}function Wt(e,r){if(e=y1(e),r===void 0&&(r=e.currentTarget),r){var i=r.ownerSVGElement||r;if(i.createSVGPoint){var s=i.createSVGPoint();return s.x=e.clientX,s.y=e.clientY,s=s.matrixTransform(r.getScreenCTM().inverse()),[s.x,s.y]}if(r.getBoundingClientRect){var a=r.getBoundingClientRect();return[e.clientX-a.left-r.clientLeft,e.clientY-a.top-r.clientTop]}}return[e.pageX,e.pageY]}const w1={passive:!1},_o={capture:!0,passive:!1};function tc(e){e.stopImmediatePropagation()}function ui(e){e.preventDefault(),e.stopImmediatePropagation()}function q0(e){var r=e.document.documentElement,i=rt(e).on("dragstart.drag",ui,_o);"onselectstart"in r?i.on("selectstart.drag",ui,_o):(r.__noselect=r.style.MozUserSelect,r.style.MozUserSelect="none")}function Z0(e,r){var i=e.document.documentElement,s=rt(e).on("dragstart.drag",null);r&&(s.on("click.drag",ui,_o),setTimeout(function(){s.on("click.drag",null)},0)),"onselectstart"in i?s.on("selectstart.drag",null):(i.style.MozUserSelect=i.__noselect,delete i.__noselect)}const ua=e=>()=>e;function Sc(e,{sourceEvent:r,subject:i,target:s,identifier:a,active:l,x:u,y:d,dx:f,dy:h,dispatch:p}){Object.defineProperties(this,{type:{value:e,enumerable:!0,configurable:!0},sourceEvent:{value:r,enumerable:!0,configurable:!0},subject:{value:i,enumerable:!0,configurable:!0},target:{value:s,enumerable:!0,configurable:!0},identifier:{value:a,enumerable:!0,configurable:!0},active:{value:l,enumerable:!0,configurable:!0},x:{value:u,enumerable:!0,configurable:!0},y:{value:d,enumerable:!0,configurable:!0},dx:{value:f,enumerable:!0,configurable:!0},dy:{value:h,enumerable:!0,configurable:!0},_:{value:p}})}Sc.prototype.on=function(){var e=this._.on.apply(this._,arguments);return e===this._?this:e};function N1(e){return!e.ctrlKey&&!e.button}function b1(){return this.parentNode}function k1(e,r){return r??{x:e.x,y:e.y}}function E1(){return navigator.maxTouchPoints||"ontouchstart"in this}function Uc(){var e=N1,r=b1,i=k1,s=E1,a={},l=Oo("start","drag","end"),u=0,d,f,h,p,m=0;function g(_){_.on("mousedown.drag",y).filter(s).on("touchstart.drag",w).on("touchmove.drag",S,w1).on("touchend.drag touchcancel.drag",C).style("touch-action","none").style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}function y(_,M){if(!(p||!e.call(this,_,M))){var O=E(this,r.call(this,_,M),_,M,"mouse");O&&(rt(_.view).on("mousemove.drag",N,_o).on("mouseup.drag",k,_o),q0(_.view),tc(_),h=!1,d=_.clientX,f=_.clientY,O("start",_))}}function N(_){if(ui(_),!h){var M=_.clientX-d,O=_.clientY-f;h=M*M+O*O>m}a.mouse("drag",_)}function k(_){rt(_.view).on("mousemove.drag mouseup.drag",null),Z0(_.view,h),ui(_),a.mouse("end",_)}function w(_,M){if(e.call(this,_,M)){var O=_.changedTouches,F=r.call(this,_,M),V=O.length,Z,G;for(Z=0;Z<V;++Z)(G=E(this,F,_,M,O[Z].identifier,O[Z]))&&(tc(_),G("start",_,O[Z]))}}function S(_){var M=_.changedTouches,O=M.length,F,V;for(F=0;F<O;++F)(V=a[M[F].identifier])&&(ui(_),V("drag",_,M[F]))}function C(_){var M=_.changedTouches,O=M.length,F,V;for(p&&clearTimeout(p),p=setTimeout(function(){p=null},500),F=0;F<O;++F)(V=a[M[F].identifier])&&(tc(_),V("end",_,M[F]))}function E(_,M,O,F,V,Z){var G=l.copy(),X=Wt(Z||O,M),B,D,j;if((j=i.call(_,new Sc("beforestart",{sourceEvent:O,target:g,identifier:V,active:u,x:X[0],y:X[1],dx:0,dy:0,dispatch:G}),F))!=null)return B=j.x-X[0]||0,D=j.y-X[1]||0,function Q($,W,z){var P=X,H;switch($){case"start":a[V]=Q,H=u++;break;case"end":delete a[V],--u;case"drag":X=Wt(z||W,M),H=u;break}G.call($,_,new Sc($,{sourceEvent:W,subject:j,target:g,identifier:V,active:H,x:X[0]+B,y:X[1]+D,dx:X[0]-P[0],dy:X[1]-P[1],dispatch:G}),F)}}return g.filter=function(_){return arguments.length?(e=typeof _=="function"?_:ua(!!_),g):e},g.container=function(_){return arguments.length?(r=typeof _=="function"?_:ua(_),g):r},g.subject=function(_){return arguments.length?(i=typeof _=="function"?_:ua(_),g):i},g.touchable=function(_){return arguments.length?(s=typeof _=="function"?_:ua(!!_),g):s},g.on=function(){var _=l.on.apply(l,arguments);return _===l?g:_},g.clickDistance=function(_){return arguments.length?(m=(_=+_)*_,g):Math.sqrt(m)},g}function Yc(e,r,i){e.prototype=r.prototype=i,i.constructor=e}function J0(e,r){var i=Object.create(e.prototype);for(var s in r)i[s]=r[s];return i}function $o(){}var Co=.7,Ca=1/Co,ci="\\s*([+-]?\\d+)\\s*",jo="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",rn="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",S1=/^#([0-9a-f]{3,8})$/,_1=new RegExp(`^rgb\\(${ci},${ci},${ci}\\)$`),C1=new RegExp(`^rgb\\(${rn},${rn},${rn}\\)$`),j1=new RegExp(`^rgba\\(${ci},${ci},${ci},${jo}\\)$`),z1=new RegExp(`^rgba\\(${rn},${rn},${rn},${jo}\\)$`),M1=new RegExp(`^hsl\\(${jo},${rn},${rn}\\)$`),I1=new RegExp(`^hsla\\(${jo},${rn},${rn},${jo}\\)$`),sp={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};Yc($o,_r,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:ap,formatHex:ap,formatHex8:L1,formatHsl:P1,formatRgb:lp,toString:lp});function ap(){return this.rgb().formatHex()}function L1(){return this.rgb().formatHex8()}function P1(){return em(this).formatHsl()}function lp(){return this.rgb().formatRgb()}function _r(e){var r,i;return e=(e+"").trim().toLowerCase(),(r=S1.exec(e))?(i=r[1].length,r=parseInt(r[1],16),i===6?up(r):i===3?new kt(r>>8&15|r>>4&240,r>>4&15|r&240,(r&15)<<4|r&15,1):i===8?ca(r>>24&255,r>>16&255,r>>8&255,(r&255)/255):i===4?ca(r>>12&15|r>>8&240,r>>8&15|r>>4&240,r>>4&15|r&240,((r&15)<<4|r&15)/255):null):(r=_1.exec(e))?new kt(r[1],r[2],r[3],1):(r=C1.exec(e))?new kt(r[1]*255/100,r[2]*255/100,r[3]*255/100,1):(r=j1.exec(e))?ca(r[1],r[2],r[3],r[4]):(r=z1.exec(e))?ca(r[1]*255/100,r[2]*255/100,r[3]*255/100,r[4]):(r=M1.exec(e))?fp(r[1],r[2]/100,r[3]/100,1):(r=I1.exec(e))?fp(r[1],r[2]/100,r[3]/100,r[4]):sp.hasOwnProperty(e)?up(sp[e]):e==="transparent"?new kt(NaN,NaN,NaN,0):null}function up(e){return new kt(e>>16&255,e>>8&255,e&255,1)}function ca(e,r,i,s){return s<=0&&(e=r=i=NaN),new kt(e,r,i,s)}function A1(e){return e instanceof $o||(e=_r(e)),e?(e=e.rgb(),new kt(e.r,e.g,e.b,e.opacity)):new kt}function _c(e,r,i,s){return arguments.length===1?A1(e):new kt(e,r,i,s??1)}function kt(e,r,i,s){this.r=+e,this.g=+r,this.b=+i,this.opacity=+s}Yc(kt,_c,J0($o,{brighter(e){return e=e==null?Ca:Math.pow(Ca,e),new kt(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=e==null?Co:Math.pow(Co,e),new kt(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new kt(Er(this.r),Er(this.g),Er(this.b),ja(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:cp,formatHex:cp,formatHex8:T1,formatRgb:dp,toString:dp}));function cp(){return`#${kr(this.r)}${kr(this.g)}${kr(this.b)}`}function T1(){return`#${kr(this.r)}${kr(this.g)}${kr(this.b)}${kr((isNaN(this.opacity)?1:this.opacity)*255)}`}function dp(){const e=ja(this.opacity);return`${e===1?"rgb(":"rgba("}${Er(this.r)}, ${Er(this.g)}, ${Er(this.b)}${e===1?")":`, ${e})`}`}function ja(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function Er(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function kr(e){return e=Er(e),(e<16?"0":"")+e.toString(16)}function fp(e,r,i,s){return s<=0?e=r=i=NaN:i<=0||i>=1?e=r=NaN:r<=0&&(e=NaN),new Ut(e,r,i,s)}function em(e){if(e instanceof Ut)return new Ut(e.h,e.s,e.l,e.opacity);if(e instanceof $o||(e=_r(e)),!e)return new Ut;if(e instanceof Ut)return e;e=e.rgb();var r=e.r/255,i=e.g/255,s=e.b/255,a=Math.min(r,i,s),l=Math.max(r,i,s),u=NaN,d=l-a,f=(l+a)/2;return d?(r===l?u=(i-s)/d+(i<s)*6:i===l?u=(s-r)/d+2:u=(r-i)/d+4,d/=f<.5?l+a:2-l-a,u*=60):d=f>0&&f<1?0:u,new Ut(u,d,f,e.opacity)}function R1(e,r,i,s){return arguments.length===1?em(e):new Ut(e,r,i,s??1)}function Ut(e,r,i,s){this.h=+e,this.s=+r,this.l=+i,this.opacity=+s}Yc(Ut,R1,J0($o,{brighter(e){return e=e==null?Ca:Math.pow(Ca,e),new Ut(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?Co:Math.pow(Co,e),new Ut(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+(this.h<0)*360,r=isNaN(e)||isNaN(this.s)?0:this.s,i=this.l,s=i+(i<.5?i:1-i)*r,a=2*i-s;return new kt(nc(e>=240?e-240:e+120,a,s),nc(e,a,s),nc(e<120?e+240:e-120,a,s),this.opacity)},clamp(){return new Ut(hp(this.h),da(this.s),da(this.l),ja(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=ja(this.opacity);return`${e===1?"hsl(":"hsla("}${hp(this.h)}, ${da(this.s)*100}%, ${da(this.l)*100}%${e===1?")":`, ${e})`}`}}));function hp(e){return e=(e||0)%360,e<0?e+360:e}function da(e){return Math.max(0,Math.min(1,e||0))}function nc(e,r,i){return(e<60?r+(i-r)*e/60:e<180?i:e<240?r+(i-r)*(240-e)/60:r)*255}const Xc=e=>()=>e;function O1(e,r){return function(i){return e+i*r}}function D1(e,r,i){return e=Math.pow(e,i),r=Math.pow(r,i)-e,i=1/i,function(s){return Math.pow(e+s*r,i)}}function $1(e){return(e=+e)==1?tm:function(r,i){return i-r?D1(r,i,e):Xc(isNaN(r)?i:r)}}function tm(e,r){var i=r-e;return i?O1(e,i):Xc(isNaN(e)?r:e)}const za=(function e(r){var i=$1(r);function s(a,l){var u=i((a=_c(a)).r,(l=_c(l)).r),d=i(a.g,l.g),f=i(a.b,l.b),h=tm(a.opacity,l.opacity);return function(p){return a.r=u(p),a.g=d(p),a.b=f(p),a.opacity=h(p),a+""}}return s.gamma=e,s})(1);function B1(e,r){r||(r=[]);var i=e?Math.min(r.length,e.length):0,s=r.slice(),a;return function(l){for(a=0;a<i;++a)s[a]=e[a]*(1-l)+r[a]*l;return s}}function F1(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}function V1(e,r){var i=r?r.length:0,s=e?Math.min(i,e.length):0,a=new Array(s),l=new Array(i),u;for(u=0;u<s;++u)a[u]=wo(e[u],r[u]);for(;u<i;++u)l[u]=r[u];return function(d){for(u=0;u<s;++u)l[u]=a[u](d);return l}}function H1(e,r){var i=new Date;return e=+e,r=+r,function(s){return i.setTime(e*(1-s)+r*s),i}}function nn(e,r){return e=+e,r=+r,function(i){return e*(1-i)+r*i}}function W1(e,r){var i={},s={},a;(e===null||typeof e!="object")&&(e={}),(r===null||typeof r!="object")&&(r={});for(a in r)a in e?i[a]=wo(e[a],r[a]):s[a]=r[a];return function(l){for(a in i)s[a]=i[a](l);return s}}var Cc=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,rc=new RegExp(Cc.source,"g");function U1(e){return function(){return e}}function Y1(e){return function(r){return e(r)+""}}function nm(e,r){var i=Cc.lastIndex=rc.lastIndex=0,s,a,l,u=-1,d=[],f=[];for(e=e+"",r=r+"";(s=Cc.exec(e))&&(a=rc.exec(r));)(l=a.index)>i&&(l=r.slice(i,l),d[u]?d[u]+=l:d[++u]=l),(s=s[0])===(a=a[0])?d[u]?d[u]+=a:d[++u]=a:(d[++u]=null,f.push({i:u,x:nn(s,a)})),i=rc.lastIndex;return i<r.length&&(l=r.slice(i),d[u]?d[u]+=l:d[++u]=l),d.length<2?f[0]?Y1(f[0].x):U1(r):(r=f.length,function(h){for(var p=0,m;p<r;++p)d[(m=f[p]).i]=m.x(h);return d.join("")})}function wo(e,r){var i=typeof r,s;return r==null||i==="boolean"?Xc(r):(i==="number"?nn:i==="string"?(s=_r(r))?(r=s,za):nm:r instanceof _r?za:r instanceof Date?H1:F1(r)?B1:Array.isArray(r)?V1:typeof r.valueOf!="function"&&typeof r.toString!="function"||isNaN(r)?W1:nn)(e,r)}var pp=180/Math.PI,jc={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function rm(e,r,i,s,a,l){var u,d,f;return(u=Math.sqrt(e*e+r*r))&&(e/=u,r/=u),(f=e*i+r*s)&&(i-=e*f,s-=r*f),(d=Math.sqrt(i*i+s*s))&&(i/=d,s/=d,f/=d),e*s<r*i&&(e=-e,r=-r,f=-f,u=-u),{translateX:a,translateY:l,rotate:Math.atan2(r,e)*pp,skewX:Math.atan(f)*pp,scaleX:u,scaleY:d}}var fa;function X1(e){const r=new(typeof DOMMatrix=="function"?DOMMatrix:WebKitCSSMatrix)(e+"");return r.isIdentity?jc:rm(r.a,r.b,r.c,r.d,r.e,r.f)}function G1(e){return e==null||(fa||(fa=document.createElementNS("http://www.w3.org/2000/svg","g")),fa.setAttribute("transform",e),!(e=fa.transform.baseVal.consolidate()))?jc:(e=e.matrix,rm(e.a,e.b,e.c,e.d,e.e,e.f))}function im(e,r,i,s){function a(h){return h.length?h.pop()+" ":""}function l(h,p,m,g,y,N){if(h!==m||p!==g){var k=y.push("translate(",null,r,null,i);N.push({i:k-4,x:nn(h,m)},{i:k-2,x:nn(p,g)})}else(m||g)&&y.push("translate("+m+r+g+i)}function u(h,p,m,g){h!==p?(h-p>180?p+=360:p-h>180&&(h+=360),g.push({i:m.push(a(m)+"rotate(",null,s)-2,x:nn(h,p)})):p&&m.push(a(m)+"rotate("+p+s)}function d(h,p,m,g){h!==p?g.push({i:m.push(a(m)+"skewX(",null,s)-2,x:nn(h,p)}):p&&m.push(a(m)+"skewX("+p+s)}function f(h,p,m,g,y,N){if(h!==m||p!==g){var k=y.push(a(y)+"scale(",null,",",null,")");N.push({i:k-4,x:nn(h,m)},{i:k-2,x:nn(p,g)})}else(m!==1||g!==1)&&y.push(a(y)+"scale("+m+","+g+")")}return function(h,p){var m=[],g=[];return h=e(h),p=e(p),l(h.translateX,h.translateY,p.translateX,p.translateY,m,g),u(h.rotate,p.rotate,m,g),d(h.skewX,p.skewX,m,g),f(h.scaleX,h.scaleY,p.scaleX,p.scaleY,m,g),h=p=null,function(y){for(var N=-1,k=g.length,w;++N<k;)m[(w=g[N]).i]=w.x(y);return m.join("")}}}var Q1=im(X1,"px, ","px)","deg)"),K1=im(G1,", ",")",")"),q1=1e-12;function mp(e){return((e=Math.exp(e))+1/e)/2}function Z1(e){return((e=Math.exp(e))-1/e)/2}function J1(e){return((e=Math.exp(2*e))-1)/(e+1)}const wa=(function e(r,i,s){function a(l,u){var d=l[0],f=l[1],h=l[2],p=u[0],m=u[1],g=u[2],y=p-d,N=m-f,k=y*y+N*N,w,S;if(k<q1)S=Math.log(g/h)/r,w=function(F){return[d+F*y,f+F*N,h*Math.exp(r*F*S)]};else{var C=Math.sqrt(k),E=(g*g-h*h+s*k)/(2*h*i*C),_=(g*g-h*h-s*k)/(2*g*i*C),M=Math.log(Math.sqrt(E*E+1)-E),O=Math.log(Math.sqrt(_*_+1)-_);S=(O-M)/r,w=function(F){var V=F*S,Z=mp(M),G=h/(i*C)*(Z*J1(r*V+M)-Z1(M));return[d+G*y,f+G*N,h*Z/mp(r*V+M)]}}return w.duration=S*1e3*r/Math.SQRT2,w}return a.rho=function(l){var u=Math.max(.001,+l),d=u*u,f=d*d;return e(u,d,f)},a})(Math.SQRT2,2,4);var fi=0,vo=0,go=0,om=1e3,Ma,yo,Ia=0,Cr=0,Wa=0,zo=typeof performance=="object"&&performance.now?performance:Date,sm=typeof window=="object"&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(e){setTimeout(e,17)};function Gc(){return Cr||(sm(e2),Cr=zo.now()+Wa)}function e2(){Cr=0}function La(){this._call=this._time=this._next=null}La.prototype=Qc.prototype={constructor:La,restart:function(e,r,i){if(typeof e!="function")throw new TypeError("callback is not a function");i=(i==null?Gc():+i)+(r==null?0:+r),!this._next&&yo!==this&&(yo?yo._next=this:Ma=this,yo=this),this._call=e,this._time=i,zc()},stop:function(){this._call&&(this._call=null,this._time=1/0,zc())}};function Qc(e,r,i){var s=new La;return s.restart(e,r,i),s}function t2(){Gc(),++fi;for(var e=Ma,r;e;)(r=Cr-e._time)>=0&&e._call.call(void 0,r),e=e._next;--fi}function gp(){Cr=(Ia=zo.now())+Wa,fi=vo=0;try{t2()}finally{fi=0,r2(),Cr=0}}function n2(){var e=zo.now(),r=e-Ia;r>om&&(Wa-=r,Ia=e)}function r2(){for(var e,r=Ma,i,s=1/0;r;)r._call?(s>r._time&&(s=r._time),e=r,r=r._next):(i=r._next,r._next=null,r=e?e._next=i:Ma=i);yo=e,zc(s)}function zc(e){if(!fi){vo&&(vo=clearTimeout(vo));var r=e-Cr;r>24?(e<1/0&&(vo=setTimeout(gp,e-zo.now()-Wa)),go&&(go=clearInterval(go))):(go||(Ia=zo.now(),go=setInterval(n2,om)),fi=1,sm(gp))}}function xp(e,r,i){var s=new La;return r=r==null?0:+r,s.restart(a=>{s.stop(),e(a+r)},r,i),s}var i2=Oo("start","end","cancel","interrupt"),o2=[],am=0,vp=1,Mc=2,Na=3,yp=4,Ic=5,ba=6;function Ua(e,r,i,s,a,l){var u=e.__transition;if(!u)e.__transition={};else if(i in u)return;s2(e,i,{name:r,index:s,group:a,on:i2,tween:o2,time:l.time,delay:l.delay,duration:l.duration,ease:l.ease,timer:null,state:am})}function Kc(e,r){var i=Qt(e,r);if(i.state>am)throw new Error("too late; already scheduled");return i}function ln(e,r){var i=Qt(e,r);if(i.state>Na)throw new Error("too late; already running");return i}function Qt(e,r){var i=e.__transition;if(!i||!(i=i[r]))throw new Error("transition not found");return i}function s2(e,r,i){var s=e.__transition,a;s[r]=i,i.timer=Qc(l,0,i.time);function l(h){i.state=vp,i.timer.restart(u,i.delay,i.time),i.delay<=h&&u(h-i.delay)}function u(h){var p,m,g,y;if(i.state!==vp)return f();for(p in s)if(y=s[p],y.name===i.name){if(y.state===Na)return xp(u);y.state===yp?(y.state=ba,y.timer.stop(),y.on.call("interrupt",e,e.__data__,y.index,y.group),delete s[p]):+p<r&&(y.state=ba,y.timer.stop(),y.on.call("cancel",e,e.__data__,y.index,y.group),delete s[p])}if(xp(function(){i.state===Na&&(i.state=yp,i.timer.restart(d,i.delay,i.time),d(h))}),i.state=Mc,i.on.call("start",e,e.__data__,i.index,i.group),i.state===Mc){for(i.state=Na,a=new Array(g=i.tween.length),p=0,m=-1;p<g;++p)(y=i.tween[p].value.call(e,e.__data__,i.index,i.group))&&(a[++m]=y);a.length=m+1}}function d(h){for(var p=h<i.duration?i.ease.call(null,h/i.duration):(i.timer.restart(f),i.state=Ic,1),m=-1,g=a.length;++m<g;)a[m].call(e,p);i.state===Ic&&(i.on.call("end",e,e.__data__,i.index,i.group),f())}function f(){i.state=ba,i.timer.stop(),delete s[r];for(var h in s)return;delete e.__transition}}function ka(e,r){var i=e.__transition,s,a,l=!0,u;if(i){r=r==null?null:r+"";for(u in i){if((s=i[u]).name!==r){l=!1;continue}a=s.state>Mc&&s.state<Ic,s.state=ba,s.timer.stop(),s.on.call(a?"interrupt":"cancel",e,e.__data__,s.index,s.group),delete i[u]}l&&delete e.__transition}}function a2(e){return this.each(function(){ka(this,e)})}function l2(e,r){var i,s;return function(){var a=ln(this,e),l=a.tween;if(l!==i){s=i=l;for(var u=0,d=s.length;u<d;++u)if(s[u].name===r){s=s.slice(),s.splice(u,1);break}}a.tween=s}}function u2(e,r,i){var s,a;if(typeof i!="function")throw new Error;return function(){var l=ln(this,e),u=l.tween;if(u!==s){a=(s=u).slice();for(var d={name:r,value:i},f=0,h=a.length;f<h;++f)if(a[f].name===r){a[f]=d;break}f===h&&a.push(d)}l.tween=a}}function c2(e,r){var i=this._id;if(e+="",arguments.length<2){for(var s=Qt(this.node(),i).tween,a=0,l=s.length,u;a<l;++a)if((u=s[a]).name===e)return u.value;return null}return this.each((r==null?l2:u2)(i,e,r))}function qc(e,r,i){var s=e._id;return e.each(function(){var a=ln(this,s);(a.value||(a.value={}))[r]=i.apply(this,arguments)}),function(a){return Qt(a,s).value[r]}}function lm(e,r){var i;return(typeof r=="number"?nn:r instanceof _r?za:(i=_r(r))?(r=i,za):nm)(e,r)}function d2(e){return function(){this.removeAttribute(e)}}function f2(e){return function(){this.removeAttributeNS(e.space,e.local)}}function h2(e,r,i){var s,a=i+"",l;return function(){var u=this.getAttribute(e);return u===a?null:u===s?l:l=r(s=u,i)}}function p2(e,r,i){var s,a=i+"",l;return function(){var u=this.getAttributeNS(e.space,e.local);return u===a?null:u===s?l:l=r(s=u,i)}}function m2(e,r,i){var s,a,l;return function(){var u,d=i(this),f;return d==null?void this.removeAttribute(e):(u=this.getAttribute(e),f=d+"",u===f?null:u===s&&f===a?l:(a=f,l=r(s=u,d)))}}function g2(e,r,i){var s,a,l;return function(){var u,d=i(this),f;return d==null?void this.removeAttributeNS(e.space,e.local):(u=this.getAttributeNS(e.space,e.local),f=d+"",u===f?null:u===s&&f===a?l:(a=f,l=r(s=u,d)))}}function x2(e,r){var i=Ha(e),s=i==="transform"?K1:lm;return this.attrTween(e,typeof r=="function"?(i.local?g2:m2)(i,s,qc(this,"attr."+e,r)):r==null?(i.local?f2:d2)(i):(i.local?p2:h2)(i,s,r))}function v2(e,r){return function(i){this.setAttribute(e,r.call(this,i))}}function y2(e,r){return function(i){this.setAttributeNS(e.space,e.local,r.call(this,i))}}function w2(e,r){var i,s;function a(){var l=r.apply(this,arguments);return l!==s&&(i=(s=l)&&y2(e,l)),i}return a._value=r,a}function N2(e,r){var i,s;function a(){var l=r.apply(this,arguments);return l!==s&&(i=(s=l)&&v2(e,l)),i}return a._value=r,a}function b2(e,r){var i="attr."+e;if(arguments.length<2)return(i=this.tween(i))&&i._value;if(r==null)return this.tween(i,null);if(typeof r!="function")throw new Error;var s=Ha(e);return this.tween(i,(s.local?w2:N2)(s,r))}function k2(e,r){return function(){Kc(this,e).delay=+r.apply(this,arguments)}}function E2(e,r){return r=+r,function(){Kc(this,e).delay=r}}function S2(e){var r=this._id;return arguments.length?this.each((typeof e=="function"?k2:E2)(r,e)):Qt(this.node(),r).delay}function _2(e,r){return function(){ln(this,e).duration=+r.apply(this,arguments)}}function C2(e,r){return r=+r,function(){ln(this,e).duration=r}}function j2(e){var r=this._id;return arguments.length?this.each((typeof e=="function"?_2:C2)(r,e)):Qt(this.node(),r).duration}function z2(e,r){if(typeof r!="function")throw new Error;return function(){ln(this,e).ease=r}}function M2(e){var r=this._id;return arguments.length?this.each(z2(r,e)):Qt(this.node(),r).ease}function I2(e,r){return function(){var i=r.apply(this,arguments);if(typeof i!="function")throw new Error;ln(this,e).ease=i}}function L2(e){if(typeof e!="function")throw new Error;return this.each(I2(this._id,e))}function P2(e){typeof e!="function"&&(e=F0(e));for(var r=this._groups,i=r.length,s=new Array(i),a=0;a<i;++a)for(var l=r[a],u=l.length,d=s[a]=[],f,h=0;h<u;++h)(f=l[h])&&e.call(f,f.__data__,h,l)&&d.push(f);return new bn(s,this._parents,this._name,this._id)}function A2(e){if(e._id!==this._id)throw new Error;for(var r=this._groups,i=e._groups,s=r.length,a=i.length,l=Math.min(s,a),u=new Array(s),d=0;d<l;++d)for(var f=r[d],h=i[d],p=f.length,m=u[d]=new Array(p),g,y=0;y<p;++y)(g=f[y]||h[y])&&(m[y]=g);for(;d<s;++d)u[d]=r[d];return new bn(u,this._parents,this._name,this._id)}function T2(e){return(e+"").trim().split(/^|\s+/).every(function(r){var i=r.indexOf(".");return i>=0&&(r=r.slice(0,i)),!r||r==="start"})}function R2(e,r,i){var s,a,l=T2(r)?Kc:ln;return function(){var u=l(this,e),d=u.on;d!==s&&(a=(s=d).copy()).on(r,i),u.on=a}}function O2(e,r){var i=this._id;return arguments.length<2?Qt(this.node(),i).on.on(e):this.each(R2(i,e,r))}function D2(e){return function(){var r=this.parentNode;for(var i in this.__transition)if(+i!==e)return;r&&r.removeChild(this)}}function $2(){return this.on("end.remove",D2(this._id))}function B2(e){var r=this._name,i=this._id;typeof e!="function"&&(e=Hc(e));for(var s=this._groups,a=s.length,l=new Array(a),u=0;u<a;++u)for(var d=s[u],f=d.length,h=l[u]=new Array(f),p,m,g=0;g<f;++g)(p=d[g])&&(m=e.call(p,p.__data__,g,d))&&("__data__"in p&&(m.__data__=p.__data__),h[g]=m,Ua(h[g],r,i,g,h,Qt(p,i)));return new bn(l,this._parents,r,i)}function F2(e){var r=this._name,i=this._id;typeof e!="function"&&(e=B0(e));for(var s=this._groups,a=s.length,l=[],u=[],d=0;d<a;++d)for(var f=s[d],h=f.length,p,m=0;m<h;++m)if(p=f[m]){for(var g=e.call(p,p.__data__,m,f),y,N=Qt(p,i),k=0,w=g.length;k<w;++k)(y=g[k])&&Ua(y,r,i,k,g,N);l.push(g),u.push(p)}return new bn(l,u,r,i)}var V2=Do.prototype.constructor;function H2(){return new V2(this._groups,this._parents)}function W2(e,r){var i,s,a;return function(){var l=di(this,e),u=(this.style.removeProperty(e),di(this,e));return l===u?null:l===i&&u===s?a:a=r(i=l,s=u)}}function um(e){return function(){this.style.removeProperty(e)}}function U2(e,r,i){var s,a=i+"",l;return function(){var u=di(this,e);return u===a?null:u===s?l:l=r(s=u,i)}}function Y2(e,r,i){var s,a,l;return function(){var u=di(this,e),d=i(this),f=d+"";return d==null&&(f=d=(this.style.removeProperty(e),di(this,e))),u===f?null:u===s&&f===a?l:(a=f,l=r(s=u,d))}}function X2(e,r){var i,s,a,l="style."+r,u="end."+l,d;return function(){var f=ln(this,e),h=f.on,p=f.value[l]==null?d||(d=um(r)):void 0;(h!==i||a!==p)&&(s=(i=h).copy()).on(u,a=p),f.on=s}}function G2(e,r,i){var s=(e+="")=="transform"?Q1:lm;return r==null?this.styleTween(e,W2(e,s)).on("end.style."+e,um(e)):typeof r=="function"?this.styleTween(e,Y2(e,s,qc(this,"style."+e,r))).each(X2(this._id,e)):this.styleTween(e,U2(e,s,r),i).on("end.style."+e,null)}function Q2(e,r,i){return function(s){this.style.setProperty(e,r.call(this,s),i)}}function K2(e,r,i){var s,a;function l(){var u=r.apply(this,arguments);return u!==a&&(s=(a=u)&&Q2(e,u,i)),s}return l._value=r,l}function q2(e,r,i){var s="style."+(e+="");if(arguments.length<2)return(s=this.tween(s))&&s._value;if(r==null)return this.tween(s,null);if(typeof r!="function")throw new Error;return this.tween(s,K2(e,r,i??""))}function Z2(e){return function(){this.textContent=e}}function J2(e){return function(){var r=e(this);this.textContent=r??""}}function eN(e){return this.tween("text",typeof e=="function"?J2(qc(this,"text",e)):Z2(e==null?"":e+""))}function tN(e){return function(r){this.textContent=e.call(this,r)}}function nN(e){var r,i;function s(){var a=e.apply(this,arguments);return a!==i&&(r=(i=a)&&tN(a)),r}return s._value=e,s}function rN(e){var r="text";if(arguments.length<1)return(r=this.tween(r))&&r._value;if(e==null)return this.tween(r,null);if(typeof e!="function")throw new Error;return this.tween(r,nN(e))}function iN(){for(var e=this._name,r=this._id,i=cm(),s=this._groups,a=s.length,l=0;l<a;++l)for(var u=s[l],d=u.length,f,h=0;h<d;++h)if(f=u[h]){var p=Qt(f,r);Ua(f,e,i,h,u,{time:p.time+p.delay+p.duration,delay:0,duration:p.duration,ease:p.ease})}return new bn(s,this._parents,e,i)}function oN(){var e,r,i=this,s=i._id,a=i.size();return new Promise(function(l,u){var d={value:u},f={value:function(){--a===0&&l()}};i.each(function(){var h=ln(this,s),p=h.on;p!==e&&(r=(e=p).copy(),r._.cancel.push(d),r._.interrupt.push(d),r._.end.push(f)),h.on=r}),a===0&&l()})}var sN=0;function bn(e,r,i,s){this._groups=e,this._parents=r,this._name=i,this._id=s}function cm(){return++sN}var wn=Do.prototype;bn.prototype={constructor:bn,select:B2,selectAll:F2,selectChild:wn.selectChild,selectChildren:wn.selectChildren,filter:P2,merge:A2,selection:H2,transition:iN,call:wn.call,nodes:wn.nodes,node:wn.node,size:wn.size,empty:wn.empty,each:wn.each,on:O2,attr:x2,attrTween:b2,style:G2,styleTween:q2,text:eN,textTween:rN,remove:$2,tween:c2,delay:S2,duration:j2,ease:M2,easeVarying:L2,end:oN,[Symbol.iterator]:wn[Symbol.iterator]};function wp(e){return--e*e*e+1}function aN(e){return((e*=2)<=1?e*e*e:(e-=2)*e*e+2)/2}var lN={time:null,delay:0,duration:250,ease:aN};function uN(e,r){for(var i;!(i=e.__transition)||!(i=i[r]);)if(!(e=e.parentNode))throw new Error(`transition ${r} not found`);return i}function cN(e){var r,i;e instanceof bn?(r=e._id,e=e._name):(r=cm(),(i=lN).time=Gc(),e=e==null?null:e+"");for(var s=this._groups,a=s.length,l=0;l<a;++l)for(var u=s[l],d=u.length,f,h=0;h<d;++h)(f=u[h])&&Ua(f,e,r,h,u,i||uN(f,r));return new bn(s,this._parents,e,r)}Do.prototype.interrupt=a2;Do.prototype.transition=cN;const ha=e=>()=>e;function dN(e,{sourceEvent:r,target:i,transform:s,dispatch:a}){Object.defineProperties(this,{type:{value:e,enumerable:!0,configurable:!0},sourceEvent:{value:r,enumerable:!0,configurable:!0},target:{value:i,enumerable:!0,configurable:!0},transform:{value:s,enumerable:!0,configurable:!0},_:{value:a}})}function Nn(e,r,i){this.k=e,this.x=r,this.y=i}Nn.prototype={constructor:Nn,scale:function(e){return e===1?this:new Nn(this.k*e,this.x,this.y)},translate:function(e,r){return e===0&r===0?this:new Nn(this.k,this.x+this.k*e,this.y+this.k*r)},apply:function(e){return[e[0]*this.k+this.x,e[1]*this.k+this.y]},applyX:function(e){return e*this.k+this.x},applyY:function(e){return e*this.k+this.y},invert:function(e){return[(e[0]-this.x)/this.k,(e[1]-this.y)/this.k]},invertX:function(e){return(e-this.x)/this.k},invertY:function(e){return(e-this.y)/this.k},rescaleX:function(e){return e.copy().domain(e.range().map(this.invertX,this).map(e.invert,e))},rescaleY:function(e){return e.copy().domain(e.range().map(this.invertY,this).map(e.invert,e))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}};var Ya=new Nn(1,0,0);dm.prototype=Nn.prototype;function dm(e){for(;!e.__zoom;)if(!(e=e.parentNode))return Ya;return e.__zoom}function ic(e){e.stopImmediatePropagation()}function xo(e){e.preventDefault(),e.stopImmediatePropagation()}function fN(e){return(!e.ctrlKey||e.type==="wheel")&&!e.button}function hN(){var e=this;return e instanceof SVGElement?(e=e.ownerSVGElement||e,e.hasAttribute("viewBox")?(e=e.viewBox.baseVal,[[e.x,e.y],[e.x+e.width,e.y+e.height]]):[[0,0],[e.width.baseVal.value,e.height.baseVal.value]]):[[0,0],[e.clientWidth,e.clientHeight]]}function Np(){return this.__zoom||Ya}function pN(e){return-e.deltaY*(e.deltaMode===1?.05:e.deltaMode?1:.002)*(e.ctrlKey?10:1)}function mN(){return navigator.maxTouchPoints||"ontouchstart"in this}function gN(e,r,i){var s=e.invertX(r[0][0])-i[0][0],a=e.invertX(r[1][0])-i[1][0],l=e.invertY(r[0][1])-i[0][1],u=e.invertY(r[1][1])-i[1][1];return e.translate(a>s?(s+a)/2:Math.min(0,s)||Math.max(0,a),u>l?(l+u)/2:Math.min(0,l)||Math.max(0,u))}function Zc(){var e=fN,r=hN,i=gN,s=pN,a=mN,l=[0,1/0],u=[[-1/0,-1/0],[1/0,1/0]],d=250,f=wa,h=Oo("start","zoom","end"),p,m,g,y=500,N=150,k=0,w=10;function S(j){j.property("__zoom",Np).on("wheel.zoom",V,{passive:!1}).on("mousedown.zoom",Z).on("dblclick.zoom",G).filter(a).on("touchstart.zoom",X).on("touchmove.zoom",B).on("touchend.zoom touchcancel.zoom",D).style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}S.transform=function(j,Q,$,W){var z=j.selection?j.selection():j;z.property("__zoom",Np),j!==z?M(j,Q,$,W):z.interrupt().each(function(){O(this,arguments).event(W).start().zoom(null,typeof Q=="function"?Q.apply(this,arguments):Q).end()})},S.scaleBy=function(j,Q,$,W){S.scaleTo(j,function(){var z=this.__zoom.k,P=typeof Q=="function"?Q.apply(this,arguments):Q;return z*P},$,W)},S.scaleTo=function(j,Q,$,W){S.transform(j,function(){var z=r.apply(this,arguments),P=this.__zoom,H=$==null?_(z):typeof $=="function"?$.apply(this,arguments):$,I=P.invert(H),L=typeof Q=="function"?Q.apply(this,arguments):Q;return i(E(C(P,L),H,I),z,u)},$,W)},S.translateBy=function(j,Q,$,W){S.transform(j,function(){return i(this.__zoom.translate(typeof Q=="function"?Q.apply(this,arguments):Q,typeof $=="function"?$.apply(this,arguments):$),r.apply(this,arguments),u)},null,W)},S.translateTo=function(j,Q,$,W,z){S.transform(j,function(){var P=r.apply(this,arguments),H=this.__zoom,I=W==null?_(P):typeof W=="function"?W.apply(this,arguments):W;return i(Ya.translate(I[0],I[1]).scale(H.k).translate(typeof Q=="function"?-Q.apply(this,arguments):-Q,typeof $=="function"?-$.apply(this,arguments):-$),P,u)},W,z)};function C(j,Q){return Q=Math.max(l[0],Math.min(l[1],Q)),Q===j.k?j:new Nn(Q,j.x,j.y)}function E(j,Q,$){var W=Q[0]-$[0]*j.k,z=Q[1]-$[1]*j.k;return W===j.x&&z===j.y?j:new Nn(j.k,W,z)}function _(j){return[(+j[0][0]+ +j[1][0])/2,(+j[0][1]+ +j[1][1])/2]}function M(j,Q,$,W){j.on("start.zoom",function(){O(this,arguments).event(W).start()}).on("interrupt.zoom end.zoom",function(){O(this,arguments).event(W).end()}).tween("zoom",function(){var z=this,P=arguments,H=O(z,P).event(W),I=r.apply(z,P),L=$==null?_(I):typeof $=="function"?$.apply(z,P):$,ee=Math.max(I[1][0]-I[0][0],I[1][1]-I[0][1]),Y=z.__zoom,T=typeof Q=="function"?Q.apply(z,P):Q,K=f(Y.invert(L).concat(ee/Y.k),T.invert(L).concat(ee/T.k));return function(q){if(q===1)q=T;else{var U=K(q),J=ee/U[2];q=new Nn(J,L[0]-U[0]*J,L[1]-U[1]*J)}H.zoom(null,q)}})}function O(j,Q,$){return!$&&j.__zooming||new F(j,Q)}function F(j,Q){this.that=j,this.args=Q,this.active=0,this.sourceEvent=null,this.extent=r.apply(j,Q),this.taps=0}F.prototype={event:function(j){return j&&(this.sourceEvent=j),this},start:function(){return++this.active===1&&(this.that.__zooming=this,this.emit("start")),this},zoom:function(j,Q){return this.mouse&&j!=="mouse"&&(this.mouse[1]=Q.invert(this.mouse[0])),this.touch0&&j!=="touch"&&(this.touch0[1]=Q.invert(this.touch0[0])),this.touch1&&j!=="touch"&&(this.touch1[1]=Q.invert(this.touch1[0])),this.that.__zoom=Q,this.emit("zoom"),this},end:function(){return--this.active===0&&(delete this.that.__zooming,this.emit("end")),this},emit:function(j){var Q=rt(this.that).datum();h.call(j,this.that,new dN(j,{sourceEvent:this.sourceEvent,target:S,transform:this.that.__zoom,dispatch:h}),Q)}};function V(j,...Q){if(!e.apply(this,arguments))return;var $=O(this,Q).event(j),W=this.__zoom,z=Math.max(l[0],Math.min(l[1],W.k*Math.pow(2,s.apply(this,arguments)))),P=Wt(j);if($.wheel)($.mouse[0][0]!==P[0]||$.mouse[0][1]!==P[1])&&($.mouse[1]=W.invert($.mouse[0]=P)),clearTimeout($.wheel);else{if(W.k===z)return;$.mouse=[P,W.invert(P)],ka(this),$.start()}xo(j),$.wheel=setTimeout(H,N),$.zoom("mouse",i(E(C(W,z),$.mouse[0],$.mouse[1]),$.extent,u));function H(){$.wheel=null,$.end()}}function Z(j,...Q){if(g||!e.apply(this,arguments))return;var $=j.currentTarget,W=O(this,Q,!0).event(j),z=rt(j.view).on("mousemove.zoom",L,!0).on("mouseup.zoom",ee,!0),P=Wt(j,$),H=j.clientX,I=j.clientY;q0(j.view),ic(j),W.mouse=[P,this.__zoom.invert(P)],ka(this),W.start();function L(Y){if(xo(Y),!W.moved){var T=Y.clientX-H,K=Y.clientY-I;W.moved=T*T+K*K>k}W.event(Y).zoom("mouse",i(E(W.that.__zoom,W.mouse[0]=Wt(Y,$),W.mouse[1]),W.extent,u))}function ee(Y){z.on("mousemove.zoom mouseup.zoom",null),Z0(Y.view,W.moved),xo(Y),W.event(Y).end()}}function G(j,...Q){if(e.apply(this,arguments)){var $=this.__zoom,W=Wt(j.changedTouches?j.changedTouches[0]:j,this),z=$.invert(W),P=$.k*(j.shiftKey?.5:2),H=i(E(C($,P),W,z),r.apply(this,Q),u);xo(j),d>0?rt(this).transition().duration(d).call(M,H,W,j):rt(this).call(S.transform,H,W,j)}}function X(j,...Q){if(e.apply(this,arguments)){var $=j.touches,W=$.length,z=O(this,Q,j.changedTouches.length===W).event(j),P,H,I,L;for(ic(j),H=0;H<W;++H)I=$[H],L=Wt(I,this),L=[L,this.__zoom.invert(L),I.identifier],z.touch0?!z.touch1&&z.touch0[2]!==L[2]&&(z.touch1=L,z.taps=0):(z.touch0=L,P=!0,z.taps=1+!!p);p&&(p=clearTimeout(p)),P&&(z.taps<2&&(m=L[0],p=setTimeout(function(){p=null},y)),ka(this),z.start())}}function B(j,...Q){if(this.__zooming){var $=O(this,Q).event(j),W=j.changedTouches,z=W.length,P,H,I,L;for(xo(j),P=0;P<z;++P)H=W[P],I=Wt(H,this),$.touch0&&$.touch0[2]===H.identifier?$.touch0[0]=I:$.touch1&&$.touch1[2]===H.identifier&&($.touch1[0]=I);if(H=$.that.__zoom,$.touch1){var ee=$.touch0[0],Y=$.touch0[1],T=$.touch1[0],K=$.touch1[1],q=(q=T[0]-ee[0])*q+(q=T[1]-ee[1])*q,U=(U=K[0]-Y[0])*U+(U=K[1]-Y[1])*U;H=C(H,Math.sqrt(q/U)),I=[(ee[0]+T[0])/2,(ee[1]+T[1])/2],L=[(Y[0]+K[0])/2,(Y[1]+K[1])/2]}else if($.touch0)I=$.touch0[0],L=$.touch0[1];else return;$.zoom("touch",i(E(H,I,L),$.extent,u))}}function D(j,...Q){if(this.__zooming){var $=O(this,Q).event(j),W=j.changedTouches,z=W.length,P,H;for(ic(j),g&&clearTimeout(g),g=setTimeout(function(){g=null},y),P=0;P<z;++P)H=W[P],$.touch0&&$.touch0[2]===H.identifier?delete $.touch0:$.touch1&&$.touch1[2]===H.identifier&&delete $.touch1;if($.touch1&&!$.touch0&&($.touch0=$.touch1,delete $.touch1),$.touch0)$.touch0[1]=this.__zoom.invert($.touch0[0]);else if($.end(),$.taps===2&&(H=Wt(H,this),Math.hypot(m[0]-H[0],m[1]-H[1])<w)){var I=rt(this).on("dblclick.zoom");I&&I.apply(this,arguments)}}}return S.wheelDelta=function(j){return arguments.length?(s=typeof j=="function"?j:ha(+j),S):s},S.filter=function(j){return arguments.length?(e=typeof j=="function"?j:ha(!!j),S):e},S.touchable=function(j){return arguments.length?(a=typeof j=="function"?j:ha(!!j),S):a},S.extent=function(j){return arguments.length?(r=typeof j=="function"?j:ha([[+j[0][0],+j[0][1]],[+j[1][0],+j[1][1]]]),S):r},S.scaleExtent=function(j){return arguments.length?(l[0]=+j[0],l[1]=+j[1],S):[l[0],l[1]]},S.translateExtent=function(j){return arguments.length?(u[0][0]=+j[0][0],u[1][0]=+j[1][0],u[0][1]=+j[0][1],u[1][1]=+j[1][1],S):[[u[0][0],u[0][1]],[u[1][0],u[1][1]]]},S.constrain=function(j){return arguments.length?(i=j,S):i},S.duration=function(j){return arguments.length?(d=+j,S):d},S.interpolate=function(j){return arguments.length?(f=j,S):f},S.on=function(){var j=h.on.apply(h,arguments);return j===h?S:j},S.clickDistance=function(j){return arguments.length?(k=(j=+j)*j,S):Math.sqrt(k)},S.tapDistance=function(j){return arguments.length?(w=+j,S):w},S}const on={error001:()=>"[React Flow]: Seems like you have not used zustand provider as an ancestor. Help: https://reactflow.dev/error#001",error002:()=>"It looks like you've created a new nodeTypes or edgeTypes object. If this wasn't on purpose please define the nodeTypes/edgeTypes outside of the component or memoize them.",error003:e=>`Node type "${e}" not found. Using fallback type "default".`,error004:()=>"The React Flow parent container needs a width and a height to render the graph.",error005:()=>"Only child nodes can use a parent extent.",error006:()=>"Can't create edge. An edge needs a source and a target.",error007:e=>`The old edge with id=${e} does not exist.`,error009:e=>`Marker type "${e}" doesn't exist.`,error008:(e,{id:r,sourceHandle:i,targetHandle:s})=>`Couldn't create edge for ${e} handle id: "${e==="source"?i:s}", edge id: ${r}.`,error010:()=>"Handle: No node id found. Make sure to only use a Handle inside a custom Node.",error011:e=>`Edge type "${e}" not found. Using fallback type "default".`,error012:e=>`Node with id "${e}" does not exist, it may have been removed. This can happen when a node is deleted before the "onNodeClick" handler is called.`,error013:(e="react")=>`It seems that you haven't loaded the styles. Please import '@xyflow/${e}/dist/style.css' or base.css to make sure everything is working properly.`,error014:()=>"useNodeConnections: No node ID found. Call useNodeConnections inside a custom Node or provide a node ID.",error015:()=>"It seems that you are trying to drag a node that is not initialized. Please use onNodesChange as explained in the docs."},Mo=[[Number.NEGATIVE_INFINITY,Number.NEGATIVE_INFINITY],[Number.POSITIVE_INFINITY,Number.POSITIVE_INFINITY]],fm=["Enter"," ","Escape"],hm={"node.a11yDescription.default":"Press enter or space to select a node. Press delete to remove it and escape to cancel.","node.a11yDescription.keyboardDisabled":"Press enter or space to select a node. You can then use the arrow keys to move the node around. Press delete to remove it and escape to cancel.","node.a11yDescription.ariaLiveMessage":({direction:e,x:r,y:i})=>`Moved selected node ${e}. New position, x: ${r}, y: ${i}`,"edge.a11yDescription.default":"Press enter or space to select an edge. You can then press delete to remove it or escape to cancel.","controls.ariaLabel":"Control Panel","controls.zoomIn.ariaLabel":"Zoom In","controls.zoomOut.ariaLabel":"Zoom Out","controls.fitView.ariaLabel":"Fit View","controls.interactive.ariaLabel":"Toggle Interactivity","minimap.ariaLabel":"Mini Map","handle.ariaLabel":"Handle"};var hi;(function(e){e.Strict="strict",e.Loose="loose"})(hi||(hi={}));var Sr;(function(e){e.Free="free",e.Vertical="vertical",e.Horizontal="horizontal"})(Sr||(Sr={}));var Io;(function(e){e.Partial="partial",e.Full="full"})(Io||(Io={}));const pm={inProgress:!1,isValid:null,from:null,fromHandle:null,fromPosition:null,fromNode:null,to:null,toHandle:null,toPosition:null,toNode:null,pointer:null};var Gn;(function(e){e.Bezier="default",e.Straight="straight",e.Step="step",e.SmoothStep="smoothstep",e.SimpleBezier="simplebezier"})(Gn||(Gn={}));var Pa;(function(e){e.Arrow="arrow",e.ArrowClosed="arrowclosed"})(Pa||(Pa={}));var be;(function(e){e.Left="left",e.Top="top",e.Right="right",e.Bottom="bottom"})(be||(be={}));const bp={[be.Left]:be.Right,[be.Right]:be.Left,[be.Top]:be.Bottom,[be.Bottom]:be.Top};function mm(e){return e===null?null:e?"valid":"invalid"}const gm=e=>"id"in e&&"source"in e&&"target"in e,xN=e=>"id"in e&&"position"in e&&!("source"in e)&&!("target"in e),Jc=e=>"id"in e&&"internals"in e&&!("source"in e)&&!("target"in e),Bo=(e,r=[0,0])=>{const{width:i,height:s}=kn(e),a=e.origin??r,l=i*a[0],u=s*a[1];return{x:e.position.x-l,y:e.position.y-u}},vN=(e,r={nodeOrigin:[0,0]})=>{if(e.length===0)return{x:0,y:0,width:0,height:0};const i=e.reduce((s,a)=>{const l=typeof a=="string";let u=!r.nodeLookup&&!l?a:void 0;r.nodeLookup&&(u=l?r.nodeLookup.get(a):Jc(a)?a:r.nodeLookup.get(a.id));const d=u?Aa(u,r.nodeOrigin):{x:0,y:0,x2:0,y2:0};return Xa(s,d)},{x:1/0,y:1/0,x2:-1/0,y2:-1/0});return Ga(i)},Fo=(e,r={})=>{let i={x:1/0,y:1/0,x2:-1/0,y2:-1/0},s=!1;return e.forEach(a=>{(r.filter===void 0||r.filter(a))&&(i=Xa(i,Aa(a)),s=!0)}),s?Ga(i):{x:0,y:0,width:0,height:0}},ed=(e,r,[i,s,a]=[0,0,1],l=!1,u=!1)=>{const d={...Ho(r,[i,s,a]),width:r.width/a,height:r.height/a},f=[];for(const h of e.values()){const{measured:p,selectable:m=!0,hidden:g=!1}=h;if(u&&!m||g)continue;const y=p.width??h.width??h.initialWidth??null,N=p.height??h.height??h.initialHeight??null,k=Lo(d,mi(h)),w=(y??0)*(N??0),S=l&&k>0;(!h.internals.handleBounds||S||k>=w||h.dragging)&&f.push(h)}return f},yN=(e,r)=>{const i=new Set;return e.forEach(s=>{i.add(s.id)}),r.filter(s=>i.has(s.source)||i.has(s.target))};function wN(e,r){const i=new Map,s=r!=null&&r.nodes?new Set(r.nodes.map(a=>a.id)):null;return e.forEach(a=>{a.measured.width&&a.measured.height&&((r==null?void 0:r.includeHiddenNodes)||!a.hidden)&&(!s||s.has(a.id))&&i.set(a.id,a)}),i}async function NN({nodes:e,width:r,height:i,panZoom:s,minZoom:a,maxZoom:l},u){if(e.size===0)return Promise.resolve(!0);const d=wN(e,u),f=Fo(d),h=td(f,r,i,(u==null?void 0:u.minZoom)??a,(u==null?void 0:u.maxZoom)??l,(u==null?void 0:u.padding)??.1);return await s.setViewport(h,{duration:u==null?void 0:u.duration,ease:u==null?void 0:u.ease,interpolate:u==null?void 0:u.interpolate}),Promise.resolve(!0)}function xm({nodeId:e,nextPosition:r,nodeLookup:i,nodeOrigin:s=[0,0],nodeExtent:a,onError:l}){const u=i.get(e),d=u.parentId?i.get(u.parentId):void 0,{x:f,y:h}=d?d.internals.positionAbsolute:{x:0,y:0},p=u.origin??s;let m=u.extent||a;if(u.extent==="parent"&&!u.expandParent)if(!d)l==null||l("005",on.error005());else{const y=d.measured.width,N=d.measured.height;y&&N&&(m=[[f,h],[f+y,h+N]])}else d&&gi(u.extent)&&(m=[[u.extent[0][0]+f,u.extent[0][1]+h],[u.extent[1][0]+f,u.extent[1][1]+h]]);const g=gi(m)?jr(r,m,u.measured):r;return(u.measured.width===void 0||u.measured.height===void 0)&&(l==null||l("015",on.error015())),{position:{x:g.x-f+(u.measured.width??0)*p[0],y:g.y-h+(u.measured.height??0)*p[1]},positionAbsolute:g}}async function bN({nodesToRemove:e=[],edgesToRemove:r=[],nodes:i,edges:s,onBeforeDelete:a}){const l=new Set(e.map(g=>g.id)),u=[];for(const g of i){if(g.deletable===!1)continue;const y=l.has(g.id),N=!y&&g.parentId&&u.find(k=>k.id===g.parentId);(y||N)&&u.push(g)}const d=new Set(r.map(g=>g.id)),f=s.filter(g=>g.deletable!==!1),p=yN(u,f);for(const g of f)d.has(g.id)&&!p.find(N=>N.id===g.id)&&p.push(g);if(!a)return{edges:p,nodes:u};const m=await a({nodes:u,edges:p});return typeof m=="boolean"?m?{edges:p,nodes:u}:{edges:[],nodes:[]}:m}const pi=(e,r=0,i=1)=>Math.min(Math.max(e,r),i),jr=(e={x:0,y:0},r,i)=>({x:pi(e.x,r[0][0],r[1][0]-((i==null?void 0:i.width)??0)),y:pi(e.y,r[0][1],r[1][1]-((i==null?void 0:i.height)??0))});function vm(e,r,i){const{width:s,height:a}=kn(i),{x:l,y:u}=i.internals.positionAbsolute;return jr(e,[[l,u],[l+s,u+a]],r)}const kp=(e,r,i)=>e<r?pi(Math.abs(e-r),1,r)/r:e>i?-pi(Math.abs(e-i),1,r)/r:0,ym=(e,r,i=15,s=40)=>{const a=kp(e.x,s,r.width-s)*i,l=kp(e.y,s,r.height-s)*i;return[a,l]},Xa=(e,r)=>({x:Math.min(e.x,r.x),y:Math.min(e.y,r.y),x2:Math.max(e.x2,r.x2),y2:Math.max(e.y2,r.y2)}),Lc=({x:e,y:r,width:i,height:s})=>({x:e,y:r,x2:e+i,y2:r+s}),Ga=({x:e,y:r,x2:i,y2:s})=>({x:e,y:r,width:i-e,height:s-r}),mi=(e,r=[0,0])=>{var a,l;const{x:i,y:s}=Jc(e)?e.internals.positionAbsolute:Bo(e,r);return{x:i,y:s,width:((a=e.measured)==null?void 0:a.width)??e.width??e.initialWidth??0,height:((l=e.measured)==null?void 0:l.height)??e.height??e.initialHeight??0}},Aa=(e,r=[0,0])=>{var a,l;const{x:i,y:s}=Jc(e)?e.internals.positionAbsolute:Bo(e,r);return{x:i,y:s,x2:i+(((a=e.measured)==null?void 0:a.width)??e.width??e.initialWidth??0),y2:s+(((l=e.measured)==null?void 0:l.height)??e.height??e.initialHeight??0)}},wm=(e,r)=>Ga(Xa(Lc(e),Lc(r))),Lo=(e,r)=>{const i=Math.max(0,Math.min(e.x+e.width,r.x+r.width)-Math.max(e.x,r.x)),s=Math.max(0,Math.min(e.y+e.height,r.y+r.height)-Math.max(e.y,r.y));return Math.ceil(i*s)},Ep=e=>Yt(e.width)&&Yt(e.height)&&Yt(e.x)&&Yt(e.y),Yt=e=>!isNaN(e)&&isFinite(e),kN=(e,r)=>{},Vo=(e,r=[1,1])=>({x:r[0]*Math.round(e.x/r[0]),y:r[1]*Math.round(e.y/r[1])}),Ho=({x:e,y:r},[i,s,a],l=!1,u=[1,1])=>{const d={x:(e-i)/a,y:(r-s)/a};return l?Vo(d,u):d},Ta=({x:e,y:r},[i,s,a])=>({x:e*a+i,y:r*a+s});function si(e,r){if(typeof e=="number")return Math.floor((r-r/(1+e))*.5);if(typeof e=="string"&&e.endsWith("px")){const i=parseFloat(e);if(!Number.isNaN(i))return Math.floor(i)}if(typeof e=="string"&&e.endsWith("%")){const i=parseFloat(e);if(!Number.isNaN(i))return Math.floor(r*i*.01)}return console.error(`[React Flow] The padding value "${e}" is invalid. Please provide a number or a string with a valid unit (px or %).`),0}function EN(e,r,i){if(typeof e=="string"||typeof e=="number"){const s=si(e,i),a=si(e,r);return{top:s,right:a,bottom:s,left:a,x:a*2,y:s*2}}if(typeof e=="object"){const s=si(e.top??e.y??0,i),a=si(e.bottom??e.y??0,i),l=si(e.left??e.x??0,r),u=si(e.right??e.x??0,r);return{top:s,right:u,bottom:a,left:l,x:l+u,y:s+a}}return{top:0,right:0,bottom:0,left:0,x:0,y:0}}function SN(e,r,i,s,a,l){const{x:u,y:d}=Ta(e,[r,i,s]),{x:f,y:h}=Ta({x:e.x+e.width,y:e.y+e.height},[r,i,s]),p=a-f,m=l-h;return{left:Math.floor(u),top:Math.floor(d),right:Math.floor(p),bottom:Math.floor(m)}}const td=(e,r,i,s,a,l)=>{const u=EN(l,r,i),d=(r-u.x)/e.width,f=(i-u.y)/e.height,h=Math.min(d,f),p=pi(h,s,a),m=e.x+e.width/2,g=e.y+e.height/2,y=r/2-m*p,N=i/2-g*p,k=SN(e,y,N,p,r,i),w={left:Math.min(k.left-u.left,0),top:Math.min(k.top-u.top,0),right:Math.min(k.right-u.right,0),bottom:Math.min(k.bottom-u.bottom,0)};return{x:y-w.left+w.right,y:N-w.top+w.bottom,zoom:p}},Po=()=>{var e;return typeof navigator<"u"&&((e=navigator==null?void 0:navigator.userAgent)==null?void 0:e.indexOf("Mac"))>=0};function gi(e){return e!=null&&e!=="parent"}function kn(e){var r,i;return{width:((r=e.measured)==null?void 0:r.width)??e.width??e.initialWidth??0,height:((i=e.measured)==null?void 0:i.height)??e.height??e.initialHeight??0}}function Nm(e){var r,i;return(((r=e.measured)==null?void 0:r.width)??e.width??e.initialWidth)!==void 0&&(((i=e.measured)==null?void 0:i.height)??e.height??e.initialHeight)!==void 0}function bm(e,r={width:0,height:0},i,s,a){const l={...e},u=s.get(i);if(u){const d=u.origin||a;l.x+=u.internals.positionAbsolute.x-(r.width??0)*d[0],l.y+=u.internals.positionAbsolute.y-(r.height??0)*d[1]}return l}function Sp(e,r){if(e.size!==r.size)return!1;for(const i of e)if(!r.has(i))return!1;return!0}function _N(){let e,r;return{promise:new Promise((s,a)=>{e=s,r=a}),resolve:e,reject:r}}function CN(e){return{...hm,...e||{}}}function No(e,{snapGrid:r=[0,0],snapToGrid:i=!1,transform:s,containerBounds:a}){const{x:l,y:u}=Xt(e),d=Ho({x:l-((a==null?void 0:a.left)??0),y:u-((a==null?void 0:a.top)??0)},s),{x:f,y:h}=i?Vo(d,r):d;return{xSnapped:f,ySnapped:h,...d}}const nd=e=>({width:e.offsetWidth,height:e.offsetHeight}),km=e=>{var r;return((r=e==null?void 0:e.getRootNode)==null?void 0:r.call(e))||(window==null?void 0:window.document)},jN=["INPUT","SELECT","TEXTAREA"];function Em(e){var s,a;const r=((a=(s=e.composedPath)==null?void 0:s.call(e))==null?void 0:a[0])||e.target;return(r==null?void 0:r.nodeType)!==1?!1:jN.includes(r.nodeName)||r.hasAttribute("contenteditable")||!!r.closest(".nokey")}const Sm=e=>"clientX"in e,Xt=(e,r)=>{var l,u;const i=Sm(e),s=i?e.clientX:(l=e.touches)==null?void 0:l[0].clientX,a=i?e.clientY:(u=e.touches)==null?void 0:u[0].clientY;return{x:s-((r==null?void 0:r.left)??0),y:a-((r==null?void 0:r.top)??0)}},_p=(e,r,i,s,a)=>{const l=r.querySelectorAll(`.${e}`);return!l||!l.length?null:Array.from(l).map(u=>{const d=u.getBoundingClientRect();return{id:u.getAttribute("data-handleid"),type:e,nodeId:a,position:u.getAttribute("data-handlepos"),x:(d.left-i.left)/s,y:(d.top-i.top)/s,...nd(u)}})};function _m({sourceX:e,sourceY:r,targetX:i,targetY:s,sourceControlX:a,sourceControlY:l,targetControlX:u,targetControlY:d}){const f=e*.125+a*.375+u*.375+i*.125,h=r*.125+l*.375+d*.375+s*.125,p=Math.abs(f-e),m=Math.abs(h-r);return[f,h,p,m]}function pa(e,r){return e>=0?.5*e:r*25*Math.sqrt(-e)}function Cp({pos:e,x1:r,y1:i,x2:s,y2:a,c:l}){switch(e){case be.Left:return[r-pa(r-s,l),i];case be.Right:return[r+pa(s-r,l),i];case be.Top:return[r,i-pa(i-a,l)];case be.Bottom:return[r,i+pa(a-i,l)]}}function Cm({sourceX:e,sourceY:r,sourcePosition:i=be.Bottom,targetX:s,targetY:a,targetPosition:l=be.Top,curvature:u=.25}){const[d,f]=Cp({pos:i,x1:e,y1:r,x2:s,y2:a,c:u}),[h,p]=Cp({pos:l,x1:s,y1:a,x2:e,y2:r,c:u}),[m,g,y,N]=_m({sourceX:e,sourceY:r,targetX:s,targetY:a,sourceControlX:d,sourceControlY:f,targetControlX:h,targetControlY:p});return[`M${e},${r} C${d},${f} ${h},${p} ${s},${a}`,m,g,y,N]}function jm({sourceX:e,sourceY:r,targetX:i,targetY:s}){const a=Math.abs(i-e)/2,l=i<e?i+a:i-a,u=Math.abs(s-r)/2,d=s<r?s+u:s-u;return[l,d,a,u]}function zN({sourceNode:e,targetNode:r,selected:i=!1,zIndex:s=0,elevateOnSelect:a=!1,zIndexMode:l="basic"}){if(l==="manual")return s;const u=a&&i?s+1e3:s,d=Math.max(e.parentId||a&&e.selected?e.internals.z:0,r.parentId||a&&r.selected?r.internals.z:0);return u+d}function MN({sourceNode:e,targetNode:r,width:i,height:s,transform:a}){const l=Xa(Aa(e),Aa(r));l.x===l.x2&&(l.x2+=1),l.y===l.y2&&(l.y2+=1);const u={x:-a[0]/a[2],y:-a[1]/a[2],width:i/a[2],height:s/a[2]};return Lo(u,Ga(l))>0}const IN=({source:e,sourceHandle:r,target:i,targetHandle:s})=>`xy-edge__${e}${r||""}-${i}${s||""}`,LN=(e,r)=>r.some(i=>i.source===e.source&&i.target===e.target&&(i.sourceHandle===e.sourceHandle||!i.sourceHandle&&!e.sourceHandle)&&(i.targetHandle===e.targetHandle||!i.targetHandle&&!e.targetHandle)),PN=(e,r,i={})=>{if(!e.source||!e.target)return r;const s=i.getEdgeId||IN;let a;return gm(e)?a={...e}:a={...e,id:s(e)},LN(a,r)?r:(a.sourceHandle===null&&delete a.sourceHandle,a.targetHandle===null&&delete a.targetHandle,r.concat(a))};function zm({sourceX:e,sourceY:r,targetX:i,targetY:s}){const[a,l,u,d]=jm({sourceX:e,sourceY:r,targetX:i,targetY:s});return[`M ${e},${r}L ${i},${s}`,a,l,u,d]}const jp={[be.Left]:{x:-1,y:0},[be.Right]:{x:1,y:0},[be.Top]:{x:0,y:-1},[be.Bottom]:{x:0,y:1}},AN=({source:e,sourcePosition:r=be.Bottom,target:i})=>r===be.Left||r===be.Right?e.x<i.x?{x:1,y:0}:{x:-1,y:0}:e.y<i.y?{x:0,y:1}:{x:0,y:-1},zp=(e,r)=>Math.sqrt(Math.pow(r.x-e.x,2)+Math.pow(r.y-e.y,2));function TN({source:e,sourcePosition:r=be.Bottom,target:i,targetPosition:s=be.Top,center:a,offset:l,stepPosition:u}){const d=jp[r],f=jp[s],h={x:e.x+d.x*l,y:e.y+d.y*l},p={x:i.x+f.x*l,y:i.y+f.y*l},m=AN({source:h,sourcePosition:r,target:p}),g=m.x!==0?"x":"y",y=m[g];let N=[],k,w;const S={x:0,y:0},C={x:0,y:0},[,,E,_]=jm({sourceX:e.x,sourceY:e.y,targetX:i.x,targetY:i.y});if(d[g]*f[g]===-1){g==="x"?(k=a.x??h.x+(p.x-h.x)*u,w=a.y??(h.y+p.y)/2):(k=a.x??(h.x+p.x)/2,w=a.y??h.y+(p.y-h.y)*u);const O=[{x:k,y:h.y},{x:k,y:p.y}],F=[{x:h.x,y:w},{x:p.x,y:w}];d[g]===y?N=g==="x"?O:F:N=g==="x"?F:O}else{const O=[{x:h.x,y:p.y}],F=[{x:p.x,y:h.y}];if(g==="x"?N=d.x===y?F:O:N=d.y===y?O:F,r===s){const B=Math.abs(e[g]-i[g]);if(B<=l){const D=Math.min(l-1,l-B);d[g]===y?S[g]=(h[g]>e[g]?-1:1)*D:C[g]=(p[g]>i[g]?-1:1)*D}}if(r!==s){const B=g==="x"?"y":"x",D=d[g]===f[B],j=h[B]>p[B],Q=h[B]<p[B];(d[g]===1&&(!D&&j||D&&Q)||d[g]!==1&&(!D&&Q||D&&j))&&(N=g==="x"?O:F)}const V={x:h.x+S.x,y:h.y+S.y},Z={x:p.x+C.x,y:p.y+C.y},G=Math.max(Math.abs(V.x-N[0].x),Math.abs(Z.x-N[0].x)),X=Math.max(Math.abs(V.y-N[0].y),Math.abs(Z.y-N[0].y));G>=X?(k=(V.x+Z.x)/2,w=N[0].y):(k=N[0].x,w=(V.y+Z.y)/2)}return[[e,{x:h.x+S.x,y:h.y+S.y},...N,{x:p.x+C.x,y:p.y+C.y},i],k,w,E,_]}function RN(e,r,i,s){const a=Math.min(zp(e,r)/2,zp(r,i)/2,s),{x:l,y:u}=r;if(e.x===l&&l===i.x||e.y===u&&u===i.y)return`L${l} ${u}`;if(e.y===u){const h=e.x<i.x?-1:1,p=e.y<i.y?1:-1;return`L ${l+a*h},${u}Q ${l},${u} ${l},${u+a*p}`}const d=e.x<i.x?1:-1,f=e.y<i.y?-1:1;return`L ${l},${u+a*f}Q ${l},${u} ${l+a*d},${u}`}function Pc({sourceX:e,sourceY:r,sourcePosition:i=be.Bottom,targetX:s,targetY:a,targetPosition:l=be.Top,borderRadius:u=5,centerX:d,centerY:f,offset:h=20,stepPosition:p=.5}){const[m,g,y,N,k]=TN({source:{x:e,y:r},sourcePosition:i,target:{x:s,y:a},targetPosition:l,center:{x:d,y:f},offset:h,stepPosition:p});return[m.reduce((S,C,E)=>{let _="";return E>0&&E<m.length-1?_=RN(m[E-1],C,m[E+1],u):_=`${E===0?"M":"L"}${C.x} ${C.y}`,S+=_,S},""),g,y,N,k]}function Mp(e){var r;return e&&!!(e.internals.handleBounds||(r=e.handles)!=null&&r.length)&&!!(e.measured.width||e.width||e.initialWidth)}function ON(e){var m;const{sourceNode:r,targetNode:i}=e;if(!Mp(r)||!Mp(i))return null;const s=r.internals.handleBounds||Ip(r.handles),a=i.internals.handleBounds||Ip(i.handles),l=Lp((s==null?void 0:s.source)??[],e.sourceHandle),u=Lp(e.connectionMode===hi.Strict?(a==null?void 0:a.target)??[]:((a==null?void 0:a.target)??[]).concat((a==null?void 0:a.source)??[]),e.targetHandle);if(!l||!u)return(m=e.onError)==null||m.call(e,"008",on.error008(l?"target":"source",{id:e.id,sourceHandle:e.sourceHandle,targetHandle:e.targetHandle})),null;const d=(l==null?void 0:l.position)||be.Bottom,f=(u==null?void 0:u.position)||be.Top,h=zr(r,l,d),p=zr(i,u,f);return{sourceX:h.x,sourceY:h.y,targetX:p.x,targetY:p.y,sourcePosition:d,targetPosition:f}}function Ip(e){if(!e)return null;const r=[],i=[];for(const s of e)s.width=s.width??1,s.height=s.height??1,s.type==="source"?r.push(s):s.type==="target"&&i.push(s);return{source:r,target:i}}function zr(e,r,i=be.Left,s=!1){const a=((r==null?void 0:r.x)??0)+e.internals.positionAbsolute.x,l=((r==null?void 0:r.y)??0)+e.internals.positionAbsolute.y,{width:u,height:d}=r??kn(e);if(s)return{x:a+u/2,y:l+d/2};switch((r==null?void 0:r.position)??i){case be.Top:return{x:a+u/2,y:l};case be.Right:return{x:a+u,y:l+d/2};case be.Bottom:return{x:a+u/2,y:l+d};case be.Left:return{x:a,y:l+d/2}}}function Lp(e,r){return e&&(r?e.find(i=>i.id===r):e[0])||null}function Ac(e,r){return e?typeof e=="string"?e:`${r?`${r}__`:""}${Object.keys(e).sort().map(s=>`${s}=${e[s]}`).join("&")}`:""}function DN(e,{id:r,defaultColor:i,defaultMarkerStart:s,defaultMarkerEnd:a}){const l=new Set;return e.reduce((u,d)=>([d.markerStart||s,d.markerEnd||a].forEach(f=>{if(f&&typeof f=="object"){const h=Ac(f,r);l.has(h)||(u.push({id:h,color:f.color||i,...f}),l.add(h))}}),u),[]).sort((u,d)=>u.id.localeCompare(d.id))}const Mm=1e3,$N=10,rd={nodeOrigin:[0,0],nodeExtent:Mo,elevateNodesOnSelect:!0,zIndexMode:"basic",defaults:{}},BN={...rd,checkEquality:!0};function id(e,r){const i={...e};for(const s in r)r[s]!==void 0&&(i[s]=r[s]);return i}function FN(e,r,i){const s=id(rd,i);for(const a of e.values())if(a.parentId)sd(a,e,r,s);else{const l=Bo(a,s.nodeOrigin),u=gi(a.extent)?a.extent:s.nodeExtent,d=jr(l,u,kn(a));a.internals.positionAbsolute=d}}function VN(e,r){if(!e.handles)return e.measured?r==null?void 0:r.internals.handleBounds:void 0;const i=[],s=[];for(const a of e.handles){const l={id:a.id,width:a.width??1,height:a.height??1,nodeId:e.id,x:a.x,y:a.y,position:a.position,type:a.type};a.type==="source"?i.push(l):a.type==="target"&&s.push(l)}return{source:i,target:s}}function od(e){return e==="manual"}function Tc(e,r,i,s={}){var h,p;const a=id(BN,s),l={i:0},u=new Map(r),d=a!=null&&a.elevateNodesOnSelect&&!od(a.zIndexMode)?Mm:0;let f=e.length>0;r.clear(),i.clear();for(const m of e){let g=u.get(m.id);if(a.checkEquality&&m===(g==null?void 0:g.internals.userNode))r.set(m.id,g);else{const y=Bo(m,a.nodeOrigin),N=gi(m.extent)?m.extent:a.nodeExtent,k=jr(y,N,kn(m));g={...a.defaults,...m,measured:{width:(h=m.measured)==null?void 0:h.width,height:(p=m.measured)==null?void 0:p.height},internals:{positionAbsolute:k,handleBounds:VN(m,g),z:Im(m,d,a.zIndexMode),userNode:m}},r.set(m.id,g)}(g.measured===void 0||g.measured.width===void 0||g.measured.height===void 0)&&!g.hidden&&(f=!1),m.parentId&&sd(g,r,i,s,l)}return f}function HN(e,r){if(!e.parentId)return;const i=r.get(e.parentId);i?i.set(e.id,e):r.set(e.parentId,new Map([[e.id,e]]))}function sd(e,r,i,s,a){const{elevateNodesOnSelect:l,nodeOrigin:u,nodeExtent:d,zIndexMode:f}=id(rd,s),h=e.parentId,p=r.get(h);if(!p){console.warn(`Parent node ${h} not found. Please make sure that parent nodes are in front of their child nodes in the nodes array.`);return}HN(e,i),a&&!p.parentId&&p.internals.rootParentIndex===void 0&&f==="auto"&&(p.internals.rootParentIndex=++a.i,p.internals.z=p.internals.z+a.i*$N),a&&p.internals.rootParentIndex!==void 0&&(a.i=p.internals.rootParentIndex);const m=l&&!od(f)?Mm:0,{x:g,y,z:N}=WN(e,p,u,d,m,f),{positionAbsolute:k}=e.internals,w=g!==k.x||y!==k.y;(w||N!==e.internals.z)&&r.set(e.id,{...e,internals:{...e.internals,positionAbsolute:w?{x:g,y}:k,z:N}})}function Im(e,r,i){const s=Yt(e.zIndex)?e.zIndex:0;return od(i)?s:s+(e.selected?r:0)}function WN(e,r,i,s,a,l){const{x:u,y:d}=r.internals.positionAbsolute,f=kn(e),h=Bo(e,i),p=gi(e.extent)?jr(h,e.extent,f):h;let m=jr({x:u+p.x,y:d+p.y},s,f);e.extent==="parent"&&(m=vm(m,f,r));const g=Im(e,a,l),y=r.internals.z??0;return{x:m.x,y:m.y,z:y>=g?y+1:g}}function ad(e,r,i,s=[0,0]){var u;const a=[],l=new Map;for(const d of e){const f=r.get(d.parentId);if(!f)continue;const h=((u=l.get(d.parentId))==null?void 0:u.expandedRect)??mi(f),p=wm(h,d.rect);l.set(d.parentId,{expandedRect:p,parent:f})}return l.size>0&&l.forEach(({expandedRect:d,parent:f},h)=>{var E;const p=f.internals.positionAbsolute,m=kn(f),g=f.origin??s,y=d.x<p.x?Math.round(Math.abs(p.x-d.x)):0,N=d.y<p.y?Math.round(Math.abs(p.y-d.y)):0,k=Math.max(m.width,Math.round(d.width)),w=Math.max(m.height,Math.round(d.height)),S=(k-m.width)*g[0],C=(w-m.height)*g[1];(y>0||N>0||S||C)&&(a.push({id:h,type:"position",position:{x:f.position.x-y+S,y:f.position.y-N+C}}),(E=i.get(h))==null||E.forEach(_=>{e.some(M=>M.id===_.id)||a.push({id:_.id,type:"position",position:{x:_.position.x+y,y:_.position.y+N}})})),(m.width<d.width||m.height<d.height||y||N)&&a.push({id:h,type:"dimensions",setAttributes:!0,dimensions:{width:k+(y?g[0]*y-S:0),height:w+(N?g[1]*N-C:0)}})}),a}function UN(e,r,i,s,a,l,u){const d=s==null?void 0:s.querySelector(".xyflow__viewport");let f=!1;if(!d)return{changes:[],updatedInternals:f};const h=[],p=window.getComputedStyle(d),{m22:m}=new window.DOMMatrixReadOnly(p.transform),g=[];for(const y of e.values()){const N=r.get(y.id);if(!N)continue;if(N.hidden){r.set(N.id,{...N,internals:{...N.internals,handleBounds:void 0}}),f=!0;continue}const k=nd(y.nodeElement),w=N.measured.width!==k.width||N.measured.height!==k.height;if(!!(k.width&&k.height&&(w||!N.internals.handleBounds||y.force))){const C=y.nodeElement.getBoundingClientRect(),E=gi(N.extent)?N.extent:l;let{positionAbsolute:_}=N.internals;N.parentId&&N.extent==="parent"?_=vm(_,k,r.get(N.parentId)):E&&(_=jr(_,E,k));const M={...N,measured:k,internals:{...N.internals,positionAbsolute:_,handleBounds:{source:_p("source",y.nodeElement,C,m,N.id),target:_p("target",y.nodeElement,C,m,N.id)}}};r.set(N.id,M),N.parentId&&sd(M,r,i,{nodeOrigin:a,zIndexMode:u}),f=!0,w&&(h.push({id:N.id,type:"dimensions",dimensions:k}),N.expandParent&&N.parentId&&g.push({id:N.id,parentId:N.parentId,rect:mi(M,a)}))}}if(g.length>0){const y=ad(g,r,i,a);h.push(...y)}return{changes:h,updatedInternals:f}}async function YN({delta:e,panZoom:r,transform:i,translateExtent:s,width:a,height:l}){if(!r||!e.x&&!e.y)return Promise.resolve(!1);const u=await r.setViewportConstrained({x:i[0]+e.x,y:i[1]+e.y,zoom:i[2]},[[0,0],[a,l]],s),d=!!u&&(u.x!==i[0]||u.y!==i[1]||u.k!==i[2]);return Promise.resolve(d)}function Pp(e,r,i,s,a,l){let u=a;const d=s.get(u)||new Map;s.set(u,d.set(i,r)),u=`${a}-${e}`;const f=s.get(u)||new Map;if(s.set(u,f.set(i,r)),l){u=`${a}-${e}-${l}`;const h=s.get(u)||new Map;s.set(u,h.set(i,r))}}function Lm(e,r,i){e.clear(),r.clear();for(const s of i){const{source:a,target:l,sourceHandle:u=null,targetHandle:d=null}=s,f={edgeId:s.id,source:a,target:l,sourceHandle:u,targetHandle:d},h=`${a}-${u}--${l}-${d}`,p=`${l}-${d}--${a}-${u}`;Pp("source",f,p,e,a,u),Pp("target",f,h,e,l,d),r.set(s.id,s)}}function Pm(e,r){if(!e.parentId)return!1;const i=r.get(e.parentId);return i?i.selected?!0:Pm(i,r):!1}function Ap(e,r,i){var a;let s=e;do{if((a=s==null?void 0:s.matches)!=null&&a.call(s,r))return!0;if(s===i)return!1;s=s==null?void 0:s.parentElement}while(s);return!1}function XN(e,r,i,s){const a=new Map;for(const[l,u]of e)if((u.selected||u.id===s)&&(!u.parentId||!Pm(u,e))&&(u.draggable||r&&typeof u.draggable>"u")){const d=e.get(l);d&&a.set(l,{id:l,position:d.position||{x:0,y:0},distance:{x:i.x-d.internals.positionAbsolute.x,y:i.y-d.internals.positionAbsolute.y},extent:d.extent,parentId:d.parentId,origin:d.origin,expandParent:d.expandParent,internals:{positionAbsolute:d.internals.positionAbsolute||{x:0,y:0}},measured:{width:d.measured.width??0,height:d.measured.height??0}})}return a}function oc({nodeId:e,dragItems:r,nodeLookup:i,dragging:s=!0}){var u,d,f;const a=[];for(const[h,p]of r){const m=(u=i.get(h))==null?void 0:u.internals.userNode;m&&a.push({...m,position:p.position,dragging:s})}if(!e)return[a[0],a];const l=(d=i.get(e))==null?void 0:d.internals.userNode;return[l?{...l,position:((f=r.get(e))==null?void 0:f.position)||l.position,dragging:s}:a[0],a]}function GN({dragItems:e,snapGrid:r,x:i,y:s}){const a=e.values().next().value;if(!a)return null;const l={x:i-a.distance.x,y:s-a.distance.y},u=Vo(l,r);return{x:u.x-l.x,y:u.y-l.y}}function QN({onNodeMouseDown:e,getStoreItems:r,onDragStart:i,onDrag:s,onDragStop:a}){let l={x:null,y:null},u=0,d=new Map,f=!1,h={x:0,y:0},p=null,m=!1,g=null,y=!1,N=!1,k=null;function w({noDragClassName:C,handleSelector:E,domNode:_,isSelectable:M,nodeId:O,nodeClickDistance:F=0}){g=rt(_);function V({x:B,y:D}){const{nodeLookup:j,nodeExtent:Q,snapGrid:$,snapToGrid:W,nodeOrigin:z,onNodeDrag:P,onSelectionDrag:H,onError:I,updateNodePositions:L}=r();l={x:B,y:D};let ee=!1;const Y=d.size>1,T=Y&&Q?Lc(Fo(d)):null,K=Y&&W?GN({dragItems:d,snapGrid:$,x:B,y:D}):null;for(const[q,U]of d){if(!j.has(q))continue;let J={x:B-U.distance.x,y:D-U.distance.y};W&&(J=K?{x:Math.round(J.x+K.x),y:Math.round(J.y+K.y)}:Vo(J,$));let ie=null;if(Y&&Q&&!U.extent&&T){const{positionAbsolute:pe}=U.internals,ye=pe.x-T.x+Q[0][0],ke=pe.x+U.measured.width-T.x2+Q[1][0],Ce=pe.y-T.y+Q[0][1],Re=pe.y+U.measured.height-T.y2+Q[1][1];ie=[[ye,Ce],[ke,Re]]}const{position:le,positionAbsolute:he}=xm({nodeId:q,nextPosition:J,nodeLookup:j,nodeExtent:ie||Q,nodeOrigin:z,onError:I});ee=ee||U.position.x!==le.x||U.position.y!==le.y,U.position=le,U.internals.positionAbsolute=he}if(N=N||ee,!!ee&&(L(d,!0),k&&(s||P||!O&&H))){const[q,U]=oc({nodeId:O,dragItems:d,nodeLookup:j});s==null||s(k,d,q,U),P==null||P(k,q,U),O||H==null||H(k,U)}}async function Z(){if(!p)return;const{transform:B,panBy:D,autoPanSpeed:j,autoPanOnNodeDrag:Q}=r();if(!Q){f=!1,cancelAnimationFrame(u);return}const[$,W]=ym(h,p,j);($!==0||W!==0)&&(l.x=(l.x??0)-$/B[2],l.y=(l.y??0)-W/B[2],await D({x:$,y:W})&&V(l)),u=requestAnimationFrame(Z)}function G(B){var Y;const{nodeLookup:D,multiSelectionActive:j,nodesDraggable:Q,transform:$,snapGrid:W,snapToGrid:z,selectNodesOnDrag:P,onNodeDragStart:H,onSelectionDragStart:I,unselectNodesAndEdges:L}=r();m=!0,(!P||!M)&&!j&&O&&((Y=D.get(O))!=null&&Y.selected||L()),M&&P&&O&&(e==null||e(O));const ee=No(B.sourceEvent,{transform:$,snapGrid:W,snapToGrid:z,containerBounds:p});if(l=ee,d=XN(D,Q,ee,O),d.size>0&&(i||H||!O&&I)){const[T,K]=oc({nodeId:O,dragItems:d,nodeLookup:D});i==null||i(B.sourceEvent,d,T,K),H==null||H(B.sourceEvent,T,K),O||I==null||I(B.sourceEvent,K)}}const X=Uc().clickDistance(F).on("start",B=>{const{domNode:D,nodeDragThreshold:j,transform:Q,snapGrid:$,snapToGrid:W}=r();p=(D==null?void 0:D.getBoundingClientRect())||null,y=!1,N=!1,k=B.sourceEvent,j===0&&G(B),l=No(B.sourceEvent,{transform:Q,snapGrid:$,snapToGrid:W,containerBounds:p}),h=Xt(B.sourceEvent,p)}).on("drag",B=>{const{autoPanOnNodeDrag:D,transform:j,snapGrid:Q,snapToGrid:$,nodeDragThreshold:W,nodeLookup:z}=r(),P=No(B.sourceEvent,{transform:j,snapGrid:Q,snapToGrid:$,containerBounds:p});if(k=B.sourceEvent,(B.sourceEvent.type==="touchmove"&&B.sourceEvent.touches.length>1||O&&!z.has(O))&&(y=!0),!y){if(!f&&D&&m&&(f=!0,Z()),!m){const H=Xt(B.sourceEvent,p),I=H.x-h.x,L=H.y-h.y;Math.sqrt(I*I+L*L)>W&&G(B)}(l.x!==P.xSnapped||l.y!==P.ySnapped)&&d&&m&&(h=Xt(B.sourceEvent,p),V(P))}}).on("end",B=>{if(!(!m||y)&&(f=!1,m=!1,cancelAnimationFrame(u),d.size>0)){const{nodeLookup:D,updateNodePositions:j,onNodeDragStop:Q,onSelectionDragStop:$}=r();if(N&&(j(d,!1),N=!1),a||Q||!O&&$){const[W,z]=oc({nodeId:O,dragItems:d,nodeLookup:D,dragging:!1});a==null||a(B.sourceEvent,d,W,z),Q==null||Q(B.sourceEvent,W,z),O||$==null||$(B.sourceEvent,z)}}}).filter(B=>{const D=B.target;return!B.button&&(!C||!Ap(D,`.${C}`,_))&&(!E||Ap(D,E,_))});g.call(X)}function S(){g==null||g.on(".drag",null)}return{update:w,destroy:S}}function KN(e,r,i){const s=[],a={x:e.x-i,y:e.y-i,width:i*2,height:i*2};for(const l of r.values())Lo(a,mi(l))>0&&s.push(l);return s}const qN=250;function ZN(e,r,i,s){var d,f;let a=[],l=1/0;const u=KN(e,i,r+qN);for(const h of u){const p=[...((d=h.internals.handleBounds)==null?void 0:d.source)??[],...((f=h.internals.handleBounds)==null?void 0:f.target)??[]];for(const m of p){if(s.nodeId===m.nodeId&&s.type===m.type&&s.id===m.id)continue;const{x:g,y}=zr(h,m,m.position,!0),N=Math.sqrt(Math.pow(g-e.x,2)+Math.pow(y-e.y,2));N>r||(N<l?(a=[{...m,x:g,y}],l=N):N===l&&a.push({...m,x:g,y}))}}if(!a.length)return null;if(a.length>1){const h=s.type==="source"?"target":"source";return a.find(p=>p.type===h)??a[0]}return a[0]}function Am(e,r,i,s,a,l=!1){var h,p,m;const u=s.get(e);if(!u)return null;const d=a==="strict"?(h=u.internals.handleBounds)==null?void 0:h[r]:[...((p=u.internals.handleBounds)==null?void 0:p.source)??[],...((m=u.internals.handleBounds)==null?void 0:m.target)??[]],f=(i?d==null?void 0:d.find(g=>g.id===i):d==null?void 0:d[0])??null;return f&&l?{...f,...zr(u,f,f.position,!0)}:f}function Tm(e,r){return e||(r!=null&&r.classList.contains("target")?"target":r!=null&&r.classList.contains("source")?"source":null)}function JN(e,r){let i=null;return r?i=!0:e&&!r&&(i=!1),i}const Rm=()=>!0;function eb(e,{connectionMode:r,connectionRadius:i,handleId:s,nodeId:a,edgeUpdaterType:l,isTarget:u,domNode:d,nodeLookup:f,lib:h,autoPanOnConnect:p,flowId:m,panBy:g,cancelConnection:y,onConnectStart:N,onConnect:k,onConnectEnd:w,isValidConnection:S=Rm,onReconnectEnd:C,updateConnection:E,getTransform:_,getFromHandle:M,autoPanSpeed:O,dragThreshold:F=1,handleDomNode:V}){const Z=km(e.target);let G=0,X;const{x:B,y:D}=Xt(e),j=Tm(l,V),Q=d==null?void 0:d.getBoundingClientRect();let $=!1;if(!Q||!j)return;const W=Am(a,j,s,f,r);if(!W)return;let z=Xt(e,Q),P=!1,H=null,I=!1,L=null;function ee(){if(!p||!Q)return;const[le,he]=ym(z,Q,O);g({x:le,y:he}),G=requestAnimationFrame(ee)}const Y={...W,nodeId:a,type:j,position:W.position},T=f.get(a);let q={inProgress:!0,isValid:null,from:zr(T,Y,be.Left,!0),fromHandle:Y,fromPosition:Y.position,fromNode:T,to:z,toHandle:null,toPosition:bp[Y.position],toNode:null,pointer:z};function U(){$=!0,E(q),N==null||N(e,{nodeId:a,handleId:s,handleType:j})}F===0&&U();function J(le){if(!$){const{x:Re,y:st}=Xt(le),me=Re-B,je=st-D;if(!(me*me+je*je>F*F))return;U()}if(!M()||!Y){ie(le);return}const he=_();z=Xt(le,Q),X=ZN(Ho(z,he,!1,[1,1]),i,f,Y),P||(ee(),P=!0);const pe=Om(le,{handle:X,connectionMode:r,fromNodeId:a,fromHandleId:s,fromType:u?"target":"source",isValidConnection:S,doc:Z,lib:h,flowId:m,nodeLookup:f});L=pe.handleDomNode,H=pe.connection,I=JN(!!X,pe.isValid);const ye=f.get(a),ke=ye?zr(ye,Y,be.Left,!0):q.from,Ce={...q,from:ke,isValid:I,to:pe.toHandle&&I?Ta({x:pe.toHandle.x,y:pe.toHandle.y},he):z,toHandle:pe.toHandle,toPosition:I&&pe.toHandle?pe.toHandle.position:bp[Y.position],toNode:pe.toHandle?f.get(pe.toHandle.nodeId):null,pointer:z};E(Ce),q=Ce}function ie(le){if(!("touches"in le&&le.touches.length>0)){if($){(X||L)&&H&&I&&(k==null||k(H));const{inProgress:he,...pe}=q,ye={...pe,toPosition:q.toHandle?q.toPosition:null};w==null||w(le,ye),l&&(C==null||C(le,ye))}y(),cancelAnimationFrame(G),P=!1,I=!1,H=null,L=null,Z.removeEventListener("mousemove",J),Z.removeEventListener("mouseup",ie),Z.removeEventListener("touchmove",J),Z.removeEventListener("touchend",ie)}}Z.addEventListener("mousemove",J),Z.addEventListener("mouseup",ie),Z.addEventListener("touchmove",J),Z.addEventListener("touchend",ie)}function Om(e,{handle:r,connectionMode:i,fromNodeId:s,fromHandleId:a,fromType:l,doc:u,lib:d,flowId:f,isValidConnection:h=Rm,nodeLookup:p}){const m=l==="target",g=r?u.querySelector(`.${d}-flow__handle[data-id="${f}-${r==null?void 0:r.nodeId}-${r==null?void 0:r.id}-${r==null?void 0:r.type}"]`):null,{x:y,y:N}=Xt(e),k=u.elementFromPoint(y,N),w=k!=null&&k.classList.contains(`${d}-flow__handle`)?k:g,S={handleDomNode:w,isValid:!1,connection:null,toHandle:null};if(w){const C=Tm(void 0,w),E=w.getAttribute("data-nodeid"),_=w.getAttribute("data-handleid"),M=w.classList.contains("connectable"),O=w.classList.contains("connectableend");if(!E||!C)return S;const F={source:m?E:s,sourceHandle:m?_:a,target:m?s:E,targetHandle:m?a:_};S.connection=F;const Z=M&&O&&(i===hi.Strict?m&&C==="source"||!m&&C==="target":E!==s||_!==a);S.isValid=Z&&h(F),S.toHandle=Am(E,C,_,p,i,!0)}return S}const Rc={onPointerDown:eb,isValid:Om};function tb({domNode:e,panZoom:r,getTransform:i,getViewScale:s}){const a=rt(e);function l({translateExtent:d,width:f,height:h,zoomStep:p=1,pannable:m=!0,zoomable:g=!0,inversePan:y=!1}){const N=E=>{if(E.sourceEvent.type!=="wheel"||!r)return;const _=i(),M=E.sourceEvent.ctrlKey&&Po()?10:1,O=-E.sourceEvent.deltaY*(E.sourceEvent.deltaMode===1?.05:E.sourceEvent.deltaMode?1:.002)*p,F=_[2]*Math.pow(2,O*M);r.scaleTo(F)};let k=[0,0];const w=E=>{(E.sourceEvent.type==="mousedown"||E.sourceEvent.type==="touchstart")&&(k=[E.sourceEvent.clientX??E.sourceEvent.touches[0].clientX,E.sourceEvent.clientY??E.sourceEvent.touches[0].clientY])},S=E=>{const _=i();if(E.sourceEvent.type!=="mousemove"&&E.sourceEvent.type!=="touchmove"||!r)return;const M=[E.sourceEvent.clientX??E.sourceEvent.touches[0].clientX,E.sourceEvent.clientY??E.sourceEvent.touches[0].clientY],O=[M[0]-k[0],M[1]-k[1]];k=M;const F=s()*Math.max(_[2],Math.log(_[2]))*(y?-1:1),V={x:_[0]-O[0]*F,y:_[1]-O[1]*F},Z=[[0,0],[f,h]];r.setViewportConstrained({x:V.x,y:V.y,zoom:_[2]},Z,d)},C=Zc().on("start",w).on("zoom",m?S:null).on("zoom.wheel",g?N:null);a.call(C,{})}function u(){a.on("zoom",null)}return{update:l,destroy:u,pointer:Wt}}const Qa=e=>({x:e.x,y:e.y,zoom:e.k}),sc=({x:e,y:r,zoom:i})=>Ya.translate(e,r).scale(i),ai=(e,r)=>e.target.closest(`.${r}`),Dm=(e,r)=>r===2&&Array.isArray(e)&&e.includes(2),nb=e=>((e*=2)<=1?e*e*e:(e-=2)*e*e+2)/2,ac=(e,r=0,i=nb,s=()=>{})=>{const a=typeof r=="number"&&r>0;return a||s(),a?e.transition().duration(r).ease(i).on("end",s):e},$m=e=>{const r=e.ctrlKey&&Po()?10:1;return-e.deltaY*(e.deltaMode===1?.05:e.deltaMode?1:.002)*r};function rb({zoomPanValues:e,noWheelClassName:r,d3Selection:i,d3Zoom:s,panOnScrollMode:a,panOnScrollSpeed:l,zoomOnPinch:u,onPanZoomStart:d,onPanZoom:f,onPanZoomEnd:h}){return p=>{if(ai(p,r))return p.ctrlKey&&p.preventDefault(),!1;p.preventDefault(),p.stopImmediatePropagation();const m=i.property("__zoom").k||1;if(p.ctrlKey&&u){const w=Wt(p),S=$m(p),C=m*Math.pow(2,S);s.scaleTo(i,C,w,p);return}const g=p.deltaMode===1?20:1;let y=a===Sr.Vertical?0:p.deltaX*g,N=a===Sr.Horizontal?0:p.deltaY*g;!Po()&&p.shiftKey&&a!==Sr.Vertical&&(y=p.deltaY*g,N=0),s.translateBy(i,-(y/m)*l,-(N/m)*l,{internal:!0});const k=Qa(i.property("__zoom"));clearTimeout(e.panScrollTimeout),e.isPanScrolling?(f==null||f(p,k),e.panScrollTimeout=setTimeout(()=>{h==null||h(p,k),e.isPanScrolling=!1},150)):(e.isPanScrolling=!0,d==null||d(p,k))}}function ib({noWheelClassName:e,preventScrolling:r,d3ZoomHandler:i}){return function(s,a){const l=s.type==="wheel",u=!r&&l&&!s.ctrlKey,d=ai(s,e);if(s.ctrlKey&&l&&d&&s.preventDefault(),u||d)return null;s.preventDefault(),i.call(this,s,a)}}function ob({zoomPanValues:e,onDraggingChange:r,onPanZoomStart:i}){return s=>{var l,u,d;if((l=s.sourceEvent)!=null&&l.internal)return;const a=Qa(s.transform);e.mouseButton=((u=s.sourceEvent)==null?void 0:u.button)||0,e.isZoomingOrPanning=!0,e.prevViewport=a,((d=s.sourceEvent)==null?void 0:d.type)==="mousedown"&&r(!0),i&&(i==null||i(s.sourceEvent,a))}}function sb({zoomPanValues:e,panOnDrag:r,onPaneContextMenu:i,onTransformChange:s,onPanZoom:a}){return l=>{var u,d;e.usedRightMouseButton=!!(i&&Dm(r,e.mouseButton??0)),(u=l.sourceEvent)!=null&&u.sync||s([l.transform.x,l.transform.y,l.transform.k]),a&&!((d=l.sourceEvent)!=null&&d.internal)&&(a==null||a(l.sourceEvent,Qa(l.transform)))}}function ab({zoomPanValues:e,panOnDrag:r,panOnScroll:i,onDraggingChange:s,onPanZoomEnd:a,onPaneContextMenu:l}){return u=>{var d;if(!((d=u.sourceEvent)!=null&&d.internal)&&(e.isZoomingOrPanning=!1,l&&Dm(r,e.mouseButton??0)&&!e.usedRightMouseButton&&u.sourceEvent&&l(u.sourceEvent),e.usedRightMouseButton=!1,s(!1),a)){const f=Qa(u.transform);e.prevViewport=f,clearTimeout(e.timerId),e.timerId=setTimeout(()=>{a==null||a(u.sourceEvent,f)},i?150:0)}}}function lb({zoomActivationKeyPressed:e,zoomOnScroll:r,zoomOnPinch:i,panOnDrag:s,panOnScroll:a,zoomOnDoubleClick:l,userSelectionActive:u,noWheelClassName:d,noPanClassName:f,lib:h,connectionInProgress:p}){return m=>{var w;const g=e||r,y=i&&m.ctrlKey,N=m.type==="wheel";if(m.button===1&&m.type==="mousedown"&&(ai(m,`${h}-flow__node`)||ai(m,`${h}-flow__edge`)))return!0;if(!s&&!g&&!a&&!l&&!i||u||p&&!N||ai(m,d)&&N||ai(m,f)&&(!N||a&&N&&!e)||!i&&m.ctrlKey&&N)return!1;if(!i&&m.type==="touchstart"&&((w=m.touches)==null?void 0:w.length)>1)return m.preventDefault(),!1;if(!g&&!a&&!y&&N||!s&&(m.type==="mousedown"||m.type==="touchstart")||Array.isArray(s)&&!s.includes(m.button)&&m.type==="mousedown")return!1;const k=Array.isArray(s)&&s.includes(m.button)||!m.button||m.button<=1;return(!m.ctrlKey||N)&&k}}function ub({domNode:e,minZoom:r,maxZoom:i,translateExtent:s,viewport:a,onPanZoom:l,onPanZoomStart:u,onPanZoomEnd:d,onDraggingChange:f}){const h={isZoomingOrPanning:!1,usedRightMouseButton:!1,prevViewport:{},mouseButton:0,timerId:void 0,panScrollTimeout:void 0,isPanScrolling:!1},p=e.getBoundingClientRect(),m=Zc().scaleExtent([r,i]).translateExtent(s),g=rt(e).call(m);C({x:a.x,y:a.y,zoom:pi(a.zoom,r,i)},[[0,0],[p.width,p.height]],s);const y=g.on("wheel.zoom"),N=g.on("dblclick.zoom");m.wheelDelta($m);function k(X,B){return g?new Promise(D=>{m==null||m.interpolate((B==null?void 0:B.interpolate)==="linear"?wo:wa).transform(ac(g,B==null?void 0:B.duration,B==null?void 0:B.ease,()=>D(!0)),X)}):Promise.resolve(!1)}function w({noWheelClassName:X,noPanClassName:B,onPaneContextMenu:D,userSelectionActive:j,panOnScroll:Q,panOnDrag:$,panOnScrollMode:W,panOnScrollSpeed:z,preventScrolling:P,zoomOnPinch:H,zoomOnScroll:I,zoomOnDoubleClick:L,zoomActivationKeyPressed:ee,lib:Y,onTransformChange:T,connectionInProgress:K,paneClickDistance:q,selectionOnDrag:U}){j&&!h.isZoomingOrPanning&&S();const J=Q&&!ee&&!j;m.clickDistance(U?1/0:!Yt(q)||q<0?0:q);const ie=J?rb({zoomPanValues:h,noWheelClassName:X,d3Selection:g,d3Zoom:m,panOnScrollMode:W,panOnScrollSpeed:z,zoomOnPinch:H,onPanZoomStart:u,onPanZoom:l,onPanZoomEnd:d}):ib({noWheelClassName:X,preventScrolling:P,d3ZoomHandler:y});if(g.on("wheel.zoom",ie,{passive:!1}),!j){const he=ob({zoomPanValues:h,onDraggingChange:f,onPanZoomStart:u});m.on("start",he);const pe=sb({zoomPanValues:h,panOnDrag:$,onPaneContextMenu:!!D,onPanZoom:l,onTransformChange:T});m.on("zoom",pe);const ye=ab({zoomPanValues:h,panOnDrag:$,panOnScroll:Q,onPaneContextMenu:D,onPanZoomEnd:d,onDraggingChange:f});m.on("end",ye)}const le=lb({zoomActivationKeyPressed:ee,panOnDrag:$,zoomOnScroll:I,panOnScroll:Q,zoomOnDoubleClick:L,zoomOnPinch:H,userSelectionActive:j,noPanClassName:B,noWheelClassName:X,lib:Y,connectionInProgress:K});m.filter(le),L?g.on("dblclick.zoom",N):g.on("dblclick.zoom",null)}function S(){m.on("zoom",null)}async function C(X,B,D){const j=sc(X),Q=m==null?void 0:m.constrain()(j,B,D);return Q&&await k(Q),new Promise($=>$(Q))}async function E(X,B){const D=sc(X);return await k(D,B),new Promise(j=>j(D))}function _(X){if(g){const B=sc(X),D=g.property("__zoom");(D.k!==X.zoom||D.x!==X.x||D.y!==X.y)&&(m==null||m.transform(g,B,null,{sync:!0}))}}function M(){const X=g?dm(g.node()):{x:0,y:0,k:1};return{x:X.x,y:X.y,zoom:X.k}}function O(X,B){return g?new Promise(D=>{m==null||m.interpolate((B==null?void 0:B.interpolate)==="linear"?wo:wa).scaleTo(ac(g,B==null?void 0:B.duration,B==null?void 0:B.ease,()=>D(!0)),X)}):Promise.resolve(!1)}function F(X,B){return g?new Promise(D=>{m==null||m.interpolate((B==null?void 0:B.interpolate)==="linear"?wo:wa).scaleBy(ac(g,B==null?void 0:B.duration,B==null?void 0:B.ease,()=>D(!0)),X)}):Promise.resolve(!1)}function V(X){m==null||m.scaleExtent(X)}function Z(X){m==null||m.translateExtent(X)}function G(X){const B=!Yt(X)||X<0?0:X;m==null||m.clickDistance(B)}return{update:w,destroy:S,setViewport:E,setViewportConstrained:C,getViewport:M,scaleTo:O,scaleBy:F,setScaleExtent:V,setTranslateExtent:Z,syncViewport:_,setClickDistance:G}}var xi;(function(e){e.Line="line",e.Handle="handle"})(xi||(xi={}));function cb({width:e,prevWidth:r,height:i,prevHeight:s,affectsX:a,affectsY:l}){const u=e-r,d=i-s,f=[u>0?1:u<0?-1:0,d>0?1:d<0?-1:0];return u&&a&&(f[0]=f[0]*-1),d&&l&&(f[1]=f[1]*-1),f}function Tp(e){const r=e.includes("right")||e.includes("left"),i=e.includes("bottom")||e.includes("top"),s=e.includes("left"),a=e.includes("top");return{isHorizontal:r,isVertical:i,affectsX:s,affectsY:a}}function Yn(e,r){return Math.max(0,r-e)}function Xn(e,r){return Math.max(0,e-r)}function ma(e,r,i){return Math.max(0,r-e,e-i)}function Rp(e,r){return e?!r:r}function db(e,r,i,s,a,l,u,d){let{affectsX:f,affectsY:h}=r;const{isHorizontal:p,isVertical:m}=r,g=p&&m,{xSnapped:y,ySnapped:N}=i,{minWidth:k,maxWidth:w,minHeight:S,maxHeight:C}=s,{x:E,y:_,width:M,height:O,aspectRatio:F}=e;let V=Math.floor(p?y-e.pointerX:0),Z=Math.floor(m?N-e.pointerY:0);const G=M+(f?-V:V),X=O+(h?-Z:Z),B=-l[0]*M,D=-l[1]*O;let j=ma(G,k,w),Q=ma(X,S,C);if(u){let z=0,P=0;f&&V<0?z=Yn(E+V+B,u[0][0]):!f&&V>0&&(z=Xn(E+G+B,u[1][0])),h&&Z<0?P=Yn(_+Z+D,u[0][1]):!h&&Z>0&&(P=Xn(_+X+D,u[1][1])),j=Math.max(j,z),Q=Math.max(Q,P)}if(d){let z=0,P=0;f&&V>0?z=Xn(E+V,d[0][0]):!f&&V<0&&(z=Yn(E+G,d[1][0])),h&&Z>0?P=Xn(_+Z,d[0][1]):!h&&Z<0&&(P=Yn(_+X,d[1][1])),j=Math.max(j,z),Q=Math.max(Q,P)}if(a){if(p){const z=ma(G/F,S,C)*F;if(j=Math.max(j,z),u){let P=0;!f&&!h||f&&!h&&g?P=Xn(_+D+G/F,u[1][1])*F:P=Yn(_+D+(f?V:-V)/F,u[0][1])*F,j=Math.max(j,P)}if(d){let P=0;!f&&!h||f&&!h&&g?P=Yn(_+G/F,d[1][1])*F:P=Xn(_+(f?V:-V)/F,d[0][1])*F,j=Math.max(j,P)}}if(m){const z=ma(X*F,k,w)/F;if(Q=Math.max(Q,z),u){let P=0;!f&&!h||h&&!f&&g?P=Xn(E+X*F+B,u[1][0])/F:P=Yn(E+(h?Z:-Z)*F+B,u[0][0])/F,Q=Math.max(Q,P)}if(d){let P=0;!f&&!h||h&&!f&&g?P=Yn(E+X*F,d[1][0])/F:P=Xn(E+(h?Z:-Z)*F,d[0][0])/F,Q=Math.max(Q,P)}}}Z=Z+(Z<0?Q:-Q),V=V+(V<0?j:-j),a&&(g?G>X*F?Z=(Rp(f,h)?-V:V)/F:V=(Rp(f,h)?-Z:Z)*F:p?(Z=V/F,h=f):(V=Z*F,f=h));const $=f?E+V:E,W=h?_+Z:_;return{width:M+(f?-V:V),height:O+(h?-Z:Z),x:l[0]*V*(f?-1:1)+$,y:l[1]*Z*(h?-1:1)+W}}const Bm={width:0,height:0,x:0,y:0},fb={...Bm,pointerX:0,pointerY:0,aspectRatio:1};function hb(e){return[[0,0],[e.measured.width,e.measured.height]]}function pb(e,r,i){const s=r.position.x+e.position.x,a=r.position.y+e.position.y,l=e.measured.width??0,u=e.measured.height??0,d=i[0]*l,f=i[1]*u;return[[s-d,a-f],[s+l-d,a+u-f]]}function mb({domNode:e,nodeId:r,getStoreItems:i,onChange:s,onEnd:a}){const l=rt(e);let u={controlDirection:Tp("bottom-right"),boundaries:{minWidth:0,minHeight:0,maxWidth:Number.MAX_VALUE,maxHeight:Number.MAX_VALUE},resizeDirection:void 0,keepAspectRatio:!1};function d({controlPosition:h,boundaries:p,keepAspectRatio:m,resizeDirection:g,onResizeStart:y,onResize:N,onResizeEnd:k,shouldResize:w}){let S={...Bm},C={...fb};u={boundaries:p,resizeDirection:g,keepAspectRatio:m,controlDirection:Tp(h)};let E,_=null,M=[],O,F,V,Z=!1;const G=Uc().on("start",X=>{const{nodeLookup:B,transform:D,snapGrid:j,snapToGrid:Q,nodeOrigin:$,paneDomNode:W}=i();if(E=B.get(r),!E)return;_=(W==null?void 0:W.getBoundingClientRect())??null;const{xSnapped:z,ySnapped:P}=No(X.sourceEvent,{transform:D,snapGrid:j,snapToGrid:Q,containerBounds:_});S={width:E.measured.width??0,height:E.measured.height??0,x:E.position.x??0,y:E.position.y??0},C={...S,pointerX:z,pointerY:P,aspectRatio:S.width/S.height},O=void 0,E.parentId&&(E.extent==="parent"||E.expandParent)&&(O=B.get(E.parentId),F=O&&E.extent==="parent"?hb(O):void 0),M=[],V=void 0;for(const[H,I]of B)if(I.parentId===r&&(M.push({id:H,position:{...I.position},extent:I.extent}),I.extent==="parent"||I.expandParent)){const L=pb(I,E,I.origin??$);V?V=[[Math.min(L[0][0],V[0][0]),Math.min(L[0][1],V[0][1])],[Math.max(L[1][0],V[1][0]),Math.max(L[1][1],V[1][1])]]:V=L}y==null||y(X,{...S})}).on("drag",X=>{const{transform:B,snapGrid:D,snapToGrid:j,nodeOrigin:Q}=i(),$=No(X.sourceEvent,{transform:B,snapGrid:D,snapToGrid:j,containerBounds:_}),W=[];if(!E)return;const{x:z,y:P,width:H,height:I}=S,L={},ee=E.origin??Q,{width:Y,height:T,x:K,y:q}=db(C,u.controlDirection,$,u.boundaries,u.keepAspectRatio,ee,F,V),U=Y!==H,J=T!==I,ie=K!==z&&U,le=q!==P&&J;if(!ie&&!le&&!U&&!J)return;if((ie||le||ee[0]===1||ee[1]===1)&&(L.x=ie?K:S.x,L.y=le?q:S.y,S.x=L.x,S.y=L.y,M.length>0)){const ke=K-z,Ce=q-P;for(const Re of M)Re.position={x:Re.position.x-ke+ee[0]*(Y-H),y:Re.position.y-Ce+ee[1]*(T-I)},W.push(Re)}if((U||J)&&(L.width=U&&(!u.resizeDirection||u.resizeDirection==="horizontal")?Y:S.width,L.height=J&&(!u.resizeDirection||u.resizeDirection==="vertical")?T:S.height,S.width=L.width,S.height=L.height),O&&E.expandParent){const ke=ee[0]*(L.width??0);L.x&&L.x<ke&&(S.x=ke,C.x=C.x-(L.x-ke));const Ce=ee[1]*(L.height??0);L.y&&L.y<Ce&&(S.y=Ce,C.y=C.y-(L.y-Ce))}const he=cb({width:S.width,prevWidth:H,height:S.height,prevHeight:I,affectsX:u.controlDirection.affectsX,affectsY:u.controlDirection.affectsY}),pe={...S,direction:he};(w==null?void 0:w(X,pe))!==!1&&(Z=!0,N==null||N(X,pe),s(L,W))}).on("end",X=>{Z&&(k==null||k(X,{...S}),a==null||a({...S}),Z=!1)});l.call(G)}function f(){l.on(".drag",null)}return{update:d,destroy:f}}var lc={exports:{}},uc={},cc={exports:{}},dc={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Op;function gb(){if(Op)return dc;Op=1;var e=Ro();function r(m,g){return m===g&&(m!==0||1/m===1/g)||m!==m&&g!==g}var i=typeof Object.is=="function"?Object.is:r,s=e.useState,a=e.useEffect,l=e.useLayoutEffect,u=e.useDebugValue;function d(m,g){var y=g(),N=s({inst:{value:y,getSnapshot:g}}),k=N[0].inst,w=N[1];return l(function(){k.value=y,k.getSnapshot=g,f(k)&&w({inst:k})},[m,y,g]),a(function(){return f(k)&&w({inst:k}),m(function(){f(k)&&w({inst:k})})},[m]),u(y),y}function f(m){var g=m.getSnapshot;m=m.value;try{var y=g();return!i(m,y)}catch{return!0}}function h(m,g){return g()}var p=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?h:d;return dc.useSyncExternalStore=e.useSyncExternalStore!==void 0?e.useSyncExternalStore:p,dc}var Dp;function xb(){return Dp||(Dp=1,cc.exports=gb()),cc.exports}/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var $p;function vb(){if($p)return uc;$p=1;var e=Ro(),r=xb();function i(h,p){return h===p&&(h!==0||1/h===1/p)||h!==h&&p!==p}var s=typeof Object.is=="function"?Object.is:i,a=r.useSyncExternalStore,l=e.useRef,u=e.useEffect,d=e.useMemo,f=e.useDebugValue;return uc.useSyncExternalStoreWithSelector=function(h,p,m,g,y){var N=l(null);if(N.current===null){var k={hasValue:!1,value:null};N.current=k}else k=N.current;N=d(function(){function S(O){if(!C){if(C=!0,E=O,O=g(O),y!==void 0&&k.hasValue){var F=k.value;if(y(F,O))return _=F}return _=O}if(F=_,s(E,O))return F;var V=g(O);return y!==void 0&&y(F,V)?(E=O,F):(E=O,_=V)}var C=!1,E,_,M=m===void 0?null:m;return[function(){return S(p())},M===null?void 0:function(){return S(M())}]},[p,m,g,y]);var w=a(h,N[0],N[1]);return u(function(){k.hasValue=!0,k.value=w},[w]),f(w),w},uc}var Bp;function yb(){return Bp||(Bp=1,lc.exports=vb()),lc.exports}var wb=yb();const Nb=_0(wb),bb={},Fp=e=>{let r;const i=new Set,s=(p,m)=>{const g=typeof p=="function"?p(r):p;if(!Object.is(g,r)){const y=r;r=m??(typeof g!="object"||g===null)?g:Object.assign({},r,g),i.forEach(N=>N(r,y))}},a=()=>r,f={setState:s,getState:a,getInitialState:()=>h,subscribe:p=>(i.add(p),()=>i.delete(p)),destroy:()=>{(bb?"production":void 0)!=="production"&&console.warn("[DEPRECATED] The `destroy` method will be unsupported in a future version. Instead use unsubscribe function returned by subscribe. Everything will be garbage-collected if store is garbage-collected."),i.clear()}},h=r=e(s,a,f);return f},kb=e=>e?Fp(e):Fp,{useDebugValue:Eb}=C0,{useSyncExternalStoreWithSelector:Sb}=Nb,_b=e=>e;function Fm(e,r=_b,i){const s=Sb(e.subscribe,e.getState,e.getServerState||e.getInitialState,r,i);return Eb(s),s}const Vp=(e,r)=>{const i=kb(e),s=(a,l=r)=>Fm(i,a,l);return Object.assign(s,i),s},Cb=(e,r)=>e?Vp(e,r):Vp;function Fe(e,r){if(Object.is(e,r))return!0;if(typeof e!="object"||e===null||typeof r!="object"||r===null)return!1;if(e instanceof Map&&r instanceof Map){if(e.size!==r.size)return!1;for(const[s,a]of e)if(!Object.is(a,r.get(s)))return!1;return!0}if(e instanceof Set&&r instanceof Set){if(e.size!==r.size)return!1;for(const s of e)if(!r.has(s))return!1;return!0}const i=Object.keys(e);if(i.length!==Object.keys(r).length)return!1;for(const s of i)if(!Object.prototype.hasOwnProperty.call(r,s)||!Object.is(e[s],r[s]))return!1;return!0}const Ka=R.createContext(null),jb=Ka.Provider,Vm=on.error001();function Me(e,r){const i=R.useContext(Ka);if(i===null)throw new Error(Vm);return Fm(i,e,r)}function Ve(){const e=R.useContext(Ka);if(e===null)throw new Error(Vm);return R.useMemo(()=>({getState:e.getState,setState:e.setState,subscribe:e.subscribe}),[e])}const Hp={display:"none"},zb={position:"absolute",width:1,height:1,margin:-1,border:0,padding:0,overflow:"hidden",clip:"rect(0px, 0px, 0px, 0px)",clipPath:"inset(100%)"},Hm="react-flow__node-desc",Wm="react-flow__edge-desc",Mb="react-flow__aria-live",Ib=e=>e.ariaLiveMessage,Lb=e=>e.ariaLabelConfig;function Pb({rfId:e}){const r=Me(Ib);return x.jsx("div",{id:`${Mb}-${e}`,"aria-live":"assertive","aria-atomic":"true",style:zb,children:r})}function Ab({rfId:e,disableKeyboardA11y:r}){const i=Me(Lb);return x.jsxs(x.Fragment,{children:[x.jsx("div",{id:`${Hm}-${e}`,style:Hp,children:r?i["node.a11yDescription.default"]:i["node.a11yDescription.keyboardDisabled"]}),x.jsx("div",{id:`${Wm}-${e}`,style:Hp,children:i["edge.a11yDescription.default"]}),!r&&x.jsx(Pb,{rfId:e})]})}const qa=R.forwardRef(({position:e="top-left",children:r,className:i,style:s,...a},l)=>{const u=`${e}`.split("-");return x.jsx("div",{className:qe(["react-flow__panel",i,...u]),style:s,ref:l,...a,children:r})});qa.displayName="Panel";function Tb({proOptions:e,position:r="bottom-right"}){return e!=null&&e.hideAttribution?null:x.jsx(qa,{position:r,className:"react-flow__attribution","data-message":"Please only hide this attribution when you are subscribed to React Flow Pro: https://pro.reactflow.dev",children:x.jsx("a",{href:"https://reactflow.dev",target:"_blank",rel:"noopener noreferrer","aria-label":"React Flow attribution",children:"React Flow"})})}const Rb=e=>{const r=[],i=[];for(const[,s]of e.nodeLookup)s.selected&&r.push(s.internals.userNode);for(const[,s]of e.edgeLookup)s.selected&&i.push(s);return{selectedNodes:r,selectedEdges:i}},ga=e=>e.id;function Ob(e,r){return Fe(e.selectedNodes.map(ga),r.selectedNodes.map(ga))&&Fe(e.selectedEdges.map(ga),r.selectedEdges.map(ga))}function Db({onSelectionChange:e}){const r=Ve(),{selectedNodes:i,selectedEdges:s}=Me(Rb,Ob);return R.useEffect(()=>{const a={nodes:i,edges:s};e==null||e(a),r.getState().onSelectionChangeHandlers.forEach(l=>l(a))},[i,s,e]),null}const $b=e=>!!e.onSelectionChangeHandlers;function Bb({onSelectionChange:e}){const r=Me($b);return e||r?x.jsx(Db,{onSelectionChange:e}):null}const Um=[0,0],Fb={x:0,y:0,zoom:1},Vb=["nodes","edges","defaultNodes","defaultEdges","onConnect","onConnectStart","onConnectEnd","onClickConnectStart","onClickConnectEnd","nodesDraggable","autoPanOnNodeFocus","nodesConnectable","nodesFocusable","edgesFocusable","edgesReconnectable","elevateNodesOnSelect","elevateEdgesOnSelect","minZoom","maxZoom","nodeExtent","onNodesChange","onEdgesChange","elementsSelectable","connectionMode","snapGrid","snapToGrid","translateExtent","connectOnClick","defaultEdgeOptions","fitView","fitViewOptions","onNodesDelete","onEdgesDelete","onDelete","onNodeDrag","onNodeDragStart","onNodeDragStop","onSelectionDrag","onSelectionDragStart","onSelectionDragStop","onMoveStart","onMove","onMoveEnd","noPanClassName","nodeOrigin","autoPanOnConnect","autoPanOnNodeDrag","onError","connectionRadius","isValidConnection","selectNodesOnDrag","nodeDragThreshold","connectionDragThreshold","onBeforeDelete","debug","autoPanSpeed","ariaLabelConfig","zIndexMode"],Wp=[...Vb,"rfId"],Hb=e=>({setNodes:e.setNodes,setEdges:e.setEdges,setMinZoom:e.setMinZoom,setMaxZoom:e.setMaxZoom,setTranslateExtent:e.setTranslateExtent,setNodeExtent:e.setNodeExtent,reset:e.reset,setDefaultNodesAndEdges:e.setDefaultNodesAndEdges}),Up={translateExtent:Mo,nodeOrigin:Um,minZoom:.5,maxZoom:2,elementsSelectable:!0,noPanClassName:"nopan",rfId:"1"};function Wb(e){const{setNodes:r,setEdges:i,setMinZoom:s,setMaxZoom:a,setTranslateExtent:l,setNodeExtent:u,reset:d,setDefaultNodesAndEdges:f}=Me(Hb,Fe),h=Ve();R.useEffect(()=>(f(e.defaultNodes,e.defaultEdges),()=>{p.current=Up,d()}),[]);const p=R.useRef(Up);return R.useEffect(()=>{for(const m of Wp){const g=e[m],y=p.current[m];g!==y&&(typeof e[m]>"u"||(m==="nodes"?r(g):m==="edges"?i(g):m==="minZoom"?s(g):m==="maxZoom"?a(g):m==="translateExtent"?l(g):m==="nodeExtent"?u(g):m==="ariaLabelConfig"?h.setState({ariaLabelConfig:CN(g)}):m==="fitView"?h.setState({fitViewQueued:g}):m==="fitViewOptions"?h.setState({fitViewOptions:g}):h.setState({[m]:g})))}p.current=e},Wp.map(m=>e[m])),null}function Yp(){return typeof window>"u"||!window.matchMedia?null:window.matchMedia("(prefers-color-scheme: dark)")}function Ub(e){var s;const[r,i]=R.useState(e==="system"?null:e);return R.useEffect(()=>{if(e!=="system"){i(e);return}const a=Yp(),l=()=>i(a!=null&&a.matches?"dark":"light");return l(),a==null||a.addEventListener("change",l),()=>{a==null||a.removeEventListener("change",l)}},[e]),r!==null?r:(s=Yp())!=null&&s.matches?"dark":"light"}const Xp=typeof document<"u"?document:null;function Ao(e=null,r={target:Xp,actInsideInputWithModifier:!0}){const[i,s]=R.useState(!1),a=R.useRef(!1),l=R.useRef(new Set([])),[u,d]=R.useMemo(()=>{if(e!==null){const h=(Array.isArray(e)?e:[e]).filter(m=>typeof m=="string").map(m=>m.replace("+",`
`).replace(`

`,`
+`).split(`
`)),p=h.reduce((m,g)=>m.concat(...g),[]);return[h,p]}return[[],[]]},[e]);return R.useEffect(()=>{const f=(r==null?void 0:r.target)??Xp,h=(r==null?void 0:r.actInsideInputWithModifier)??!0;if(e!==null){const p=y=>{var w,S;if(a.current=y.ctrlKey||y.metaKey||y.shiftKey||y.altKey,(!a.current||a.current&&!h)&&Em(y))return!1;const k=Qp(y.code,d);if(l.current.add(y[k]),Gp(u,l.current,!1)){const C=((S=(w=y.composedPath)==null?void 0:w.call(y))==null?void 0:S[0])||y.target,E=(C==null?void 0:C.nodeName)==="BUTTON"||(C==null?void 0:C.nodeName)==="A";r.preventDefault!==!1&&(a.current||!E)&&y.preventDefault(),s(!0)}},m=y=>{const N=Qp(y.code,d);Gp(u,l.current,!0)?(s(!1),l.current.clear()):l.current.delete(y[N]),y.key==="Meta"&&l.current.clear(),a.current=!1},g=()=>{l.current.clear(),s(!1)};return f==null||f.addEventListener("keydown",p),f==null||f.addEventListener("keyup",m),window.addEventListener("blur",g),window.addEventListener("contextmenu",g),()=>{f==null||f.removeEventListener("keydown",p),f==null||f.removeEventListener("keyup",m),window.removeEventListener("blur",g),window.removeEventListener("contextmenu",g)}}},[e,s]),i}function Gp(e,r,i){return e.filter(s=>i||s.length===r.size).some(s=>s.every(a=>r.has(a)))}function Qp(e,r){return r.includes(e)?"code":"key"}const Yb=()=>{const e=Ve();return R.useMemo(()=>({zoomIn:r=>{const{panZoom:i}=e.getState();return i?i.scaleBy(1.2,{duration:r==null?void 0:r.duration}):Promise.resolve(!1)},zoomOut:r=>{const{panZoom:i}=e.getState();return i?i.scaleBy(1/1.2,{duration:r==null?void 0:r.duration}):Promise.resolve(!1)},zoomTo:(r,i)=>{const{panZoom:s}=e.getState();return s?s.scaleTo(r,{duration:i==null?void 0:i.duration}):Promise.resolve(!1)},getZoom:()=>e.getState().transform[2],setViewport:async(r,i)=>{const{transform:[s,a,l],panZoom:u}=e.getState();return u?(await u.setViewport({x:r.x??s,y:r.y??a,zoom:r.zoom??l},i),Promise.resolve(!0)):Promise.resolve(!1)},getViewport:()=>{const[r,i,s]=e.getState().transform;return{x:r,y:i,zoom:s}},setCenter:async(r,i,s)=>e.getState().setCenter(r,i,s),fitBounds:async(r,i)=>{const{width:s,height:a,minZoom:l,maxZoom:u,panZoom:d}=e.getState(),f=td(r,s,a,l,u,(i==null?void 0:i.padding)??.1);return d?(await d.setViewport(f,{duration:i==null?void 0:i.duration,ease:i==null?void 0:i.ease,interpolate:i==null?void 0:i.interpolate}),Promise.resolve(!0)):Promise.resolve(!1)},screenToFlowPosition:(r,i={})=>{const{transform:s,snapGrid:a,snapToGrid:l,domNode:u}=e.getState();if(!u)return r;const{x:d,y:f}=u.getBoundingClientRect(),h={x:r.x-d,y:r.y-f},p=i.snapGrid??a,m=i.snapToGrid??l;return Ho(h,s,m,p)},flowToScreenPosition:r=>{const{transform:i,domNode:s}=e.getState();if(!s)return r;const{x:a,y:l}=s.getBoundingClientRect(),u=Ta(r,i);return{x:u.x+a,y:u.y+l}}}),[])};function Ym(e,r){const i=[],s=new Map,a=[];for(const l of e)if(l.type==="add"){a.push(l);continue}else if(l.type==="remove"||l.type==="replace")s.set(l.id,[l]);else{const u=s.get(l.id);u?u.push(l):s.set(l.id,[l])}for(const l of r){const u=s.get(l.id);if(!u){i.push(l);continue}if(u[0].type==="remove")continue;if(u[0].type==="replace"){i.push({...u[0].item});continue}const d={...l};for(const f of u)Xb(f,d);i.push(d)}return a.length&&a.forEach(l=>{l.index!==void 0?i.splice(l.index,0,{...l.item}):i.push({...l.item})}),i}function Xb(e,r){switch(e.type){case"select":{r.selected=e.selected;break}case"position":{typeof e.position<"u"&&(r.position=e.position),typeof e.dragging<"u"&&(r.dragging=e.dragging);break}case"dimensions":{typeof e.dimensions<"u"&&(r.measured={...e.dimensions},e.setAttributes&&((e.setAttributes===!0||e.setAttributes==="width")&&(r.width=e.dimensions.width),(e.setAttributes===!0||e.setAttributes==="height")&&(r.height=e.dimensions.height))),typeof e.resizing=="boolean"&&(r.resizing=e.resizing);break}}}function Xm(e,r){return Ym(e,r)}function Gm(e,r){return Ym(e,r)}function br(e,r){return{id:e,type:"select",selected:r}}function li(e,r=new Set,i=!1){const s=[];for(const[a,l]of e){const u=r.has(a);!(l.selected===void 0&&!u)&&l.selected!==u&&(i&&(l.selected=u),s.push(br(l.id,u)))}return s}function Kp({items:e=[],lookup:r}){var a;const i=[],s=new Map(e.map(l=>[l.id,l]));for(const[l,u]of e.entries()){const d=r.get(u.id),f=((a=d==null?void 0:d.internals)==null?void 0:a.userNode)??d;f!==void 0&&f!==u&&i.push({id:u.id,item:u,type:"replace"}),f===void 0&&i.push({item:u,type:"add",index:l})}for(const[l]of r)s.get(l)===void 0&&i.push({id:l,type:"remove"});return i}function qp(e){return{id:e.id,type:"remove"}}const Zp=e=>xN(e),Gb=e=>gm(e);function Qm(e){return R.forwardRef(e)}const Qb=typeof window<"u"?R.useLayoutEffect:R.useEffect;function Jp(e){const[r,i]=R.useState(BigInt(0)),[s]=R.useState(()=>Kb(()=>i(a=>a+BigInt(1))));return Qb(()=>{const a=s.get();a.length&&(e(a),s.reset())},[r]),s}function Kb(e){let r=[];return{get:()=>r,reset:()=>{r=[]},push:i=>{r.push(i),e()}}}const Km=R.createContext(null);function qb({children:e}){const r=Ve(),i=R.useCallback(d=>{const{nodes:f=[],setNodes:h,hasDefaultNodes:p,onNodesChange:m,nodeLookup:g,fitViewQueued:y,onNodesChangeMiddlewareMap:N}=r.getState();let k=f;for(const S of d)k=typeof S=="function"?S(k):S;let w=Kp({items:k,lookup:g});for(const S of N.values())w=S(w);p&&h(k),w.length>0?m==null||m(w):y&&window.requestAnimationFrame(()=>{const{fitViewQueued:S,nodes:C,setNodes:E}=r.getState();S&&E(C)})},[]),s=Jp(i),a=R.useCallback(d=>{const{edges:f=[],setEdges:h,hasDefaultEdges:p,onEdgesChange:m,edgeLookup:g}=r.getState();let y=f;for(const N of d)y=typeof N=="function"?N(y):N;p?h(y):m&&m(Kp({items:y,lookup:g}))},[]),l=Jp(a),u=R.useMemo(()=>({nodeQueue:s,edgeQueue:l}),[]);return x.jsx(Km.Provider,{value:u,children:e})}function Zb(){const e=R.useContext(Km);if(!e)throw new Error("useBatchContext must be used within a BatchProvider");return e}const Jb=e=>!!e.panZoom;function ld(){const e=Yb(),r=Ve(),i=Zb(),s=Me(Jb),a=R.useMemo(()=>{const l=m=>r.getState().nodeLookup.get(m),u=m=>{i.nodeQueue.push(m)},d=m=>{i.edgeQueue.push(m)},f=m=>{var S,C;const{nodeLookup:g,nodeOrigin:y}=r.getState(),N=Zp(m)?m:g.get(m.id),k=N.parentId?bm(N.position,N.measured,N.parentId,g,y):N.position,w={...N,position:k,width:((S=N.measured)==null?void 0:S.width)??N.width,height:((C=N.measured)==null?void 0:C.height)??N.height};return mi(w)},h=(m,g,y={replace:!1})=>{u(N=>N.map(k=>{if(k.id===m){const w=typeof g=="function"?g(k):g;return y.replace&&Zp(w)?w:{...k,...w}}return k}))},p=(m,g,y={replace:!1})=>{d(N=>N.map(k=>{if(k.id===m){const w=typeof g=="function"?g(k):g;return y.replace&&Gb(w)?w:{...k,...w}}return k}))};return{getNodes:()=>r.getState().nodes.map(m=>({...m})),getNode:m=>{var g;return(g=l(m))==null?void 0:g.internals.userNode},getInternalNode:l,getEdges:()=>{const{edges:m=[]}=r.getState();return m.map(g=>({...g}))},getEdge:m=>r.getState().edgeLookup.get(m),setNodes:u,setEdges:d,addNodes:m=>{const g=Array.isArray(m)?m:[m];i.nodeQueue.push(y=>[...y,...g])},addEdges:m=>{const g=Array.isArray(m)?m:[m];i.edgeQueue.push(y=>[...y,...g])},toObject:()=>{const{nodes:m=[],edges:g=[],transform:y}=r.getState(),[N,k,w]=y;return{nodes:m.map(S=>({...S})),edges:g.map(S=>({...S})),viewport:{x:N,y:k,zoom:w}}},deleteElements:async({nodes:m=[],edges:g=[]})=>{const{nodes:y,edges:N,onNodesDelete:k,onEdgesDelete:w,triggerNodeChanges:S,triggerEdgeChanges:C,onDelete:E,onBeforeDelete:_}=r.getState(),{nodes:M,edges:O}=await bN({nodesToRemove:m,edgesToRemove:g,nodes:y,edges:N,onBeforeDelete:_}),F=O.length>0,V=M.length>0;if(F){const Z=O.map(qp);w==null||w(O),C(Z)}if(V){const Z=M.map(qp);k==null||k(M),S(Z)}return(V||F)&&(E==null||E({nodes:M,edges:O})),{deletedNodes:M,deletedEdges:O}},getIntersectingNodes:(m,g=!0,y)=>{const N=Ep(m),k=N?m:f(m),w=y!==void 0;return k?(y||r.getState().nodes).filter(S=>{const C=r.getState().nodeLookup.get(S.id);if(C&&!N&&(S.id===m.id||!C.internals.positionAbsolute))return!1;const E=mi(w?S:C),_=Lo(E,k);return g&&_>0||_>=E.width*E.height||_>=k.width*k.height}):[]},isNodeIntersecting:(m,g,y=!0)=>{const k=Ep(m)?m:f(m);if(!k)return!1;const w=Lo(k,g);return y&&w>0||w>=g.width*g.height||w>=k.width*k.height},updateNode:h,updateNodeData:(m,g,y={replace:!1})=>{h(m,N=>{const k=typeof g=="function"?g(N):g;return y.replace?{...N,data:k}:{...N,data:{...N.data,...k}}},y)},updateEdge:p,updateEdgeData:(m,g,y={replace:!1})=>{p(m,N=>{const k=typeof g=="function"?g(N):g;return y.replace?{...N,data:k}:{...N,data:{...N.data,...k}}},y)},getNodesBounds:m=>{const{nodeLookup:g,nodeOrigin:y}=r.getState();return vN(m,{nodeLookup:g,nodeOrigin:y})},getHandleConnections:({type:m,id:g,nodeId:y})=>{var N;return Array.from(((N=r.getState().connectionLookup.get(`${y}-${m}${g?`-${g}`:""}`))==null?void 0:N.values())??[])},getNodeConnections:({type:m,handleId:g,nodeId:y})=>{var N;return Array.from(((N=r.getState().connectionLookup.get(`${y}${m?g?`-${m}-${g}`:`-${m}`:""}`))==null?void 0:N.values())??[])},fitView:async m=>{const g=r.getState().fitViewResolver??_N();return r.setState({fitViewQueued:!0,fitViewOptions:m,fitViewResolver:g}),i.nodeQueue.push(y=>[...y]),g.promise}}},[]);return R.useMemo(()=>({...a,...e,viewportInitialized:s}),[s])}const e0=e=>e.selected,ek=typeof window<"u"?window:void 0;function tk({deleteKeyCode:e,multiSelectionKeyCode:r}){const i=Ve(),{deleteElements:s}=ld(),a=Ao(e,{actInsideInputWithModifier:!1}),l=Ao(r,{target:ek});R.useEffect(()=>{if(a){const{edges:u,nodes:d}=i.getState();s({nodes:d.filter(e0),edges:u.filter(e0)}),i.setState({nodesSelectionActive:!1})}},[a]),R.useEffect(()=>{i.setState({multiSelectionActive:l})},[l])}function nk(e){const r=Ve();R.useEffect(()=>{const i=()=>{var a,l,u,d;if(!e.current||!(((l=(a=e.current).checkVisibility)==null?void 0:l.call(a))??!0))return!1;const s=nd(e.current);(s.height===0||s.width===0)&&((d=(u=r.getState()).onError)==null||d.call(u,"004",on.error004())),r.setState({width:s.width||500,height:s.height||500})};if(e.current){i(),window.addEventListener("resize",i);const s=new ResizeObserver(()=>i());return s.observe(e.current),()=>{window.removeEventListener("resize",i),s&&e.current&&s.unobserve(e.current)}}},[])}const Za={position:"absolute",width:"100%",height:"100%",top:0,left:0},rk=e=>({userSelectionActive:e.userSelectionActive,lib:e.lib,connectionInProgress:e.connection.inProgress});function ik({onPaneContextMenu:e,zoomOnScroll:r=!0,zoomOnPinch:i=!0,panOnScroll:s=!1,panOnScrollSpeed:a=.5,panOnScrollMode:l=Sr.Free,zoomOnDoubleClick:u=!0,panOnDrag:d=!0,defaultViewport:f,translateExtent:h,minZoom:p,maxZoom:m,zoomActivationKeyCode:g,preventScrolling:y=!0,children:N,noWheelClassName:k,noPanClassName:w,onViewportChange:S,isControlledViewport:C,paneClickDistance:E,selectionOnDrag:_}){const M=Ve(),O=R.useRef(null),{userSelectionActive:F,lib:V,connectionInProgress:Z}=Me(rk,Fe),G=Ao(g),X=R.useRef();nk(O);const B=R.useCallback(D=>{S==null||S({x:D[0],y:D[1],zoom:D[2]}),C||M.setState({transform:D})},[S,C]);return R.useEffect(()=>{if(O.current){X.current=ub({domNode:O.current,minZoom:p,maxZoom:m,translateExtent:h,viewport:f,onDraggingChange:$=>M.setState(W=>W.paneDragging===$?W:{paneDragging:$}),onPanZoomStart:($,W)=>{const{onViewportChangeStart:z,onMoveStart:P}=M.getState();P==null||P($,W),z==null||z(W)},onPanZoom:($,W)=>{const{onViewportChange:z,onMove:P}=M.getState();P==null||P($,W),z==null||z(W)},onPanZoomEnd:($,W)=>{const{onViewportChangeEnd:z,onMoveEnd:P}=M.getState();P==null||P($,W),z==null||z(W)}});const{x:D,y:j,zoom:Q}=X.current.getViewport();return M.setState({panZoom:X.current,transform:[D,j,Q],domNode:O.current.closest(".react-flow")}),()=>{var $;($=X.current)==null||$.destroy()}}},[]),R.useEffect(()=>{var D;(D=X.current)==null||D.update({onPaneContextMenu:e,zoomOnScroll:r,zoomOnPinch:i,panOnScroll:s,panOnScrollSpeed:a,panOnScrollMode:l,zoomOnDoubleClick:u,panOnDrag:d,zoomActivationKeyPressed:G,preventScrolling:y,noPanClassName:w,userSelectionActive:F,noWheelClassName:k,lib:V,onTransformChange:B,connectionInProgress:Z,selectionOnDrag:_,paneClickDistance:E})},[e,r,i,s,a,l,u,d,G,y,w,F,k,V,B,Z,_,E]),x.jsx("div",{className:"react-flow__renderer",ref:O,style:Za,children:N})}const ok=e=>({userSelectionActive:e.userSelectionActive,userSelectionRect:e.userSelectionRect});function sk(){const{userSelectionActive:e,userSelectionRect:r}=Me(ok,Fe);return e&&r?x.jsx("div",{className:"react-flow__selection react-flow__container",style:{width:r.width,height:r.height,transform:`translate(${r.x}px, ${r.y}px)`}}):null}const fc=(e,r)=>i=>{i.target===r.current&&(e==null||e(i))},ak=e=>({userSelectionActive:e.userSelectionActive,elementsSelectable:e.elementsSelectable,connectionInProgress:e.connection.inProgress,dragging:e.paneDragging});function lk({isSelecting:e,selectionKeyPressed:r,selectionMode:i=Io.Full,panOnDrag:s,paneClickDistance:a,selectionOnDrag:l,onSelectionStart:u,onSelectionEnd:d,onPaneClick:f,onPaneContextMenu:h,onPaneScroll:p,onPaneMouseEnter:m,onPaneMouseMove:g,onPaneMouseLeave:y,children:N}){const k=Ve(),{userSelectionActive:w,elementsSelectable:S,dragging:C,connectionInProgress:E}=Me(ak,Fe),_=S&&(e||w),M=R.useRef(null),O=R.useRef(),F=R.useRef(new Set),V=R.useRef(new Set),Z=R.useRef(!1),G=z=>{if(Z.current||E){Z.current=!1;return}f==null||f(z),k.getState().resetSelectedElements(),k.setState({nodesSelectionActive:!1})},X=z=>{if(Array.isArray(s)&&(s!=null&&s.includes(2))){z.preventDefault();return}h==null||h(z)},B=p?z=>p(z):void 0,D=z=>{Z.current&&(z.stopPropagation(),Z.current=!1)},j=z=>{var T,K;const{domNode:P}=k.getState();if(O.current=P==null?void 0:P.getBoundingClientRect(),!O.current)return;const H=z.target===M.current;if(!H&&!!z.target.closest(".nokey")||!e||!(l&&H||r)||z.button!==0||!z.isPrimary)return;(K=(T=z.target)==null?void 0:T.setPointerCapture)==null||K.call(T,z.pointerId),Z.current=!1;const{x:ee,y:Y}=Xt(z.nativeEvent,O.current);k.setState({userSelectionRect:{width:0,height:0,startX:ee,startY:Y,x:ee,y:Y}}),H||(z.stopPropagation(),z.preventDefault())},Q=z=>{const{userSelectionRect:P,transform:H,nodeLookup:I,edgeLookup:L,connectionLookup:ee,triggerNodeChanges:Y,triggerEdgeChanges:T,defaultEdgeOptions:K,resetSelectedElements:q}=k.getState();if(!O.current||!P)return;const{x:U,y:J}=Xt(z.nativeEvent,O.current),{startX:ie,startY:le}=P;if(!Z.current){const Ce=r?0:a;if(Math.hypot(U-ie,J-le)<=Ce)return;q(),u==null||u(z)}Z.current=!0;const he={startX:ie,startY:le,x:U<ie?U:ie,y:J<le?J:le,width:Math.abs(U-ie),height:Math.abs(J-le)},pe=F.current,ye=V.current;F.current=new Set(ed(I,he,H,i===Io.Partial,!0).map(Ce=>Ce.id)),V.current=new Set;const ke=(K==null?void 0:K.selectable)??!0;for(const Ce of F.current){const Re=ee.get(Ce);if(Re)for(const{edgeId:st}of Re.values()){const me=L.get(st);me&&(me.selectable??ke)&&V.current.add(st)}}if(!Sp(pe,F.current)){const Ce=li(I,F.current,!0);Y(Ce)}if(!Sp(ye,V.current)){const Ce=li(L,V.current);T(Ce)}k.setState({userSelectionRect:he,userSelectionActive:!0,nodesSelectionActive:!1})},$=z=>{var P,H;z.button===0&&((H=(P=z.target)==null?void 0:P.releasePointerCapture)==null||H.call(P,z.pointerId),!w&&z.target===M.current&&k.getState().userSelectionRect&&(G==null||G(z)),k.setState({userSelectionActive:!1,userSelectionRect:null}),Z.current&&(d==null||d(z),k.setState({nodesSelectionActive:F.current.size>0})))},W=s===!0||Array.isArray(s)&&s.includes(0);return x.jsxs("div",{className:qe(["react-flow__pane",{draggable:W,dragging:C,selection:e}]),onClick:_?void 0:fc(G,M),onContextMenu:fc(X,M),onWheel:fc(B,M),onPointerEnter:_?void 0:m,onPointerMove:_?Q:g,onPointerUp:_?$:void 0,onPointerDownCapture:_?j:void 0,onClickCapture:_?D:void 0,onPointerLeave:y,ref:M,style:Za,children:[N,x.jsx(sk,{})]})}function Oc({id:e,store:r,unselect:i=!1,nodeRef:s}){const{addSelectedNodes:a,unselectNodesAndEdges:l,multiSelectionActive:u,nodeLookup:d,onError:f}=r.getState(),h=d.get(e);if(!h){f==null||f("012",on.error012(e));return}r.setState({nodesSelectionActive:!1}),h.selected?(i||h.selected&&u)&&(l({nodes:[h],edges:[]}),requestAnimationFrame(()=>{var p;return(p=s==null?void 0:s.current)==null?void 0:p.blur()})):a([e])}function qm({nodeRef:e,disabled:r=!1,noDragClassName:i,handleSelector:s,nodeId:a,isSelectable:l,nodeClickDistance:u}){const d=Ve(),[f,h]=R.useState(!1),p=R.useRef();return R.useEffect(()=>{p.current=QN({getStoreItems:()=>d.getState(),onNodeMouseDown:m=>{Oc({id:m,store:d,nodeRef:e})},onDragStart:()=>{h(!0)},onDragStop:()=>{h(!1)}})},[]),R.useEffect(()=>{if(!(r||!e.current||!p.current))return p.current.update({noDragClassName:i,handleSelector:s,domNode:e.current,isSelectable:l,nodeId:a,nodeClickDistance:u}),()=>{var m;(m=p.current)==null||m.destroy()}},[i,s,r,l,e,a,u]),f}const uk=e=>r=>r.selected&&(r.draggable||e&&typeof r.draggable>"u");function Zm(){const e=Ve();return R.useCallback(i=>{const{nodeExtent:s,snapToGrid:a,snapGrid:l,nodesDraggable:u,onError:d,updateNodePositions:f,nodeLookup:h,nodeOrigin:p}=e.getState(),m=new Map,g=uk(u),y=a?l[0]:5,N=a?l[1]:5,k=i.direction.x*y*i.factor,w=i.direction.y*N*i.factor;for(const[,S]of h){if(!g(S))continue;let C={x:S.internals.positionAbsolute.x+k,y:S.internals.positionAbsolute.y+w};a&&(C=Vo(C,l));const{position:E,positionAbsolute:_}=xm({nodeId:S.id,nextPosition:C,nodeLookup:h,nodeExtent:s,nodeOrigin:p,onError:d});S.position=E,S.internals.positionAbsolute=_,m.set(S.id,S)}f(m)},[])}const ud=R.createContext(null),ck=ud.Provider;ud.Consumer;const Jm=()=>R.useContext(ud),dk=e=>({connectOnClick:e.connectOnClick,noPanClassName:e.noPanClassName,rfId:e.rfId}),fk=(e,r,i)=>s=>{const{connectionClickStartHandle:a,connectionMode:l,connection:u}=s,{fromHandle:d,toHandle:f,isValid:h}=u,p=(f==null?void 0:f.nodeId)===e&&(f==null?void 0:f.id)===r&&(f==null?void 0:f.type)===i;return{connectingFrom:(d==null?void 0:d.nodeId)===e&&(d==null?void 0:d.id)===r&&(d==null?void 0:d.type)===i,connectingTo:p,clickConnecting:(a==null?void 0:a.nodeId)===e&&(a==null?void 0:a.id)===r&&(a==null?void 0:a.type)===i,isPossibleEndHandle:l===hi.Strict?(d==null?void 0:d.type)!==i:e!==(d==null?void 0:d.nodeId)||r!==(d==null?void 0:d.id),connectionInProcess:!!d,clickConnectionInProcess:!!a,valid:p&&h}};function hk({type:e="source",position:r=be.Top,isValidConnection:i,isConnectable:s=!0,isConnectableStart:a=!0,isConnectableEnd:l=!0,id:u,onConnect:d,children:f,className:h,onMouseDown:p,onTouchStart:m,...g},y){var Q,$;const N=u||null,k=e==="target",w=Ve(),S=Jm(),{connectOnClick:C,noPanClassName:E,rfId:_}=Me(dk,Fe),{connectingFrom:M,connectingTo:O,clickConnecting:F,isPossibleEndHandle:V,connectionInProcess:Z,clickConnectionInProcess:G,valid:X}=Me(fk(S,N,e),Fe);S||($=(Q=w.getState()).onError)==null||$.call(Q,"010",on.error010());const B=W=>{const{defaultEdgeOptions:z,onConnect:P,hasDefaultEdges:H}=w.getState(),I={...z,...W};if(H){const{edges:L,setEdges:ee}=w.getState();ee(PN(I,L))}P==null||P(I),d==null||d(I)},D=W=>{if(!S)return;const z=Sm(W.nativeEvent);if(a&&(z&&W.button===0||!z)){const P=w.getState();Rc.onPointerDown(W.nativeEvent,{handleDomNode:W.currentTarget,autoPanOnConnect:P.autoPanOnConnect,connectionMode:P.connectionMode,connectionRadius:P.connectionRadius,domNode:P.domNode,nodeLookup:P.nodeLookup,lib:P.lib,isTarget:k,handleId:N,nodeId:S,flowId:P.rfId,panBy:P.panBy,cancelConnection:P.cancelConnection,onConnectStart:P.onConnectStart,onConnectEnd:(...H)=>{var I,L;return(L=(I=w.getState()).onConnectEnd)==null?void 0:L.call(I,...H)},updateConnection:P.updateConnection,onConnect:B,isValidConnection:i||((...H)=>{var I,L;return((L=(I=w.getState()).isValidConnection)==null?void 0:L.call(I,...H))??!0}),getTransform:()=>w.getState().transform,getFromHandle:()=>w.getState().connection.fromHandle,autoPanSpeed:P.autoPanSpeed,dragThreshold:P.connectionDragThreshold})}z?p==null||p(W):m==null||m(W)},j=W=>{const{onClickConnectStart:z,onClickConnectEnd:P,connectionClickStartHandle:H,connectionMode:I,isValidConnection:L,lib:ee,rfId:Y,nodeLookup:T,connection:K}=w.getState();if(!S||!H&&!a)return;if(!H){z==null||z(W.nativeEvent,{nodeId:S,handleId:N,handleType:e}),w.setState({connectionClickStartHandle:{nodeId:S,type:e,id:N}});return}const q=km(W.target),U=i||L,{connection:J,isValid:ie}=Rc.isValid(W.nativeEvent,{handle:{nodeId:S,id:N,type:e},connectionMode:I,fromNodeId:H.nodeId,fromHandleId:H.id||null,fromType:H.type,isValidConnection:U,flowId:Y,doc:q,lib:ee,nodeLookup:T});ie&&J&&B(J);const le=structuredClone(K);delete le.inProgress,le.toPosition=le.toHandle?le.toHandle.position:null,P==null||P(W,le),w.setState({connectionClickStartHandle:null})};return x.jsx("div",{"data-handleid":N,"data-nodeid":S,"data-handlepos":r,"data-id":`${_}-${S}-${N}-${e}`,className:qe(["react-flow__handle",`react-flow__handle-${r}`,"nodrag",E,h,{source:!k,target:k,connectable:s,connectablestart:a,connectableend:l,clickconnecting:F,connectingfrom:M,connectingto:O,valid:X,connectionindicator:s&&(!Z||V)&&(Z||G?l:a)}]),onMouseDown:D,onTouchStart:D,onClick:C?j:void 0,ref:y,...g,children:f})}const sn=R.memo(Qm(hk));function pk({data:e,isConnectable:r,sourcePosition:i=be.Bottom}){return x.jsxs(x.Fragment,{children:[e==null?void 0:e.label,x.jsx(sn,{type:"source",position:i,isConnectable:r})]})}function mk({data:e,isConnectable:r,targetPosition:i=be.Top,sourcePosition:s=be.Bottom}){return x.jsxs(x.Fragment,{children:[x.jsx(sn,{type:"target",position:i,isConnectable:r}),e==null?void 0:e.label,x.jsx(sn,{type:"source",position:s,isConnectable:r})]})}function gk(){return null}function xk({data:e,isConnectable:r,targetPosition:i=be.Top}){return x.jsxs(x.Fragment,{children:[x.jsx(sn,{type:"target",position:i,isConnectable:r}),e==null?void 0:e.label]})}const Ra={ArrowUp:{x:0,y:-1},ArrowDown:{x:0,y:1},ArrowLeft:{x:-1,y:0},ArrowRight:{x:1,y:0}},t0={input:pk,default:mk,output:xk,group:gk};function vk(e){var r,i,s,a;return e.internals.handleBounds===void 0?{width:e.width??e.initialWidth??((r=e.style)==null?void 0:r.width),height:e.height??e.initialHeight??((i=e.style)==null?void 0:i.height)}:{width:e.width??((s=e.style)==null?void 0:s.width),height:e.height??((a=e.style)==null?void 0:a.height)}}const yk=e=>{const{width:r,height:i,x:s,y:a}=Fo(e.nodeLookup,{filter:l=>!!l.selected});return{width:Yt(r)?r:null,height:Yt(i)?i:null,userSelectionActive:e.userSelectionActive,transformString:`translate(${e.transform[0]}px,${e.transform[1]}px) scale(${e.transform[2]}) translate(${s}px,${a}px)`}};function wk({onSelectionContextMenu:e,noPanClassName:r,disableKeyboardA11y:i}){const s=Ve(),{width:a,height:l,transformString:u,userSelectionActive:d}=Me(yk,Fe),f=Zm(),h=R.useRef(null);R.useEffect(()=>{var y;i||(y=h.current)==null||y.focus({preventScroll:!0})},[i]);const p=!d&&a!==null&&l!==null;if(qm({nodeRef:h,disabled:!p}),!p)return null;const m=e?y=>{const N=s.getState().nodes.filter(k=>k.selected);e(y,N)}:void 0,g=y=>{Object.prototype.hasOwnProperty.call(Ra,y.key)&&(y.preventDefault(),f({direction:Ra[y.key],factor:y.shiftKey?4:1}))};return x.jsx("div",{className:qe(["react-flow__nodesselection","react-flow__container",r]),style:{transform:u},children:x.jsx("div",{ref:h,className:"react-flow__nodesselection-rect",onContextMenu:m,tabIndex:i?void 0:-1,onKeyDown:i?void 0:g,style:{width:a,height:l}})})}const n0=typeof window<"u"?window:void 0,Nk=e=>({nodesSelectionActive:e.nodesSelectionActive,userSelectionActive:e.userSelectionActive});function eg({children:e,onPaneClick:r,onPaneMouseEnter:i,onPaneMouseMove:s,onPaneMouseLeave:a,onPaneContextMenu:l,onPaneScroll:u,paneClickDistance:d,deleteKeyCode:f,selectionKeyCode:h,selectionOnDrag:p,selectionMode:m,onSelectionStart:g,onSelectionEnd:y,multiSelectionKeyCode:N,panActivationKeyCode:k,zoomActivationKeyCode:w,elementsSelectable:S,zoomOnScroll:C,zoomOnPinch:E,panOnScroll:_,panOnScrollSpeed:M,panOnScrollMode:O,zoomOnDoubleClick:F,panOnDrag:V,defaultViewport:Z,translateExtent:G,minZoom:X,maxZoom:B,preventScrolling:D,onSelectionContextMenu:j,noWheelClassName:Q,noPanClassName:$,disableKeyboardA11y:W,onViewportChange:z,isControlledViewport:P}){const{nodesSelectionActive:H,userSelectionActive:I}=Me(Nk,Fe),L=Ao(h,{target:n0}),ee=Ao(k,{target:n0}),Y=ee||V,T=ee||_,K=p&&Y!==!0,q=L||I||K;return tk({deleteKeyCode:f,multiSelectionKeyCode:N}),x.jsx(ik,{onPaneContextMenu:l,elementsSelectable:S,zoomOnScroll:C,zoomOnPinch:E,panOnScroll:T,panOnScrollSpeed:M,panOnScrollMode:O,zoomOnDoubleClick:F,panOnDrag:!L&&Y,defaultViewport:Z,translateExtent:G,minZoom:X,maxZoom:B,zoomActivationKeyCode:w,preventScrolling:D,noWheelClassName:Q,noPanClassName:$,onViewportChange:z,isControlledViewport:P,paneClickDistance:d,selectionOnDrag:K,children:x.jsxs(lk,{onSelectionStart:g,onSelectionEnd:y,onPaneClick:r,onPaneMouseEnter:i,onPaneMouseMove:s,onPaneMouseLeave:a,onPaneContextMenu:l,onPaneScroll:u,panOnDrag:Y,isSelecting:!!q,selectionMode:m,selectionKeyPressed:L,paneClickDistance:d,selectionOnDrag:K,children:[e,H&&x.jsx(wk,{onSelectionContextMenu:j,noPanClassName:$,disableKeyboardA11y:W})]})})}eg.displayName="FlowRenderer";const bk=R.memo(eg),kk=e=>r=>e?ed(r.nodeLookup,{x:0,y:0,width:r.width,height:r.height},r.transform,!0).map(i=>i.id):Array.from(r.nodeLookup.keys());function Ek(e){return Me(R.useCallback(kk(e),[e]),Fe)}const Sk=e=>e.updateNodeInternals;function _k(){const e=Me(Sk),[r]=R.useState(()=>typeof ResizeObserver>"u"?null:new ResizeObserver(i=>{const s=new Map;i.forEach(a=>{const l=a.target.getAttribute("data-id");s.set(l,{id:l,nodeElement:a.target,force:!0})}),e(s)}));return R.useEffect(()=>()=>{r==null||r.disconnect()},[r]),r}function Ck({node:e,nodeType:r,hasDimensions:i,resizeObserver:s}){const a=Ve(),l=R.useRef(null),u=R.useRef(null),d=R.useRef(e.sourcePosition),f=R.useRef(e.targetPosition),h=R.useRef(r),p=i&&!!e.internals.handleBounds;return R.useEffect(()=>{l.current&&!e.hidden&&(!p||u.current!==l.current)&&(u.current&&(s==null||s.unobserve(u.current)),s==null||s.observe(l.current),u.current=l.current)},[p,e.hidden]),R.useEffect(()=>()=>{u.current&&(s==null||s.unobserve(u.current),u.current=null)},[]),R.useEffect(()=>{if(l.current){const m=h.current!==r,g=d.current!==e.sourcePosition,y=f.current!==e.targetPosition;(m||g||y)&&(h.current=r,d.current=e.sourcePosition,f.current=e.targetPosition,a.getState().updateNodeInternals(new Map([[e.id,{id:e.id,nodeElement:l.current,force:!0}]])))}},[e.id,r,e.sourcePosition,e.targetPosition]),l}function jk({id:e,onClick:r,onMouseEnter:i,onMouseMove:s,onMouseLeave:a,onContextMenu:l,onDoubleClick:u,nodesDraggable:d,elementsSelectable:f,nodesConnectable:h,nodesFocusable:p,resizeObserver:m,noDragClassName:g,noPanClassName:y,disableKeyboardA11y:N,rfId:k,nodeTypes:w,nodeClickDistance:S,onError:C}){const{node:E,internals:_,isParent:M}=Me(U=>{const J=U.nodeLookup.get(e),ie=U.parentLookup.has(e);return{node:J,internals:J.internals,isParent:ie}},Fe);let O=E.type||"default",F=(w==null?void 0:w[O])||t0[O];F===void 0&&(C==null||C("003",on.error003(O)),O="default",F=(w==null?void 0:w.default)||t0.default);const V=!!(E.draggable||d&&typeof E.draggable>"u"),Z=!!(E.selectable||f&&typeof E.selectable>"u"),G=!!(E.connectable||h&&typeof E.connectable>"u"),X=!!(E.focusable||p&&typeof E.focusable>"u"),B=Ve(),D=Nm(E),j=Ck({node:E,nodeType:O,hasDimensions:D,resizeObserver:m}),Q=qm({nodeRef:j,disabled:E.hidden||!V,noDragClassName:g,handleSelector:E.dragHandle,nodeId:e,isSelectable:Z,nodeClickDistance:S}),$=Zm();if(E.hidden)return null;const W=kn(E),z=vk(E),P=Z||V||r||i||s||a,H=i?U=>i(U,{..._.userNode}):void 0,I=s?U=>s(U,{..._.userNode}):void 0,L=a?U=>a(U,{..._.userNode}):void 0,ee=l?U=>l(U,{..._.userNode}):void 0,Y=u?U=>u(U,{..._.userNode}):void 0,T=U=>{const{selectNodesOnDrag:J,nodeDragThreshold:ie}=B.getState();Z&&(!J||!V||ie>0)&&Oc({id:e,store:B,nodeRef:j}),r&&r(U,{..._.userNode})},K=U=>{if(!(Em(U.nativeEvent)||N)){if(fm.includes(U.key)&&Z){const J=U.key==="Escape";Oc({id:e,store:B,unselect:J,nodeRef:j})}else if(V&&E.selected&&Object.prototype.hasOwnProperty.call(Ra,U.key)){U.preventDefault();const{ariaLabelConfig:J}=B.getState();B.setState({ariaLiveMessage:J["node.a11yDescription.ariaLiveMessage"]({direction:U.key.replace("Arrow","").toLowerCase(),x:~~_.positionAbsolute.x,y:~~_.positionAbsolute.y})}),$({direction:Ra[U.key],factor:U.shiftKey?4:1})}}},q=()=>{var ye;if(N||!((ye=j.current)!=null&&ye.matches(":focus-visible")))return;const{transform:U,width:J,height:ie,autoPanOnNodeFocus:le,setCenter:he}=B.getState();if(!le)return;ed(new Map([[e,E]]),{x:0,y:0,width:J,height:ie},U,!0).length>0||he(E.position.x+W.width/2,E.position.y+W.height/2,{zoom:U[2]})};return x.jsx("div",{className:qe(["react-flow__node",`react-flow__node-${O}`,{[y]:V},E.className,{selected:E.selected,selectable:Z,parent:M,draggable:V,dragging:Q}]),ref:j,style:{zIndex:_.z,transform:`translate(${_.positionAbsolute.x}px,${_.positionAbsolute.y}px)`,pointerEvents:P?"all":"none",visibility:D?"visible":"hidden",...E.style,...z},"data-id":e,"data-testid":`rf__node-${e}`,onMouseEnter:H,onMouseMove:I,onMouseLeave:L,onContextMenu:ee,onClick:T,onDoubleClick:Y,onKeyDown:X?K:void 0,tabIndex:X?0:void 0,onFocus:X?q:void 0,role:E.ariaRole??(X?"group":void 0),"aria-roledescription":"node","aria-describedby":N?void 0:`${Hm}-${k}`,"aria-label":E.ariaLabel,...E.domAttributes,children:x.jsx(ck,{value:e,children:x.jsx(F,{id:e,data:E.data,type:O,positionAbsoluteX:_.positionAbsolute.x,positionAbsoluteY:_.positionAbsolute.y,selected:E.selected??!1,selectable:Z,draggable:V,deletable:E.deletable??!0,isConnectable:G,sourcePosition:E.sourcePosition,targetPosition:E.targetPosition,dragging:Q,dragHandle:E.dragHandle,zIndex:_.z,parentId:E.parentId,...W})})})}var zk=R.memo(jk);const Mk=e=>({nodesDraggable:e.nodesDraggable,nodesConnectable:e.nodesConnectable,nodesFocusable:e.nodesFocusable,elementsSelectable:e.elementsSelectable,onError:e.onError});function tg(e){const{nodesDraggable:r,nodesConnectable:i,nodesFocusable:s,elementsSelectable:a,onError:l}=Me(Mk,Fe),u=Ek(e.onlyRenderVisibleElements),d=_k();return x.jsx("div",{className:"react-flow__nodes",style:Za,children:u.map(f=>x.jsx(zk,{id:f,nodeTypes:e.nodeTypes,nodeExtent:e.nodeExtent,onClick:e.onNodeClick,onMouseEnter:e.onNodeMouseEnter,onMouseMove:e.onNodeMouseMove,onMouseLeave:e.onNodeMouseLeave,onContextMenu:e.onNodeContextMenu,onDoubleClick:e.onNodeDoubleClick,noDragClassName:e.noDragClassName,noPanClassName:e.noPanClassName,rfId:e.rfId,disableKeyboardA11y:e.disableKeyboardA11y,resizeObserver:d,nodesDraggable:r,nodesConnectable:i,nodesFocusable:s,elementsSelectable:a,nodeClickDistance:e.nodeClickDistance,onError:l},f))})}tg.displayName="NodeRenderer";const Ik=R.memo(tg);function Lk(e){return Me(R.useCallback(i=>{if(!e)return i.edges.map(a=>a.id);const s=[];if(i.width&&i.height)for(const a of i.edges){const l=i.nodeLookup.get(a.source),u=i.nodeLookup.get(a.target);l&&u&&MN({sourceNode:l,targetNode:u,width:i.width,height:i.height,transform:i.transform})&&s.push(a.id)}return s},[e]),Fe)}const Pk=({color:e="none",strokeWidth:r=1})=>{const i={strokeWidth:r,...e&&{stroke:e}};return x.jsx("polyline",{className:"arrow",style:i,strokeLinecap:"round",fill:"none",strokeLinejoin:"round",points:"-5,-4 0,0 -5,4"})},Ak=({color:e="none",strokeWidth:r=1})=>{const i={strokeWidth:r,...e&&{stroke:e,fill:e}};return x.jsx("polyline",{className:"arrowclosed",style:i,strokeLinecap:"round",strokeLinejoin:"round",points:"-5,-4 0,0 -5,4 -5,-4"})},r0={[Pa.Arrow]:Pk,[Pa.ArrowClosed]:Ak};function Tk(e){const r=Ve();return R.useMemo(()=>{var a,l;return Object.prototype.hasOwnProperty.call(r0,e)?r0[e]:((l=(a=r.getState()).onError)==null||l.call(a,"009",on.error009(e)),null)},[e])}const Rk=({id:e,type:r,color:i,width:s=12.5,height:a=12.5,markerUnits:l="strokeWidth",strokeWidth:u,orient:d="auto-start-reverse"})=>{const f=Tk(r);return f?x.jsx("marker",{className:"react-flow__arrowhead",id:e,markerWidth:`${s}`,markerHeight:`${a}`,viewBox:"-10 -10 20 20",markerUnits:l,orient:d,refX:"0",refY:"0",children:x.jsx(f,{color:i,strokeWidth:u})}):null},ng=({defaultColor:e,rfId:r})=>{const i=Me(l=>l.edges),s=Me(l=>l.defaultEdgeOptions),a=R.useMemo(()=>DN(i,{id:r,defaultColor:e,defaultMarkerStart:s==null?void 0:s.markerStart,defaultMarkerEnd:s==null?void 0:s.markerEnd}),[i,s,r,e]);return a.length?x.jsx("svg",{className:"react-flow__marker","aria-hidden":"true",children:x.jsx("defs",{children:a.map(l=>x.jsx(Rk,{id:l.id,type:l.type,color:l.color,width:l.width,height:l.height,markerUnits:l.markerUnits,strokeWidth:l.strokeWidth,orient:l.orient},l.id))})}):null};ng.displayName="MarkerDefinitions";var Ok=R.memo(ng);function rg({x:e,y:r,label:i,labelStyle:s,labelShowBg:a=!0,labelBgStyle:l,labelBgPadding:u=[2,4],labelBgBorderRadius:d=2,children:f,className:h,...p}){const[m,g]=R.useState({x:1,y:0,width:0,height:0}),y=qe(["react-flow__edge-textwrapper",h]),N=R.useRef(null);return R.useEffect(()=>{if(N.current){const k=N.current.getBBox();g({x:k.x,y:k.y,width:k.width,height:k.height})}},[i]),i?x.jsxs("g",{transform:`translate(${e-m.width/2} ${r-m.height/2})`,className:y,visibility:m.width?"visible":"hidden",...p,children:[a&&x.jsx("rect",{width:m.width+2*u[0],x:-u[0],y:-u[1],height:m.height+2*u[1],className:"react-flow__edge-textbg",style:l,rx:d,ry:d}),x.jsx("text",{className:"react-flow__edge-text",y:m.height/2,dy:"0.3em",ref:N,style:s,children:i}),f]}):null}rg.displayName="EdgeText";const Dk=R.memo(rg);function Ja({path:e,labelX:r,labelY:i,label:s,labelStyle:a,labelShowBg:l,labelBgStyle:u,labelBgPadding:d,labelBgBorderRadius:f,interactionWidth:h=20,...p}){return x.jsxs(x.Fragment,{children:[x.jsx("path",{...p,d:e,fill:"none",className:qe(["react-flow__edge-path",p.className])}),h?x.jsx("path",{d:e,fill:"none",strokeOpacity:0,strokeWidth:h,className:"react-flow__edge-interaction"}):null,s&&Yt(r)&&Yt(i)?x.jsx(Dk,{x:r,y:i,label:s,labelStyle:a,labelShowBg:l,labelBgStyle:u,labelBgPadding:d,labelBgBorderRadius:f}):null]})}function i0({pos:e,x1:r,y1:i,x2:s,y2:a}){return e===be.Left||e===be.Right?[.5*(r+s),i]:[r,.5*(i+a)]}function ig({sourceX:e,sourceY:r,sourcePosition:i=be.Bottom,targetX:s,targetY:a,targetPosition:l=be.Top}){const[u,d]=i0({pos:i,x1:e,y1:r,x2:s,y2:a}),[f,h]=i0({pos:l,x1:s,y1:a,x2:e,y2:r}),[p,m,g,y]=_m({sourceX:e,sourceY:r,targetX:s,targetY:a,sourceControlX:u,sourceControlY:d,targetControlX:f,targetControlY:h});return[`M${e},${r} C${u},${d} ${f},${h} ${s},${a}`,p,m,g,y]}function og(e){return R.memo(({id:r,sourceX:i,sourceY:s,targetX:a,targetY:l,sourcePosition:u,targetPosition:d,label:f,labelStyle:h,labelShowBg:p,labelBgStyle:m,labelBgPadding:g,labelBgBorderRadius:y,style:N,markerEnd:k,markerStart:w,interactionWidth:S})=>{const[C,E,_]=ig({sourceX:i,sourceY:s,sourcePosition:u,targetX:a,targetY:l,targetPosition:d}),M=e.isInternal?void 0:r;return x.jsx(Ja,{id:M,path:C,labelX:E,labelY:_,label:f,labelStyle:h,labelShowBg:p,labelBgStyle:m,labelBgPadding:g,labelBgBorderRadius:y,style:N,markerEnd:k,markerStart:w,interactionWidth:S})})}const $k=og({isInternal:!1}),sg=og({isInternal:!0});$k.displayName="SimpleBezierEdge";sg.displayName="SimpleBezierEdgeInternal";function ag(e){return R.memo(({id:r,sourceX:i,sourceY:s,targetX:a,targetY:l,label:u,labelStyle:d,labelShowBg:f,labelBgStyle:h,labelBgPadding:p,labelBgBorderRadius:m,style:g,sourcePosition:y=be.Bottom,targetPosition:N=be.Top,markerEnd:k,markerStart:w,pathOptions:S,interactionWidth:C})=>{const[E,_,M]=Pc({sourceX:i,sourceY:s,sourcePosition:y,targetX:a,targetY:l,targetPosition:N,borderRadius:S==null?void 0:S.borderRadius,offset:S==null?void 0:S.offset,stepPosition:S==null?void 0:S.stepPosition}),O=e.isInternal?void 0:r;return x.jsx(Ja,{id:O,path:E,labelX:_,labelY:M,label:u,labelStyle:d,labelShowBg:f,labelBgStyle:h,labelBgPadding:p,labelBgBorderRadius:m,style:g,markerEnd:k,markerStart:w,interactionWidth:C})})}const lg=ag({isInternal:!1}),ug=ag({isInternal:!0});lg.displayName="SmoothStepEdge";ug.displayName="SmoothStepEdgeInternal";function cg(e){return R.memo(({id:r,...i})=>{var a;const s=e.isInternal?void 0:r;return x.jsx(lg,{...i,id:s,pathOptions:R.useMemo(()=>{var l;return{borderRadius:0,offset:(l=i.pathOptions)==null?void 0:l.offset}},[(a=i.pathOptions)==null?void 0:a.offset])})})}const Bk=cg({isInternal:!1}),dg=cg({isInternal:!0});Bk.displayName="StepEdge";dg.displayName="StepEdgeInternal";function fg(e){return R.memo(({id:r,sourceX:i,sourceY:s,targetX:a,targetY:l,label:u,labelStyle:d,labelShowBg:f,labelBgStyle:h,labelBgPadding:p,labelBgBorderRadius:m,style:g,markerEnd:y,markerStart:N,interactionWidth:k})=>{const[w,S,C]=zm({sourceX:i,sourceY:s,targetX:a,targetY:l}),E=e.isInternal?void 0:r;return x.jsx(Ja,{id:E,path:w,labelX:S,labelY:C,label:u,labelStyle:d,labelShowBg:f,labelBgStyle:h,labelBgPadding:p,labelBgBorderRadius:m,style:g,markerEnd:y,markerStart:N,interactionWidth:k})})}const Fk=fg({isInternal:!1}),hg=fg({isInternal:!0});Fk.displayName="StraightEdge";hg.displayName="StraightEdgeInternal";function pg(e){return R.memo(({id:r,sourceX:i,sourceY:s,targetX:a,targetY:l,sourcePosition:u=be.Bottom,targetPosition:d=be.Top,label:f,labelStyle:h,labelShowBg:p,labelBgStyle:m,labelBgPadding:g,labelBgBorderRadius:y,style:N,markerEnd:k,markerStart:w,pathOptions:S,interactionWidth:C})=>{const[E,_,M]=Cm({sourceX:i,sourceY:s,sourcePosition:u,targetX:a,targetY:l,targetPosition:d,curvature:S==null?void 0:S.curvature}),O=e.isInternal?void 0:r;return x.jsx(Ja,{id:O,path:E,labelX:_,labelY:M,label:f,labelStyle:h,labelShowBg:p,labelBgStyle:m,labelBgPadding:g,labelBgBorderRadius:y,style:N,markerEnd:k,markerStart:w,interactionWidth:C})})}const Vk=pg({isInternal:!1}),mg=pg({isInternal:!0});Vk.displayName="BezierEdge";mg.displayName="BezierEdgeInternal";const o0={default:mg,straight:hg,step:dg,smoothstep:ug,simplebezier:sg},s0={sourceX:null,sourceY:null,targetX:null,targetY:null,sourcePosition:null,targetPosition:null},Hk=(e,r,i)=>i===be.Left?e-r:i===be.Right?e+r:e,Wk=(e,r,i)=>i===be.Top?e-r:i===be.Bottom?e+r:e,a0="react-flow__edgeupdater";function l0({position:e,centerX:r,centerY:i,radius:s=10,onMouseDown:a,onMouseEnter:l,onMouseOut:u,type:d}){return x.jsx("circle",{onMouseDown:a,onMouseEnter:l,onMouseOut:u,className:qe([a0,`${a0}-${d}`]),cx:Hk(r,s,e),cy:Wk(i,s,e),r:s,stroke:"transparent",fill:"transparent"})}function Uk({isReconnectable:e,reconnectRadius:r,edge:i,sourceX:s,sourceY:a,targetX:l,targetY:u,sourcePosition:d,targetPosition:f,onReconnect:h,onReconnectStart:p,onReconnectEnd:m,setReconnecting:g,setUpdateHover:y}){const N=Ve(),k=(_,M)=>{if(_.button!==0)return;const{autoPanOnConnect:O,domNode:F,connectionMode:V,connectionRadius:Z,lib:G,onConnectStart:X,cancelConnection:B,nodeLookup:D,rfId:j,panBy:Q,updateConnection:$}=N.getState(),W=M.type==="target",z=(I,L)=>{g(!1),m==null||m(I,i,M.type,L)},P=I=>h==null?void 0:h(i,I),H=(I,L)=>{g(!0),p==null||p(_,i,M.type),X==null||X(I,L)};Rc.onPointerDown(_.nativeEvent,{autoPanOnConnect:O,connectionMode:V,connectionRadius:Z,domNode:F,handleId:M.id,nodeId:M.nodeId,nodeLookup:D,isTarget:W,edgeUpdaterType:M.type,lib:G,flowId:j,cancelConnection:B,panBy:Q,isValidConnection:(...I)=>{var L,ee;return((ee=(L=N.getState()).isValidConnection)==null?void 0:ee.call(L,...I))??!0},onConnect:P,onConnectStart:H,onConnectEnd:(...I)=>{var L,ee;return(ee=(L=N.getState()).onConnectEnd)==null?void 0:ee.call(L,...I)},onReconnectEnd:z,updateConnection:$,getTransform:()=>N.getState().transform,getFromHandle:()=>N.getState().connection.fromHandle,dragThreshold:N.getState().connectionDragThreshold,handleDomNode:_.currentTarget})},w=_=>k(_,{nodeId:i.target,id:i.targetHandle??null,type:"target"}),S=_=>k(_,{nodeId:i.source,id:i.sourceHandle??null,type:"source"}),C=()=>y(!0),E=()=>y(!1);return x.jsxs(x.Fragment,{children:[(e===!0||e==="source")&&x.jsx(l0,{position:d,centerX:s,centerY:a,radius:r,onMouseDown:w,onMouseEnter:C,onMouseOut:E,type:"source"}),(e===!0||e==="target")&&x.jsx(l0,{position:f,centerX:l,centerY:u,radius:r,onMouseDown:S,onMouseEnter:C,onMouseOut:E,type:"target"})]})}function Yk({id:e,edgesFocusable:r,edgesReconnectable:i,elementsSelectable:s,onClick:a,onDoubleClick:l,onContextMenu:u,onMouseEnter:d,onMouseMove:f,onMouseLeave:h,reconnectRadius:p,onReconnect:m,onReconnectStart:g,onReconnectEnd:y,rfId:N,edgeTypes:k,noPanClassName:w,onError:S,disableKeyboardA11y:C}){let E=Me(he=>he.edgeLookup.get(e));const _=Me(he=>he.defaultEdgeOptions);E=_?{..._,...E}:E;let M=E.type||"default",O=(k==null?void 0:k[M])||o0[M];O===void 0&&(S==null||S("011",on.error011(M)),M="default",O=(k==null?void 0:k.default)||o0.default);const F=!!(E.focusable||r&&typeof E.focusable>"u"),V=typeof m<"u"&&(E.reconnectable||i&&typeof E.reconnectable>"u"),Z=!!(E.selectable||s&&typeof E.selectable>"u"),G=R.useRef(null),[X,B]=R.useState(!1),[D,j]=R.useState(!1),Q=Ve(),{zIndex:$,sourceX:W,sourceY:z,targetX:P,targetY:H,sourcePosition:I,targetPosition:L}=Me(R.useCallback(he=>{const pe=he.nodeLookup.get(E.source),ye=he.nodeLookup.get(E.target);if(!pe||!ye)return{zIndex:E.zIndex,...s0};const ke=ON({id:e,sourceNode:pe,targetNode:ye,sourceHandle:E.sourceHandle||null,targetHandle:E.targetHandle||null,connectionMode:he.connectionMode,onError:S});return{zIndex:zN({selected:E.selected,zIndex:E.zIndex,sourceNode:pe,targetNode:ye,elevateOnSelect:he.elevateEdgesOnSelect,zIndexMode:he.zIndexMode}),...ke||s0}},[E.source,E.target,E.sourceHandle,E.targetHandle,E.selected,E.zIndex]),Fe),ee=R.useMemo(()=>E.markerStart?`url('#${Ac(E.markerStart,N)}')`:void 0,[E.markerStart,N]),Y=R.useMemo(()=>E.markerEnd?`url('#${Ac(E.markerEnd,N)}')`:void 0,[E.markerEnd,N]);if(E.hidden||W===null||z===null||P===null||H===null)return null;const T=he=>{var Ce;const{addSelectedEdges:pe,unselectNodesAndEdges:ye,multiSelectionActive:ke}=Q.getState();Z&&(Q.setState({nodesSelectionActive:!1}),E.selected&&ke?(ye({nodes:[],edges:[E]}),(Ce=G.current)==null||Ce.blur()):pe([e])),a&&a(he,E)},K=l?he=>{l(he,{...E})}:void 0,q=u?he=>{u(he,{...E})}:void 0,U=d?he=>{d(he,{...E})}:void 0,J=f?he=>{f(he,{...E})}:void 0,ie=h?he=>{h(he,{...E})}:void 0,le=he=>{var pe;if(!C&&fm.includes(he.key)&&Z){const{unselectNodesAndEdges:ye,addSelectedEdges:ke}=Q.getState();he.key==="Escape"?((pe=G.current)==null||pe.blur(),ye({edges:[E]})):ke([e])}};return x.jsx("svg",{style:{zIndex:$},children:x.jsxs("g",{className:qe(["react-flow__edge",`react-flow__edge-${M}`,E.className,w,{selected:E.selected,animated:E.animated,inactive:!Z&&!a,updating:X,selectable:Z}]),onClick:T,onDoubleClick:K,onContextMenu:q,onMouseEnter:U,onMouseMove:J,onMouseLeave:ie,onKeyDown:F?le:void 0,tabIndex:F?0:void 0,role:E.ariaRole??(F?"group":"img"),"aria-roledescription":"edge","data-id":e,"data-testid":`rf__edge-${e}`,"aria-label":E.ariaLabel===null?void 0:E.ariaLabel||`Edge from ${E.source} to ${E.target}`,"aria-describedby":F?`${Wm}-${N}`:void 0,ref:G,...E.domAttributes,children:[!D&&x.jsx(O,{id:e,source:E.source,target:E.target,type:E.type,selected:E.selected,animated:E.animated,selectable:Z,deletable:E.deletable??!0,label:E.label,labelStyle:E.labelStyle,labelShowBg:E.labelShowBg,labelBgStyle:E.labelBgStyle,labelBgPadding:E.labelBgPadding,labelBgBorderRadius:E.labelBgBorderRadius,sourceX:W,sourceY:z,targetX:P,targetY:H,sourcePosition:I,targetPosition:L,data:E.data,style:E.style,sourceHandleId:E.sourceHandle,targetHandleId:E.targetHandle,markerStart:ee,markerEnd:Y,pathOptions:"pathOptions"in E?E.pathOptions:void 0,interactionWidth:E.interactionWidth}),V&&x.jsx(Uk,{edge:E,isReconnectable:V,reconnectRadius:p,onReconnect:m,onReconnectStart:g,onReconnectEnd:y,sourceX:W,sourceY:z,targetX:P,targetY:H,sourcePosition:I,targetPosition:L,setUpdateHover:B,setReconnecting:j})]})})}var Xk=R.memo(Yk);const Gk=e=>({edgesFocusable:e.edgesFocusable,edgesReconnectable:e.edgesReconnectable,elementsSelectable:e.elementsSelectable,connectionMode:e.connectionMode,onError:e.onError});function gg({defaultMarkerColor:e,onlyRenderVisibleElements:r,rfId:i,edgeTypes:s,noPanClassName:a,onReconnect:l,onEdgeContextMenu:u,onEdgeMouseEnter:d,onEdgeMouseMove:f,onEdgeMouseLeave:h,onEdgeClick:p,reconnectRadius:m,onEdgeDoubleClick:g,onReconnectStart:y,onReconnectEnd:N,disableKeyboardA11y:k}){const{edgesFocusable:w,edgesReconnectable:S,elementsSelectable:C,onError:E}=Me(Gk,Fe),_=Lk(r);return x.jsxs("div",{className:"react-flow__edges",children:[x.jsx(Ok,{defaultColor:e,rfId:i}),_.map(M=>x.jsx(Xk,{id:M,edgesFocusable:w,edgesReconnectable:S,elementsSelectable:C,noPanClassName:a,onReconnect:l,onContextMenu:u,onMouseEnter:d,onMouseMove:f,onMouseLeave:h,onClick:p,reconnectRadius:m,onDoubleClick:g,onReconnectStart:y,onReconnectEnd:N,rfId:i,onError:E,edgeTypes:s,disableKeyboardA11y:k},M))]})}gg.displayName="EdgeRenderer";const Qk=R.memo(gg),Kk=e=>`translate(${e.transform[0]}px,${e.transform[1]}px) scale(${e.transform[2]})`;function qk({children:e}){const r=Me(Kk);return x.jsx("div",{className:"react-flow__viewport xyflow__viewport react-flow__container",style:{transform:r},children:e})}function Zk(e){const r=ld(),i=R.useRef(!1);R.useEffect(()=>{!i.current&&r.viewportInitialized&&e&&(setTimeout(()=>e(r),1),i.current=!0)},[e,r.viewportInitialized])}const Jk=e=>{var r;return(r=e.panZoom)==null?void 0:r.syncViewport};function eE(e){const r=Me(Jk),i=Ve();return R.useEffect(()=>{e&&(r==null||r(e),i.setState({transform:[e.x,e.y,e.zoom]}))},[e,r]),null}function tE(e){return e.connection.inProgress?{...e.connection,to:Ho(e.connection.to,e.transform)}:{...e.connection}}function nE(e){return tE}function rE(e){const r=nE();return Me(r,Fe)}const iE=e=>({nodesConnectable:e.nodesConnectable,isValid:e.connection.isValid,inProgress:e.connection.inProgress,width:e.width,height:e.height});function oE({containerStyle:e,style:r,type:i,component:s}){const{nodesConnectable:a,width:l,height:u,isValid:d,inProgress:f}=Me(iE,Fe);return!(l&&a&&f)?null:x.jsx("svg",{style:e,width:l,height:u,className:"react-flow__connectionline react-flow__container",children:x.jsx("g",{className:qe(["react-flow__connection",mm(d)]),children:x.jsx(xg,{style:r,type:i,CustomComponent:s,isValid:d})})})}const xg=({style:e,type:r=Gn.Bezier,CustomComponent:i,isValid:s})=>{const{inProgress:a,from:l,fromNode:u,fromHandle:d,fromPosition:f,to:h,toNode:p,toHandle:m,toPosition:g,pointer:y}=rE();if(!a)return;if(i)return x.jsx(i,{connectionLineType:r,connectionLineStyle:e,fromNode:u,fromHandle:d,fromX:l.x,fromY:l.y,toX:h.x,toY:h.y,fromPosition:f,toPosition:g,connectionStatus:mm(s),toNode:p,toHandle:m,pointer:y});let N="";const k={sourceX:l.x,sourceY:l.y,sourcePosition:f,targetX:h.x,targetY:h.y,targetPosition:g};switch(r){case Gn.Bezier:[N]=Cm(k);break;case Gn.SimpleBezier:[N]=ig(k);break;case Gn.Step:[N]=Pc({...k,borderRadius:0});break;case Gn.SmoothStep:[N]=Pc(k);break;default:[N]=zm(k)}return x.jsx("path",{d:N,fill:"none",className:"react-flow__connection-path",style:e})};xg.displayName="ConnectionLine";const sE={};function u0(e=sE){R.useRef(e),Ve(),R.useEffect(()=>{},[e])}function aE(){Ve(),R.useRef(!1),R.useEffect(()=>{},[])}function vg({nodeTypes:e,edgeTypes:r,onInit:i,onNodeClick:s,onEdgeClick:a,onNodeDoubleClick:l,onEdgeDoubleClick:u,onNodeMouseEnter:d,onNodeMouseMove:f,onNodeMouseLeave:h,onNodeContextMenu:p,onSelectionContextMenu:m,onSelectionStart:g,onSelectionEnd:y,connectionLineType:N,connectionLineStyle:k,connectionLineComponent:w,connectionLineContainerStyle:S,selectionKeyCode:C,selectionOnDrag:E,selectionMode:_,multiSelectionKeyCode:M,panActivationKeyCode:O,zoomActivationKeyCode:F,deleteKeyCode:V,onlyRenderVisibleElements:Z,elementsSelectable:G,defaultViewport:X,translateExtent:B,minZoom:D,maxZoom:j,preventScrolling:Q,defaultMarkerColor:$,zoomOnScroll:W,zoomOnPinch:z,panOnScroll:P,panOnScrollSpeed:H,panOnScrollMode:I,zoomOnDoubleClick:L,panOnDrag:ee,onPaneClick:Y,onPaneMouseEnter:T,onPaneMouseMove:K,onPaneMouseLeave:q,onPaneScroll:U,onPaneContextMenu:J,paneClickDistance:ie,nodeClickDistance:le,onEdgeContextMenu:he,onEdgeMouseEnter:pe,onEdgeMouseMove:ye,onEdgeMouseLeave:ke,reconnectRadius:Ce,onReconnect:Re,onReconnectStart:st,onReconnectEnd:me,noDragClassName:je,noWheelClassName:$e,noPanClassName:dt,disableKeyboardA11y:En,nodeExtent:Mr,rfId:nr,viewport:un,onViewportChange:cn}){return u0(e),u0(r),aE(),Zk(i),eE(un),x.jsx(bk,{onPaneClick:Y,onPaneMouseEnter:T,onPaneMouseMove:K,onPaneMouseLeave:q,onPaneContextMenu:J,onPaneScroll:U,paneClickDistance:ie,deleteKeyCode:V,selectionKeyCode:C,selectionOnDrag:E,selectionMode:_,onSelectionStart:g,onSelectionEnd:y,multiSelectionKeyCode:M,panActivationKeyCode:O,zoomActivationKeyCode:F,elementsSelectable:G,zoomOnScroll:W,zoomOnPinch:z,zoomOnDoubleClick:L,panOnScroll:P,panOnScrollSpeed:H,panOnScrollMode:I,panOnDrag:ee,defaultViewport:X,translateExtent:B,minZoom:D,maxZoom:j,onSelectionContextMenu:m,preventScrolling:Q,noDragClassName:je,noWheelClassName:$e,noPanClassName:dt,disableKeyboardA11y:En,onViewportChange:cn,isControlledViewport:!!un,children:x.jsxs(qk,{children:[x.jsx(Qk,{edgeTypes:r,onEdgeClick:a,onEdgeDoubleClick:u,onReconnect:Re,onReconnectStart:st,onReconnectEnd:me,onlyRenderVisibleElements:Z,onEdgeContextMenu:he,onEdgeMouseEnter:pe,onEdgeMouseMove:ye,onEdgeMouseLeave:ke,reconnectRadius:Ce,defaultMarkerColor:$,noPanClassName:dt,disableKeyboardA11y:En,rfId:nr}),x.jsx(oE,{style:k,type:N,component:w,containerStyle:S}),x.jsx("div",{className:"react-flow__edgelabel-renderer"}),x.jsx(Ik,{nodeTypes:e,onNodeClick:s,onNodeDoubleClick:l,onNodeMouseEnter:d,onNodeMouseMove:f,onNodeMouseLeave:h,onNodeContextMenu:p,nodeClickDistance:le,onlyRenderVisibleElements:Z,noPanClassName:dt,noDragClassName:je,disableKeyboardA11y:En,nodeExtent:Mr,rfId:nr}),x.jsx("div",{className:"react-flow__viewport-portal"})]})})}vg.displayName="GraphView";const lE=R.memo(vg),c0=({nodes:e,edges:r,defaultNodes:i,defaultEdges:s,width:a,height:l,fitView:u,fitViewOptions:d,minZoom:f=.5,maxZoom:h=2,nodeOrigin:p,nodeExtent:m,zIndexMode:g="basic"}={})=>{const y=new Map,N=new Map,k=new Map,w=new Map,S=s??r??[],C=i??e??[],E=p??[0,0],_=m??Mo;Lm(k,w,S);const M=Tc(C,y,N,{nodeOrigin:E,nodeExtent:_,zIndexMode:g});let O=[0,0,1];if(u&&a&&l){const F=Fo(y,{filter:X=>!!((X.width||X.initialWidth)&&(X.height||X.initialHeight))}),{x:V,y:Z,zoom:G}=td(F,a,l,f,h,(d==null?void 0:d.padding)??.1);O=[V,Z,G]}return{rfId:"1",width:a??0,height:l??0,transform:O,nodes:C,nodesInitialized:M,nodeLookup:y,parentLookup:N,edges:S,edgeLookup:w,connectionLookup:k,onNodesChange:null,onEdgesChange:null,hasDefaultNodes:i!==void 0,hasDefaultEdges:s!==void 0,panZoom:null,minZoom:f,maxZoom:h,translateExtent:Mo,nodeExtent:_,nodesSelectionActive:!1,userSelectionActive:!1,userSelectionRect:null,connectionMode:hi.Strict,domNode:null,paneDragging:!1,noPanClassName:"nopan",nodeOrigin:E,nodeDragThreshold:1,connectionDragThreshold:1,snapGrid:[15,15],snapToGrid:!1,nodesDraggable:!0,nodesConnectable:!0,nodesFocusable:!0,edgesFocusable:!0,edgesReconnectable:!0,elementsSelectable:!0,elevateNodesOnSelect:!0,elevateEdgesOnSelect:!0,selectNodesOnDrag:!0,multiSelectionActive:!1,fitViewQueued:u??!1,fitViewOptions:d,fitViewResolver:null,connection:{...pm},connectionClickStartHandle:null,connectOnClick:!0,ariaLiveMessage:"",autoPanOnConnect:!0,autoPanOnNodeDrag:!0,autoPanOnNodeFocus:!0,autoPanSpeed:15,connectionRadius:20,onError:kN,isValidConnection:void 0,onSelectionChangeHandlers:[],lib:"react",debug:!1,ariaLabelConfig:hm,zIndexMode:g,onNodesChangeMiddlewareMap:new Map,onEdgesChangeMiddlewareMap:new Map}},uE=({nodes:e,edges:r,defaultNodes:i,defaultEdges:s,width:a,height:l,fitView:u,fitViewOptions:d,minZoom:f,maxZoom:h,nodeOrigin:p,nodeExtent:m,zIndexMode:g})=>Cb((y,N)=>{async function k(){const{nodeLookup:w,panZoom:S,fitViewOptions:C,fitViewResolver:E,width:_,height:M,minZoom:O,maxZoom:F}=N();S&&(await NN({nodes:w,width:_,height:M,panZoom:S,minZoom:O,maxZoom:F},C),E==null||E.resolve(!0),y({fitViewResolver:null}))}return{...c0({nodes:e,edges:r,width:a,height:l,fitView:u,fitViewOptions:d,minZoom:f,maxZoom:h,nodeOrigin:p,nodeExtent:m,defaultNodes:i,defaultEdges:s,zIndexMode:g}),setNodes:w=>{const{nodeLookup:S,parentLookup:C,nodeOrigin:E,elevateNodesOnSelect:_,fitViewQueued:M,zIndexMode:O}=N(),F=Tc(w,S,C,{nodeOrigin:E,nodeExtent:m,elevateNodesOnSelect:_,checkEquality:!0,zIndexMode:O});M&&F?(k(),y({nodes:w,nodesInitialized:F,fitViewQueued:!1,fitViewOptions:void 0})):y({nodes:w,nodesInitialized:F})},setEdges:w=>{const{connectionLookup:S,edgeLookup:C}=N();Lm(S,C,w),y({edges:w})},setDefaultNodesAndEdges:(w,S)=>{if(w){const{setNodes:C}=N();C(w),y({hasDefaultNodes:!0})}if(S){const{setEdges:C}=N();C(S),y({hasDefaultEdges:!0})}},updateNodeInternals:w=>{const{triggerNodeChanges:S,nodeLookup:C,parentLookup:E,domNode:_,nodeOrigin:M,nodeExtent:O,debug:F,fitViewQueued:V,zIndexMode:Z}=N(),{changes:G,updatedInternals:X}=UN(w,C,E,_,M,O,Z);X&&(FN(C,E,{nodeOrigin:M,nodeExtent:O,zIndexMode:Z}),V?(k(),y({fitViewQueued:!1,fitViewOptions:void 0})):y({}),(G==null?void 0:G.length)>0&&(F&&console.log("React Flow: trigger node changes",G),S==null||S(G)))},updateNodePositions:(w,S=!1)=>{const C=[];let E=[];const{nodeLookup:_,triggerNodeChanges:M,connection:O,updateConnection:F,onNodesChangeMiddlewareMap:V}=N();for(const[Z,G]of w){const X=_.get(Z),B=!!(X!=null&&X.expandParent&&(X!=null&&X.parentId)&&(G!=null&&G.position)),D={id:Z,type:"position",position:B?{x:Math.max(0,G.position.x),y:Math.max(0,G.position.y)}:G.position,dragging:S};if(X&&O.inProgress&&O.fromNode.id===X.id){const j=zr(X,O.fromHandle,be.Left,!0);F({...O,from:j})}B&&X.parentId&&C.push({id:Z,parentId:X.parentId,rect:{...G.internals.positionAbsolute,width:G.measured.width??0,height:G.measured.height??0}}),E.push(D)}if(C.length>0){const{parentLookup:Z,nodeOrigin:G}=N(),X=ad(C,_,Z,G);E.push(...X)}for(const Z of V.values())E=Z(E);M(E)},triggerNodeChanges:w=>{const{onNodesChange:S,setNodes:C,nodes:E,hasDefaultNodes:_,debug:M}=N();if(w!=null&&w.length){if(_){const O=Xm(w,E);C(O)}M&&console.log("React Flow: trigger node changes",w),S==null||S(w)}},triggerEdgeChanges:w=>{const{onEdgesChange:S,setEdges:C,edges:E,hasDefaultEdges:_,debug:M}=N();if(w!=null&&w.length){if(_){const O=Gm(w,E);C(O)}M&&console.log("React Flow: trigger edge changes",w),S==null||S(w)}},addSelectedNodes:w=>{const{multiSelectionActive:S,edgeLookup:C,nodeLookup:E,triggerNodeChanges:_,triggerEdgeChanges:M}=N();if(S){const O=w.map(F=>br(F,!0));_(O);return}_(li(E,new Set([...w]),!0)),M(li(C))},addSelectedEdges:w=>{const{multiSelectionActive:S,edgeLookup:C,nodeLookup:E,triggerNodeChanges:_,triggerEdgeChanges:M}=N();if(S){const O=w.map(F=>br(F,!0));M(O);return}M(li(C,new Set([...w]))),_(li(E,new Set,!0))},unselectNodesAndEdges:({nodes:w,edges:S}={})=>{const{edges:C,nodes:E,nodeLookup:_,triggerNodeChanges:M,triggerEdgeChanges:O}=N(),F=w||E,V=S||C,Z=[];for(const X of F){if(!X.selected)continue;const B=_.get(X.id);B&&(B.selected=!1),Z.push(br(X.id,!1))}const G=[];for(const X of V)X.selected&&G.push(br(X.id,!1));M(Z),O(G)},setMinZoom:w=>{const{panZoom:S,maxZoom:C}=N();S==null||S.setScaleExtent([w,C]),y({minZoom:w})},setMaxZoom:w=>{const{panZoom:S,minZoom:C}=N();S==null||S.setScaleExtent([C,w]),y({maxZoom:w})},setTranslateExtent:w=>{var S;(S=N().panZoom)==null||S.setTranslateExtent(w),y({translateExtent:w})},resetSelectedElements:()=>{const{edges:w,nodes:S,triggerNodeChanges:C,triggerEdgeChanges:E,elementsSelectable:_}=N();if(!_)return;const M=S.reduce((F,V)=>V.selected?[...F,br(V.id,!1)]:F,[]),O=w.reduce((F,V)=>V.selected?[...F,br(V.id,!1)]:F,[]);C(M),E(O)},setNodeExtent:w=>{const{nodes:S,nodeLookup:C,parentLookup:E,nodeOrigin:_,elevateNodesOnSelect:M,nodeExtent:O,zIndexMode:F}=N();w[0][0]===O[0][0]&&w[0][1]===O[0][1]&&w[1][0]===O[1][0]&&w[1][1]===O[1][1]||(Tc(S,C,E,{nodeOrigin:_,nodeExtent:w,elevateNodesOnSelect:M,checkEquality:!1,zIndexMode:F}),y({nodeExtent:w}))},panBy:w=>{const{transform:S,width:C,height:E,panZoom:_,translateExtent:M}=N();return YN({delta:w,panZoom:_,transform:S,translateExtent:M,width:C,height:E})},setCenter:async(w,S,C)=>{const{width:E,height:_,maxZoom:M,panZoom:O}=N();if(!O)return Promise.resolve(!1);const F=typeof(C==null?void 0:C.zoom)<"u"?C.zoom:M;return await O.setViewport({x:E/2-w*F,y:_/2-S*F,zoom:F},{duration:C==null?void 0:C.duration,ease:C==null?void 0:C.ease,interpolate:C==null?void 0:C.interpolate}),Promise.resolve(!0)},cancelConnection:()=>{y({connection:{...pm}})},updateConnection:w=>{y({connection:w})},reset:()=>y({...c0()})}},Object.is);function cE({initialNodes:e,initialEdges:r,defaultNodes:i,defaultEdges:s,initialWidth:a,initialHeight:l,initialMinZoom:u,initialMaxZoom:d,initialFitViewOptions:f,fitView:h,nodeOrigin:p,nodeExtent:m,zIndexMode:g,children:y}){const[N]=R.useState(()=>uE({nodes:e,edges:r,defaultNodes:i,defaultEdges:s,width:a,height:l,fitView:h,minZoom:u,maxZoom:d,fitViewOptions:f,nodeOrigin:p,nodeExtent:m,zIndexMode:g}));return x.jsx(jb,{value:N,children:x.jsx(qb,{children:y})})}function dE({children:e,nodes:r,edges:i,defaultNodes:s,defaultEdges:a,width:l,height:u,fitView:d,fitViewOptions:f,minZoom:h,maxZoom:p,nodeOrigin:m,nodeExtent:g,zIndexMode:y}){return R.useContext(Ka)?x.jsx(x.Fragment,{children:e}):x.jsx(cE,{initialNodes:r,initialEdges:i,defaultNodes:s,defaultEdges:a,initialWidth:l,initialHeight:u,fitView:d,initialFitViewOptions:f,initialMinZoom:h,initialMaxZoom:p,nodeOrigin:m,nodeExtent:g,zIndexMode:y,children:e})}const fE={width:"100%",height:"100%",overflow:"hidden",position:"relative",zIndex:0};function hE({nodes:e,edges:r,defaultNodes:i,defaultEdges:s,className:a,nodeTypes:l,edgeTypes:u,onNodeClick:d,onEdgeClick:f,onInit:h,onMove:p,onMoveStart:m,onMoveEnd:g,onConnect:y,onConnectStart:N,onConnectEnd:k,onClickConnectStart:w,onClickConnectEnd:S,onNodeMouseEnter:C,onNodeMouseMove:E,onNodeMouseLeave:_,onNodeContextMenu:M,onNodeDoubleClick:O,onNodeDragStart:F,onNodeDrag:V,onNodeDragStop:Z,onNodesDelete:G,onEdgesDelete:X,onDelete:B,onSelectionChange:D,onSelectionDragStart:j,onSelectionDrag:Q,onSelectionDragStop:$,onSelectionContextMenu:W,onSelectionStart:z,onSelectionEnd:P,onBeforeDelete:H,connectionMode:I,connectionLineType:L=Gn.Bezier,connectionLineStyle:ee,connectionLineComponent:Y,connectionLineContainerStyle:T,deleteKeyCode:K="Backspace",selectionKeyCode:q="Shift",selectionOnDrag:U=!1,selectionMode:J=Io.Full,panActivationKeyCode:ie="Space",multiSelectionKeyCode:le=Po()?"Meta":"Control",zoomActivationKeyCode:he=Po()?"Meta":"Control",snapToGrid:pe,snapGrid:ye,onlyRenderVisibleElements:ke=!1,selectNodesOnDrag:Ce,nodesDraggable:Re,autoPanOnNodeFocus:st,nodesConnectable:me,nodesFocusable:je,nodeOrigin:$e=Um,edgesFocusable:dt,edgesReconnectable:En,elementsSelectable:Mr=!0,defaultViewport:nr=Fb,minZoom:un=.5,maxZoom:cn=2,translateExtent:rr=Mo,preventScrolling:Wo=!0,nodeExtent:dn,defaultMarkerColor:ir="#b1b1b7",zoomOnScroll:rl=!0,zoomOnPinch:Uo=!0,panOnScroll:Yo=!1,panOnScrollSpeed:il=.5,panOnScrollMode:ki=Sr.Free,zoomOnDoubleClick:Ei=!0,panOnDrag:Si=!0,onPaneClick:_i,onPaneMouseEnter:Ci,onPaneMouseMove:Sn,onPaneMouseLeave:_n,onPaneScroll:Xo,onPaneContextMenu:Go,paneClickDistance:Qo=1,nodeClickDistance:Ko=0,children:qo,onReconnect:ji,onReconnectStart:Zo,onReconnectEnd:or,onEdgeContextMenu:zi,onEdgeDoubleClick:sr,onEdgeMouseEnter:ol,onEdgeMouseMove:ar,onEdgeMouseLeave:Ir,reconnectRadius:Lr=10,onNodesChange:Mi,onEdgesChange:sl,noDragClassName:al="nodrag",noWheelClassName:ll="nowheel",noPanClassName:Kt="nopan",fitView:Ii,fitViewOptions:Li,connectOnClick:ul,attributionPosition:Jo,proOptions:es,defaultEdgeOptions:ts,elevateNodesOnSelect:ns=!0,elevateEdgesOnSelect:cl=!1,disableKeyboardA11y:rs=!1,autoPanOnConnect:He,autoPanOnNodeDrag:dl,autoPanSpeed:Pi,connectionRadius:is,isValidConnection:Pr,onError:fl,style:os,id:lr,nodeDragThreshold:Mt,connectionDragThreshold:hl,viewport:Et,onViewportChange:pl,width:ml,height:gl,colorMode:Ar="light",debug:Tr,onScroll:qt,ariaLabelConfig:Rr,zIndexMode:ss="basic",...xl},Ai){const Or=lr||"1",Ti=Ub(Ar),ur=R.useCallback(as=>{as.currentTarget.scrollTo({top:0,left:0,behavior:"instant"}),qt==null||qt(as)},[qt]);return x.jsx("div",{"data-testid":"rf__wrapper",...xl,onScroll:ur,style:{...os,...fE},ref:Ai,className:qe(["react-flow",a,Ti]),id:lr,role:"application",children:x.jsxs(dE,{nodes:e,edges:r,width:ml,height:gl,fitView:Ii,fitViewOptions:Li,minZoom:un,maxZoom:cn,nodeOrigin:$e,nodeExtent:dn,zIndexMode:ss,children:[x.jsx(lE,{onInit:h,onNodeClick:d,onEdgeClick:f,onNodeMouseEnter:C,onNodeMouseMove:E,onNodeMouseLeave:_,onNodeContextMenu:M,onNodeDoubleClick:O,nodeTypes:l,edgeTypes:u,connectionLineType:L,connectionLineStyle:ee,connectionLineComponent:Y,connectionLineContainerStyle:T,selectionKeyCode:q,selectionOnDrag:U,selectionMode:J,deleteKeyCode:K,multiSelectionKeyCode:le,panActivationKeyCode:ie,zoomActivationKeyCode:he,onlyRenderVisibleElements:ke,defaultViewport:nr,translateExtent:rr,minZoom:un,maxZoom:cn,preventScrolling:Wo,zoomOnScroll:rl,zoomOnPinch:Uo,zoomOnDoubleClick:Ei,panOnScroll:Yo,panOnScrollSpeed:il,panOnScrollMode:ki,panOnDrag:Si,onPaneClick:_i,onPaneMouseEnter:Ci,onPaneMouseMove:Sn,onPaneMouseLeave:_n,onPaneScroll:Xo,onPaneContextMenu:Go,paneClickDistance:Qo,nodeClickDistance:Ko,onSelectionContextMenu:W,onSelectionStart:z,onSelectionEnd:P,onReconnect:ji,onReconnectStart:Zo,onReconnectEnd:or,onEdgeContextMenu:zi,onEdgeDoubleClick:sr,onEdgeMouseEnter:ol,onEdgeMouseMove:ar,onEdgeMouseLeave:Ir,reconnectRadius:Lr,defaultMarkerColor:ir,noDragClassName:al,noWheelClassName:ll,noPanClassName:Kt,rfId:Or,disableKeyboardA11y:rs,nodeExtent:dn,viewport:Et,onViewportChange:pl}),x.jsx(Wb,{nodes:e,edges:r,defaultNodes:i,defaultEdges:s,onConnect:y,onConnectStart:N,onConnectEnd:k,onClickConnectStart:w,onClickConnectEnd:S,nodesDraggable:Re,autoPanOnNodeFocus:st,nodesConnectable:me,nodesFocusable:je,edgesFocusable:dt,edgesReconnectable:En,elementsSelectable:Mr,elevateNodesOnSelect:ns,elevateEdgesOnSelect:cl,minZoom:un,maxZoom:cn,nodeExtent:dn,onNodesChange:Mi,onEdgesChange:sl,snapToGrid:pe,snapGrid:ye,connectionMode:I,translateExtent:rr,connectOnClick:ul,defaultEdgeOptions:ts,fitView:Ii,fitViewOptions:Li,onNodesDelete:G,onEdgesDelete:X,onDelete:B,onNodeDragStart:F,onNodeDrag:V,onNodeDragStop:Z,onSelectionDrag:Q,onSelectionDragStart:j,onSelectionDragStop:$,onMove:p,onMoveStart:m,onMoveEnd:g,noPanClassName:Kt,nodeOrigin:$e,rfId:Or,autoPanOnConnect:He,autoPanOnNodeDrag:dl,autoPanSpeed:Pi,onError:fl,connectionRadius:is,isValidConnection:Pr,selectNodesOnDrag:Ce,nodeDragThreshold:Mt,connectionDragThreshold:hl,onBeforeDelete:H,debug:Tr,ariaLabelConfig:Rr,zIndexMode:ss}),x.jsx(Bb,{onSelectionChange:D}),qo,x.jsx(Tb,{proOptions:es,position:Jo}),x.jsx(Ab,{rfId:Or,disableKeyboardA11y:rs})]})})}var pE=Qm(hE);function mE(e){const[r,i]=R.useState(e),s=R.useCallback(a=>i(l=>Xm(a,l)),[]);return[r,i,s]}function gE(e){const[r,i]=R.useState(e),s=R.useCallback(a=>i(l=>Gm(a,l)),[]);return[r,i,s]}function xE({dimensions:e,lineWidth:r,variant:i,className:s}){return x.jsx("path",{strokeWidth:r,d:`M${e[0]/2} 0 V${e[1]} M0 ${e[1]/2} H${e[0]}`,className:qe(["react-flow__background-pattern",i,s])})}function vE({radius:e,className:r}){return x.jsx("circle",{cx:e,cy:e,r:e,className:qe(["react-flow__background-pattern","dots",r])})}var Zn;(function(e){e.Lines="lines",e.Dots="dots",e.Cross="cross"})(Zn||(Zn={}));const yE={[Zn.Dots]:1,[Zn.Lines]:1,[Zn.Cross]:6},wE=e=>({transform:e.transform,patternId:`pattern-${e.rfId}`});function yg({id:e,variant:r=Zn.Dots,gap:i=20,size:s,lineWidth:a=1,offset:l=0,color:u,bgColor:d,style:f,className:h,patternClassName:p}){const m=R.useRef(null),{transform:g,patternId:y}=Me(wE,Fe),N=s||yE[r],k=r===Zn.Dots,w=r===Zn.Cross,S=Array.isArray(i)?i:[i,i],C=[S[0]*g[2]||1,S[1]*g[2]||1],E=N*g[2],_=Array.isArray(l)?l:[l,l],M=w?[E,E]:C,O=[_[0]*g[2]||1+M[0]/2,_[1]*g[2]||1+M[1]/2],F=`${y}${e||""}`;return x.jsxs("svg",{className:qe(["react-flow__background",h]),style:{...f,...Za,"--xy-background-color-props":d,"--xy-background-pattern-color-props":u},ref:m,"data-testid":"rf__background",children:[x.jsx("pattern",{id:F,x:g[0]%C[0],y:g[1]%C[1],width:C[0],height:C[1],patternUnits:"userSpaceOnUse",patternTransform:`translate(-${O[0]},-${O[1]})`,children:k?x.jsx(vE,{radius:E/2,className:p}):x.jsx(xE,{dimensions:M,lineWidth:a,variant:r,className:p})}),x.jsx("rect",{x:"0",y:"0",width:"100%",height:"100%",fill:`url(#${F})`})]})}yg.displayName="Background";const NE=R.memo(yg);function bE(){return x.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 32",children:x.jsx("path",{d:"M32 18.133H18.133V32h-4.266V18.133H0v-4.266h13.867V0h4.266v13.867H32z"})})}function kE(){return x.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 5",children:x.jsx("path",{d:"M0 0h32v4.2H0z"})})}function EE(){return x.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 30",children:x.jsx("path",{d:"M3.692 4.63c0-.53.4-.938.939-.938h5.215V0H4.708C2.13 0 0 2.054 0 4.63v5.216h3.692V4.631zM27.354 0h-5.2v3.692h5.17c.53 0 .984.4.984.939v5.215H32V4.631A4.624 4.624 0 0027.354 0zm.954 24.83c0 .532-.4.94-.939.94h-5.215v3.768h5.215c2.577 0 4.631-2.13 4.631-4.707v-5.139h-3.692v5.139zm-23.677.94c-.531 0-.939-.4-.939-.94v-5.138H0v5.139c0 2.577 2.13 4.707 4.708 4.707h5.138V25.77H4.631z"})})}function SE(){return x.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 25 32",children:x.jsx("path",{d:"M21.333 10.667H19.81V7.619C19.81 3.429 16.38 0 12.19 0 8 0 4.571 3.429 4.571 7.619v3.048H3.048A3.056 3.056 0 000 13.714v15.238A3.056 3.056 0 003.048 32h18.285a3.056 3.056 0 003.048-3.048V13.714a3.056 3.056 0 00-3.048-3.047zM12.19 24.533a3.056 3.056 0 01-3.047-3.047 3.056 3.056 0 013.047-3.048 3.056 3.056 0 013.048 3.048 3.056 3.056 0 01-3.048 3.047zm4.724-13.866H7.467V7.619c0-2.59 2.133-4.724 4.723-4.724 2.591 0 4.724 2.133 4.724 4.724v3.048z"})})}function _E(){return x.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 25 32",children:x.jsx("path",{d:"M21.333 10.667H19.81V7.619C19.81 3.429 16.38 0 12.19 0c-4.114 1.828-1.37 2.133.305 2.438 1.676.305 4.42 2.59 4.42 5.181v3.048H3.047A3.056 3.056 0 000 13.714v15.238A3.056 3.056 0 003.048 32h18.285a3.056 3.056 0 003.048-3.048V13.714a3.056 3.056 0 00-3.048-3.047zM12.19 24.533a3.056 3.056 0 01-3.047-3.047 3.056 3.056 0 013.047-3.048 3.056 3.056 0 013.048 3.048 3.056 3.056 0 01-3.048 3.047z"})})}function xa({children:e,className:r,...i}){return x.jsx("button",{type:"button",className:qe(["react-flow__controls-button",r]),...i,children:e})}const CE=e=>({isInteractive:e.nodesDraggable||e.nodesConnectable||e.elementsSelectable,minZoomReached:e.transform[2]<=e.minZoom,maxZoomReached:e.transform[2]>=e.maxZoom,ariaLabelConfig:e.ariaLabelConfig});function wg({style:e,showZoom:r=!0,showFitView:i=!0,showInteractive:s=!0,fitViewOptions:a,onZoomIn:l,onZoomOut:u,onFitView:d,onInteractiveChange:f,className:h,children:p,position:m="bottom-left",orientation:g="vertical","aria-label":y}){const N=Ve(),{isInteractive:k,minZoomReached:w,maxZoomReached:S,ariaLabelConfig:C}=Me(CE,Fe),{zoomIn:E,zoomOut:_,fitView:M}=ld(),O=()=>{E(),l==null||l()},F=()=>{_(),u==null||u()},V=()=>{M(a),d==null||d()},Z=()=>{N.setState({nodesDraggable:!k,nodesConnectable:!k,elementsSelectable:!k}),f==null||f(!k)},G=g==="horizontal"?"horizontal":"vertical";return x.jsxs(qa,{className:qe(["react-flow__controls",G,h]),position:m,style:e,"data-testid":"rf__controls","aria-label":y??C["controls.ariaLabel"],children:[r&&x.jsxs(x.Fragment,{children:[x.jsx(xa,{onClick:O,className:"react-flow__controls-zoomin",title:C["controls.zoomIn.ariaLabel"],"aria-label":C["controls.zoomIn.ariaLabel"],disabled:S,children:x.jsx(bE,{})}),x.jsx(xa,{onClick:F,className:"react-flow__controls-zoomout",title:C["controls.zoomOut.ariaLabel"],"aria-label":C["controls.zoomOut.ariaLabel"],disabled:w,children:x.jsx(kE,{})})]}),i&&x.jsx(xa,{className:"react-flow__controls-fitview",onClick:V,title:C["controls.fitView.ariaLabel"],"aria-label":C["controls.fitView.ariaLabel"],children:x.jsx(EE,{})}),s&&x.jsx(xa,{className:"react-flow__controls-interactive",onClick:Z,title:C["controls.interactive.ariaLabel"],"aria-label":C["controls.interactive.ariaLabel"],children:k?x.jsx(_E,{}):x.jsx(SE,{})}),p]})}wg.displayName="Controls";R.memo(wg);function jE({id:e,x:r,y:i,width:s,height:a,style:l,color:u,strokeColor:d,strokeWidth:f,className:h,borderRadius:p,shapeRendering:m,selected:g,onClick:y}){const{background:N,backgroundColor:k}=l||{},w=u||N||k;return x.jsx("rect",{className:qe(["react-flow__minimap-node",{selected:g},h]),x:r,y:i,rx:p,ry:p,width:s,height:a,style:{fill:w,stroke:d,strokeWidth:f},shapeRendering:m,onClick:y?S=>y(S,e):void 0})}const zE=R.memo(jE),ME=e=>e.nodes.map(r=>r.id),hc=e=>e instanceof Function?e:()=>e;function IE({nodeStrokeColor:e,nodeColor:r,nodeClassName:i="",nodeBorderRadius:s=5,nodeStrokeWidth:a,nodeComponent:l=zE,onClick:u}){const d=Me(ME,Fe),f=hc(r),h=hc(e),p=hc(i),m=typeof window>"u"||window.chrome?"crispEdges":"geometricPrecision";return x.jsx(x.Fragment,{children:d.map(g=>x.jsx(PE,{id:g,nodeColorFunc:f,nodeStrokeColorFunc:h,nodeClassNameFunc:p,nodeBorderRadius:s,nodeStrokeWidth:a,NodeComponent:l,onClick:u,shapeRendering:m},g))})}function LE({id:e,nodeColorFunc:r,nodeStrokeColorFunc:i,nodeClassNameFunc:s,nodeBorderRadius:a,nodeStrokeWidth:l,shapeRendering:u,NodeComponent:d,onClick:f}){const{node:h,x:p,y:m,width:g,height:y}=Me(N=>{const k=N.nodeLookup.get(e);if(!k)return{node:void 0,x:0,y:0,width:0,height:0};const w=k.internals.userNode,{x:S,y:C}=k.internals.positionAbsolute,{width:E,height:_}=kn(w);return{node:w,x:S,y:C,width:E,height:_}},Fe);return!h||h.hidden||!Nm(h)?null:x.jsx(d,{x:p,y:m,width:g,height:y,style:h.style,selected:!!h.selected,className:s(h),color:r(h),borderRadius:a,strokeColor:i(h),strokeWidth:l,shapeRendering:u,onClick:f,id:h.id})}const PE=R.memo(LE);var AE=R.memo(IE);const TE=200,RE=150,OE=e=>!e.hidden,DE=e=>{const r={x:-e.transform[0]/e.transform[2],y:-e.transform[1]/e.transform[2],width:e.width/e.transform[2],height:e.height/e.transform[2]};return{viewBB:r,boundingRect:e.nodeLookup.size>0?wm(Fo(e.nodeLookup,{filter:OE}),r):r,rfId:e.rfId,panZoom:e.panZoom,translateExtent:e.translateExtent,flowWidth:e.width,flowHeight:e.height,ariaLabelConfig:e.ariaLabelConfig}},$E="react-flow__minimap-desc";function Ng({style:e,className:r,nodeStrokeColor:i,nodeColor:s,nodeClassName:a="",nodeBorderRadius:l=5,nodeStrokeWidth:u,nodeComponent:d,bgColor:f,maskColor:h,maskStrokeColor:p,maskStrokeWidth:m,position:g="bottom-right",onClick:y,onNodeClick:N,pannable:k=!1,zoomable:w=!1,ariaLabel:S,inversePan:C,zoomStep:E=1,offsetScale:_=5}){const M=Ve(),O=R.useRef(null),{boundingRect:F,viewBB:V,rfId:Z,panZoom:G,translateExtent:X,flowWidth:B,flowHeight:D,ariaLabelConfig:j}=Me(DE,Fe),Q=(e==null?void 0:e.width)??TE,$=(e==null?void 0:e.height)??RE,W=F.width/Q,z=F.height/$,P=Math.max(W,z),H=P*Q,I=P*$,L=_*P,ee=F.x-(H-F.width)/2-L,Y=F.y-(I-F.height)/2-L,T=H+L*2,K=I+L*2,q=`${$E}-${Z}`,U=R.useRef(0),J=R.useRef();U.current=P,R.useEffect(()=>{if(O.current&&G)return J.current=tb({domNode:O.current,panZoom:G,getTransform:()=>M.getState().transform,getViewScale:()=>U.current}),()=>{var pe;(pe=J.current)==null||pe.destroy()}},[G]),R.useEffect(()=>{var pe;(pe=J.current)==null||pe.update({translateExtent:X,width:B,height:D,inversePan:C,pannable:k,zoomStep:E,zoomable:w})},[k,w,C,E,X,B,D]);const ie=y?pe=>{var Ce;const[ye,ke]=((Ce=J.current)==null?void 0:Ce.pointer(pe))||[0,0];y(pe,{x:ye,y:ke})}:void 0,le=N?R.useCallback((pe,ye)=>{const ke=M.getState().nodeLookup.get(ye).internals.userNode;N(pe,ke)},[]):void 0,he=S??j["minimap.ariaLabel"];return x.jsx(qa,{position:g,style:{...e,"--xy-minimap-background-color-props":typeof f=="string"?f:void 0,"--xy-minimap-mask-background-color-props":typeof h=="string"?h:void 0,"--xy-minimap-mask-stroke-color-props":typeof p=="string"?p:void 0,"--xy-minimap-mask-stroke-width-props":typeof m=="number"?m*P:void 0,"--xy-minimap-node-background-color-props":typeof s=="string"?s:void 0,"--xy-minimap-node-stroke-color-props":typeof i=="string"?i:void 0,"--xy-minimap-node-stroke-width-props":typeof u=="number"?u:void 0},className:qe(["react-flow__minimap",r]),"data-testid":"rf__minimap",children:x.jsxs("svg",{width:Q,height:$,viewBox:`${ee} ${Y} ${T} ${K}`,className:"react-flow__minimap-svg",role:"img","aria-labelledby":q,ref:O,onClick:ie,children:[he&&x.jsx("title",{id:q,children:he}),x.jsx(AE,{onClick:le,nodeColor:s,nodeStrokeColor:i,nodeBorderRadius:l,nodeClassName:a,nodeStrokeWidth:u,nodeComponent:d}),x.jsx("path",{className:"react-flow__minimap-mask",d:`M${ee-L},${Y-L}h${T+L*2}v${K+L*2}h${-T-L*2}z
        M${V.x},${V.y}h${V.width}v${V.height}h${-V.width}z`,fillRule:"evenodd",pointerEvents:"none"})]})})}Ng.displayName="MiniMap";const BE=R.memo(Ng),FE=e=>r=>e?`${Math.max(1/r.transform[2],1)}`:void 0,VE={[xi.Line]:"right",[xi.Handle]:"bottom-right"};function HE({nodeId:e,position:r,variant:i=xi.Handle,className:s,style:a=void 0,children:l,color:u,minWidth:d=10,minHeight:f=10,maxWidth:h=Number.MAX_VALUE,maxHeight:p=Number.MAX_VALUE,keepAspectRatio:m=!1,resizeDirection:g,autoScale:y=!0,shouldResize:N,onResizeStart:k,onResize:w,onResizeEnd:S}){const C=Jm(),E=typeof e=="string"?e:C,_=Ve(),M=R.useRef(null),O=i===xi.Handle,F=Me(R.useCallback(FE(O&&y),[O,y]),Fe),V=R.useRef(null),Z=r??VE[i];R.useEffect(()=>{if(!(!M.current||!E))return V.current||(V.current=mb({domNode:M.current,nodeId:E,getStoreItems:()=>{const{nodeLookup:X,transform:B,snapGrid:D,snapToGrid:j,nodeOrigin:Q,domNode:$}=_.getState();return{nodeLookup:X,transform:B,snapGrid:D,snapToGrid:j,nodeOrigin:Q,paneDomNode:$}},onChange:(X,B)=>{const{triggerNodeChanges:D,nodeLookup:j,parentLookup:Q,nodeOrigin:$}=_.getState(),W=[],z={x:X.x,y:X.y},P=j.get(E);if(P&&P.expandParent&&P.parentId){const H=P.origin??$,I=X.width??P.measured.width??0,L=X.height??P.measured.height??0,ee={id:P.id,parentId:P.parentId,rect:{width:I,height:L,...bm({x:X.x??P.position.x,y:X.y??P.position.y},{width:I,height:L},P.parentId,j,H)}},Y=ad([ee],j,Q,$);W.push(...Y),z.x=X.x?Math.max(H[0]*I,X.x):void 0,z.y=X.y?Math.max(H[1]*L,X.y):void 0}if(z.x!==void 0&&z.y!==void 0){const H={id:E,type:"position",position:{...z}};W.push(H)}if(X.width!==void 0&&X.height!==void 0){const I={id:E,type:"dimensions",resizing:!0,setAttributes:g?g==="horizontal"?"width":"height":!0,dimensions:{width:X.width,height:X.height}};W.push(I)}for(const H of B){const I={...H,type:"position"};W.push(I)}D(W)},onEnd:({width:X,height:B})=>{const D={id:E,type:"dimensions",resizing:!1,dimensions:{width:X,height:B}};_.getState().triggerNodeChanges([D])}})),V.current.update({controlPosition:Z,boundaries:{minWidth:d,minHeight:f,maxWidth:h,maxHeight:p},keepAspectRatio:m,resizeDirection:g,onResizeStart:k,onResize:w,onResizeEnd:S,shouldResize:N}),()=>{var X;(X=V.current)==null||X.destroy()}},[Z,d,f,h,p,m,k,w,S,N]);const G=Z.split("-");return x.jsx("div",{className:qe(["react-flow__resize-control","nodrag",...G,i,s]),ref:M,style:{...a,scale:F,...u&&{[O?"backgroundColor":"borderColor"]:u}},children:l})}R.memo(HE);var Ae=(e,r)=>()=>(r||e((r={exports:{}}).exports,r),r.exports),Gt=Ae((e,r)=>{var i=Object.defineProperty,s=(D,j,Q)=>j in D?i(D,j,{enumerable:!0,configurable:!0,writable:!0,value:Q}):D[j]=Q,a=(D,j)=>()=>(j||D((j={exports:{}}).exports,j),j.exports),l=(D,j,Q)=>s(D,typeof j!="symbol"?j+"":j,Q),u=a((D,j)=>{var Q="\0",$="\0",W="",z=class{constructor(Y){l(this,"_isDirected",!0),l(this,"_isMultigraph",!1),l(this,"_isCompound",!1),l(this,"_label"),l(this,"_defaultNodeLabelFn",()=>{}),l(this,"_defaultEdgeLabelFn",()=>{}),l(this,"_nodes",{}),l(this,"_in",{}),l(this,"_preds",{}),l(this,"_out",{}),l(this,"_sucs",{}),l(this,"_edgeObjs",{}),l(this,"_edgeLabels",{}),l(this,"_nodeCount",0),l(this,"_edgeCount",0),l(this,"_parent"),l(this,"_children"),Y&&(this._isDirected=Object.hasOwn(Y,"directed")?Y.directed:!0,this._isMultigraph=Object.hasOwn(Y,"multigraph")?Y.multigraph:!1,this._isCompound=Object.hasOwn(Y,"compound")?Y.compound:!1),this._isCompound&&(this._parent={},this._children={},this._children[$]={})}isDirected(){return this._isDirected}isMultigraph(){return this._isMultigraph}isCompound(){return this._isCompound}setGraph(Y){return this._label=Y,this}graph(){return this._label}setDefaultNodeLabel(Y){return this._defaultNodeLabelFn=Y,typeof Y!="function"&&(this._defaultNodeLabelFn=()=>Y),this}nodeCount(){return this._nodeCount}nodes(){return Object.keys(this._nodes)}sources(){var Y=this;return this.nodes().filter(T=>Object.keys(Y._in[T]).length===0)}sinks(){var Y=this;return this.nodes().filter(T=>Object.keys(Y._out[T]).length===0)}setNodes(Y,T){var K=arguments,q=this;return Y.forEach(function(U){K.length>1?q.setNode(U,T):q.setNode(U)}),this}setNode(Y,T){return Object.hasOwn(this._nodes,Y)?(arguments.length>1&&(this._nodes[Y]=T),this):(this._nodes[Y]=arguments.length>1?T:this._defaultNodeLabelFn(Y),this._isCompound&&(this._parent[Y]=$,this._children[Y]={},this._children[$][Y]=!0),this._in[Y]={},this._preds[Y]={},this._out[Y]={},this._sucs[Y]={},++this._nodeCount,this)}node(Y){return this._nodes[Y]}hasNode(Y){return Object.hasOwn(this._nodes,Y)}removeNode(Y){var T=this;if(Object.hasOwn(this._nodes,Y)){var K=q=>T.removeEdge(T._edgeObjs[q]);delete this._nodes[Y],this._isCompound&&(this._removeFromParentsChildList(Y),delete this._parent[Y],this.children(Y).forEach(function(q){T.setParent(q)}),delete this._children[Y]),Object.keys(this._in[Y]).forEach(K),delete this._in[Y],delete this._preds[Y],Object.keys(this._out[Y]).forEach(K),delete this._out[Y],delete this._sucs[Y],--this._nodeCount}return this}setParent(Y,T){if(!this._isCompound)throw new Error("Cannot set parent in a non-compound graph");if(T===void 0)T=$;else{T+="";for(var K=T;K!==void 0;K=this.parent(K))if(K===Y)throw new Error("Setting "+T+" as parent of "+Y+" would create a cycle");this.setNode(T)}return this.setNode(Y),this._removeFromParentsChildList(Y),this._parent[Y]=T,this._children[T][Y]=!0,this}_removeFromParentsChildList(Y){delete this._children[this._parent[Y]][Y]}parent(Y){if(this._isCompound){var T=this._parent[Y];if(T!==$)return T}}children(Y=$){if(this._isCompound){var T=this._children[Y];if(T)return Object.keys(T)}else{if(Y===$)return this.nodes();if(this.hasNode(Y))return[]}}predecessors(Y){var T=this._preds[Y];if(T)return Object.keys(T)}successors(Y){var T=this._sucs[Y];if(T)return Object.keys(T)}neighbors(Y){var T=this.predecessors(Y);if(T){let q=new Set(T);for(var K of this.successors(Y))q.add(K);return Array.from(q.values())}}isLeaf(Y){var T;return this.isDirected()?T=this.successors(Y):T=this.neighbors(Y),T.length===0}filterNodes(Y){var T=new this.constructor({directed:this._isDirected,multigraph:this._isMultigraph,compound:this._isCompound});T.setGraph(this.graph());var K=this;Object.entries(this._nodes).forEach(function([J,ie]){Y(J)&&T.setNode(J,ie)}),Object.values(this._edgeObjs).forEach(function(J){T.hasNode(J.v)&&T.hasNode(J.w)&&T.setEdge(J,K.edge(J))});var q={};function U(J){var ie=K.parent(J);return ie===void 0||T.hasNode(ie)?(q[J]=ie,ie):ie in q?q[ie]:U(ie)}return this._isCompound&&T.nodes().forEach(J=>T.setParent(J,U(J))),T}setDefaultEdgeLabel(Y){return this._defaultEdgeLabelFn=Y,typeof Y!="function"&&(this._defaultEdgeLabelFn=()=>Y),this}edgeCount(){return this._edgeCount}edges(){return Object.values(this._edgeObjs)}setPath(Y,T){var K=this,q=arguments;return Y.reduce(function(U,J){return q.length>1?K.setEdge(U,J,T):K.setEdge(U,J),J}),this}setEdge(){var Y,T,K,q,U=!1,J=arguments[0];typeof J=="object"&&J!==null&&"v"in J?(Y=J.v,T=J.w,K=J.name,arguments.length===2&&(q=arguments[1],U=!0)):(Y=J,T=arguments[1],K=arguments[3],arguments.length>2&&(q=arguments[2],U=!0)),Y=""+Y,T=""+T,K!==void 0&&(K=""+K);var ie=I(this._isDirected,Y,T,K);if(Object.hasOwn(this._edgeLabels,ie))return U&&(this._edgeLabels[ie]=q),this;if(K!==void 0&&!this._isMultigraph)throw new Error("Cannot set a named edge when isMultigraph = false");this.setNode(Y),this.setNode(T),this._edgeLabels[ie]=U?q:this._defaultEdgeLabelFn(Y,T,K);var le=L(this._isDirected,Y,T,K);return Y=le.v,T=le.w,Object.freeze(le),this._edgeObjs[ie]=le,P(this._preds[T],Y),P(this._sucs[Y],T),this._in[T][ie]=le,this._out[Y][ie]=le,this._edgeCount++,this}edge(Y,T,K){var q=arguments.length===1?ee(this._isDirected,arguments[0]):I(this._isDirected,Y,T,K);return this._edgeLabels[q]}edgeAsObj(){let Y=this.edge(...arguments);return typeof Y!="object"?{label:Y}:Y}hasEdge(Y,T,K){var q=arguments.length===1?ee(this._isDirected,arguments[0]):I(this._isDirected,Y,T,K);return Object.hasOwn(this._edgeLabels,q)}removeEdge(Y,T,K){var q=arguments.length===1?ee(this._isDirected,arguments[0]):I(this._isDirected,Y,T,K),U=this._edgeObjs[q];return U&&(Y=U.v,T=U.w,delete this._edgeLabels[q],delete this._edgeObjs[q],H(this._preds[T],Y),H(this._sucs[Y],T),delete this._in[T][q],delete this._out[Y][q],this._edgeCount--),this}inEdges(Y,T){return this.isDirected()?this.filterEdges(this._in[Y],Y,T):this.nodeEdges(Y,T)}outEdges(Y,T){return this.isDirected()?this.filterEdges(this._out[Y],Y,T):this.nodeEdges(Y,T)}nodeEdges(Y,T){if(Y in this._nodes)return this.filterEdges({...this._in[Y],...this._out[Y]},Y,T)}filterEdges(Y,T,K){if(Y){var q=Object.values(Y);return K?q.filter(function(U){return U.v===T&&U.w===K||U.v===K&&U.w===T}):q}}};function P(Y,T){Y[T]?Y[T]++:Y[T]=1}function H(Y,T){--Y[T]||delete Y[T]}function I(Y,T,K,q){var U=""+T,J=""+K;if(!Y&&U>J){var ie=U;U=J,J=ie}return U+W+J+W+(q===void 0?Q:q)}function L(Y,T,K,q){var U=""+T,J=""+K;if(!Y&&U>J){var ie=U;U=J,J=ie}var le={v:U,w:J};return q&&(le.name=q),le}function ee(Y,T){return I(Y,T.v,T.w,T.name)}j.exports=z}),d=a((D,j)=>{j.exports="3.0.2"}),f=a((D,j)=>{j.exports={Graph:u(),version:d()}}),h=a((D,j)=>{var Q=u();j.exports={write:$,read:P};function $(H){var I={options:{directed:H.isDirected(),multigraph:H.isMultigraph(),compound:H.isCompound()},nodes:W(H),edges:z(H)};return H.graph()!==void 0&&(I.value=structuredClone(H.graph())),I}function W(H){return H.nodes().map(function(I){var L=H.node(I),ee=H.parent(I),Y={v:I};return L!==void 0&&(Y.value=L),ee!==void 0&&(Y.parent=ee),Y})}function z(H){return H.edges().map(function(I){var L=H.edge(I),ee={v:I.v,w:I.w};return I.name!==void 0&&(ee.name=I.name),L!==void 0&&(ee.value=L),ee})}function P(H){var I=new Q(H.options).setGraph(H.value);return H.nodes.forEach(function(L){I.setNode(L.v,L.value),L.parent&&I.setParent(L.v,L.parent)}),H.edges.forEach(function(L){I.setEdge({v:L.v,w:L.w,name:L.name},L.value)}),I}}),p=a((D,j)=>{j.exports=$;var Q=()=>1;function $(z,P,H,I){return W(z,String(P),H||Q,I||function(L){return z.outEdges(L)})}function W(z,P,H,I){var L={},ee=!0,Y=0,T=z.nodes(),K=function(ie){var le=H(ie);L[ie.v].distance+le<L[ie.w].distance&&(L[ie.w]={distance:L[ie.v].distance+le,predecessor:ie.v},ee=!0)},q=function(){T.forEach(function(ie){I(ie).forEach(function(le){var he=le.v===ie?le.v:le.w,pe=he===le.v?le.w:le.v;K({v:he,w:pe})})})};T.forEach(function(ie){var le=ie===P?0:Number.POSITIVE_INFINITY;L[ie]={distance:le}});for(var U=T.length,J=1;J<U&&(ee=!1,Y++,q(),!!ee);J++);if(Y===U-1&&(ee=!1,q(),ee))throw new Error("The graph contains a negative weight cycle");return L}}),m=a((D,j)=>{j.exports=Q;function Q($){var W={},z=[],P;function H(I){Object.hasOwn(W,I)||(W[I]=!0,P.push(I),$.successors(I).forEach(H),$.predecessors(I).forEach(H))}return $.nodes().forEach(function(I){P=[],H(I),P.length&&z.push(P)}),z}}),g=a((D,j)=>{var Q=class{constructor(){l(this,"_arr",[]),l(this,"_keyIndices",{})}size(){return this._arr.length}keys(){return this._arr.map(function($){return $.key})}has($){return Object.hasOwn(this._keyIndices,$)}priority($){var W=this._keyIndices[$];if(W!==void 0)return this._arr[W].priority}min(){if(this.size()===0)throw new Error("Queue underflow");return this._arr[0].key}add($,W){var z=this._keyIndices;if($=String($),!Object.hasOwn(z,$)){var P=this._arr,H=P.length;return z[$]=H,P.push({key:$,priority:W}),this._decrease(H),!0}return!1}removeMin(){this._swap(0,this._arr.length-1);var $=this._arr.pop();return delete this._keyIndices[$.key],this._heapify(0),$.key}decrease($,W){var z=this._keyIndices[$];if(W>this._arr[z].priority)throw new Error("New priority is greater than current priority. Key: "+$+" Old: "+this._arr[z].priority+" New: "+W);this._arr[z].priority=W,this._decrease(z)}_heapify($){var W=this._arr,z=2*$,P=z+1,H=$;z<W.length&&(H=W[z].priority<W[H].priority?z:H,P<W.length&&(H=W[P].priority<W[H].priority?P:H),H!==$&&(this._swap($,H),this._heapify(H)))}_decrease($){for(var W=this._arr,z=W[$].priority,P;$!==0&&(P=$>>1,!(W[P].priority<z));)this._swap($,P),$=P}_swap($,W){var z=this._arr,P=this._keyIndices,H=z[$],I=z[W];z[$]=I,z[W]=H,P[I.key]=$,P[H.key]=W}};j.exports=Q}),y=a((D,j)=>{var Q=g();j.exports=W;var $=()=>1;function W(P,H,I,L){var ee=function(Y){return P.outEdges(Y)};return z(P,String(H),I||$,L||ee)}function z(P,H,I,L){var ee={},Y=new Q,T,K,q=function(U){var J=U.v!==T?U.v:U.w,ie=ee[J],le=I(U),he=K.distance+le;if(le<0)throw new Error("dijkstra does not allow negative edge weights. Bad edge: "+U+" Weight: "+le);he<ie.distance&&(ie.distance=he,ie.predecessor=T,Y.decrease(J,he))};for(P.nodes().forEach(function(U){var J=U===H?0:Number.POSITIVE_INFINITY;ee[U]={distance:J},Y.add(U,J)});Y.size()>0&&(T=Y.removeMin(),K=ee[T],K.distance!==Number.POSITIVE_INFINITY);)L(T).forEach(q);return ee}}),N=a((D,j)=>{var Q=y();j.exports=$;function $(W,z,P){return W.nodes().reduce(function(H,I){return H[I]=Q(W,I,z,P),H},{})}}),k=a((D,j)=>{j.exports=Q;function Q(W,z,P){if(W[z].predecessor!==void 0)throw new Error("Invalid source vertex");if(W[P].predecessor===void 0&&P!==z)throw new Error("Invalid destination vertex");return{weight:W[P].distance,path:$(W,z,P)}}function $(W,z,P){for(var H=[],I=P;I!==z;)H.push(I),I=W[I].predecessor;return H.push(z),H.reverse()}}),w=a((D,j)=>{j.exports=Q;function Q($){var W=0,z=[],P={},H=[];function I(L){var ee=P[L]={onStack:!0,lowlink:W,index:W++};if(z.push(L),$.successors(L).forEach(function(K){Object.hasOwn(P,K)?P[K].onStack&&(ee.lowlink=Math.min(ee.lowlink,P[K].index)):(I(K),ee.lowlink=Math.min(ee.lowlink,P[K].lowlink))}),ee.lowlink===ee.index){var Y=[],T;do T=z.pop(),P[T].onStack=!1,Y.push(T);while(L!==T);H.push(Y)}}return $.nodes().forEach(function(L){Object.hasOwn(P,L)||I(L)}),H}}),S=a((D,j)=>{var Q=w();j.exports=$;function $(W){return Q(W).filter(function(z){return z.length>1||z.length===1&&W.hasEdge(z[0],z[0])})}}),C=a((D,j)=>{j.exports=$;var Q=()=>1;function $(z,P,H){return W(z,P||Q,H||function(I){return z.outEdges(I)})}function W(z,P,H){var I={},L=z.nodes();return L.forEach(function(ee){I[ee]={},I[ee][ee]={distance:0},L.forEach(function(Y){ee!==Y&&(I[ee][Y]={distance:Number.POSITIVE_INFINITY})}),H(ee).forEach(function(Y){var T=Y.v===ee?Y.w:Y.v,K=P(Y);I[ee][T]={distance:K,predecessor:ee}})}),L.forEach(function(ee){var Y=I[ee];L.forEach(function(T){var K=I[T];L.forEach(function(q){var U=K[ee],J=Y[q],ie=K[q],le=U.distance+J.distance;le<ie.distance&&(ie.distance=le,ie.predecessor=J.predecessor)})})}),I}}),E=a((D,j)=>{function Q(W){var z={},P={},H=[];function I(L){if(Object.hasOwn(P,L))throw new $;Object.hasOwn(z,L)||(P[L]=!0,z[L]=!0,W.predecessors(L).forEach(I),delete P[L],H.push(L))}if(W.sinks().forEach(I),Object.keys(z).length!==W.nodeCount())throw new $;return H}var $=class extends Error{constructor(){super(...arguments)}};j.exports=Q,Q.CycleException=$}),_=a((D,j)=>{var Q=E();j.exports=$;function $(W){try{Q(W)}catch(z){if(z instanceof Q.CycleException)return!1;throw z}return!0}}),M=a((D,j)=>{j.exports=Q;function Q(W,z,P,H,I){Array.isArray(z)||(z=[z]);var L=(W.isDirected()?W.successors:W.neighbors).bind(W),ee={};return z.forEach(function(Y){if(!W.hasNode(Y))throw new Error("Graph does not have node: "+Y);I=$(W,Y,P==="post",ee,L,H,I)}),I}function $(W,z,P,H,I,L,ee){return Object.hasOwn(H,z)||(H[z]=!0,P||(ee=L(ee,z)),I(z).forEach(function(Y){ee=$(W,Y,P,H,I,L,ee)}),P&&(ee=L(ee,z))),ee}}),O=a((D,j)=>{var Q=M();j.exports=$;function $(W,z,P){return Q(W,z,P,function(H,I){return H.push(I),H},[])}}),F=a((D,j)=>{var Q=O();j.exports=$;function $(W,z){return Q(W,z,"post")}}),V=a((D,j)=>{var Q=O();j.exports=$;function $(W,z){return Q(W,z,"pre")}}),Z=a((D,j)=>{var Q=u(),$=g();j.exports=W;function W(z,P){var H=new Q,I={},L=new $,ee;function Y(K){var q=K.v===ee?K.w:K.v,U=L.priority(q);if(U!==void 0){var J=P(K);J<U&&(I[q]=ee,L.decrease(q,J))}}if(z.nodeCount()===0)return H;z.nodes().forEach(function(K){L.add(K,Number.POSITIVE_INFINITY),H.setNode(K)}),L.decrease(z.nodes()[0],0);for(var T=!1;L.size()>0;){if(ee=L.removeMin(),Object.hasOwn(I,ee))H.setEdge(ee,I[ee]);else{if(T)throw new Error("Input graph is not connected: "+z);T=!0}z.nodeEdges(ee).forEach(Y)}return H}}),G=a((D,j)=>{var Q=y(),$=p();j.exports=W;function W(P,H,I,L){return z(P,H,I,L||function(ee){return P.outEdges(ee)})}function z(P,H,I,L){if(I===void 0)return Q(P,H,I,L);for(var ee=!1,Y=P.nodes(),T=0;T<Y.length;T++){for(var K=L(Y[T]),q=0;q<K.length;q++){var U=K[q],J=U.v===Y[T]?U.v:U.w,ie=J===U.v?U.w:U.v;I({v:J,w:ie})<0&&(ee=!0)}if(ee)return $(P,H,I,L)}return Q(P,H,I,L)}}),X=a((D,j)=>{j.exports={bellmanFord:p(),components:m(),dijkstra:y(),dijkstraAll:N(),extractPath:k(),findCycles:S(),floydWarshall:C(),isAcyclic:_(),postorder:F(),preorder:V(),prim:Z(),shortestPaths:G(),reduce:M(),tarjan:w(),topsort:E()}}),B=f();r.exports={Graph:B.Graph,json:h(),alg:X(),version:B.version}}),WE=Ae((e,r)=>{var i=class{constructor(){let l={};l._next=l._prev=l,this._sentinel=l}dequeue(){let l=this._sentinel,u=l._prev;if(u!==l)return s(u),u}enqueue(l){let u=this._sentinel;l._prev&&l._next&&s(l),l._next=u._next,u._next._prev=l,u._next=l,l._prev=u}toString(){let l=[],u=this._sentinel,d=u._prev;for(;d!==u;)l.push(JSON.stringify(d,a)),d=d._prev;return"["+l.join(", ")+"]"}};function s(l){l._prev._next=l._next,l._next._prev=l._prev,delete l._next,delete l._prev}function a(l,u){if(l!=="_next"&&l!=="_prev")return u}r.exports=i}),UE=Ae((e,r)=>{var i=Gt().Graph,s=WE();r.exports=l;var a=()=>1;function l(m,g){if(m.nodeCount()<=1)return[];let y=f(m,g||a);return u(y.graph,y.buckets,y.zeroIdx).flatMap(N=>m.outEdges(N.v,N.w))}function u(m,g,y){let N=[],k=g[g.length-1],w=g[0],S;for(;m.nodeCount();){for(;S=w.dequeue();)d(m,g,y,S);for(;S=k.dequeue();)d(m,g,y,S);if(m.nodeCount()){for(let C=g.length-2;C>0;--C)if(S=g[C].dequeue(),S){N=N.concat(d(m,g,y,S,!0));break}}}return N}function d(m,g,y,N,k){let w=k?[]:void 0;return m.inEdges(N.v).forEach(S=>{let C=m.edge(S),E=m.node(S.v);k&&w.push({v:S.v,w:S.w}),E.out-=C,h(g,y,E)}),m.outEdges(N.v).forEach(S=>{let C=m.edge(S),E=S.w,_=m.node(E);_.in-=C,h(g,y,_)}),m.removeNode(N.v),w}function f(m,g){let y=new i,N=0,k=0;m.nodes().forEach(C=>{y.setNode(C,{v:C,in:0,out:0})}),m.edges().forEach(C=>{let E=y.edge(C.v,C.w)||0,_=g(C),M=E+_;y.setEdge(C.v,C.w,M),k=Math.max(k,y.node(C.v).out+=_),N=Math.max(N,y.node(C.w).in+=_)});let w=p(k+N+3).map(()=>new s),S=N+1;return y.nodes().forEach(C=>{h(w,S,y.node(C))}),{graph:y,buckets:w,zeroIdx:S}}function h(m,g,y){y.out?y.in?m[y.out-y.in+g].enqueue(y):m[m.length-1].enqueue(y):m[0].enqueue(y)}function p(m){let g=[];for(let y=0;y<m;y++)g.push(y);return g}}),Ke=Ae((e,r)=>{var i=Gt().Graph;r.exports={addBorderNode:g,addDummyNode:s,applyWithChunking:k,asNonCompoundGraph:l,buildLayerMatrix:h,intersectRect:f,mapValues:V,maxRank:w,normalizeRanks:p,notime:E,partition:S,pick:F,predecessorWeights:d,range:O,removeEmptyRanks:m,simplify:a,successorWeights:u,time:C,uniqueId:M,zipObject:Z};function s(G,X,B,D){for(var j=D;G.hasNode(j);)j=M(D);return B.dummy=X,G.setNode(j,B),j}function a(G){let X=new i().setGraph(G.graph());return G.nodes().forEach(B=>X.setNode(B,G.node(B))),G.edges().forEach(B=>{let D=X.edge(B.v,B.w)||{weight:0,minlen:1},j=G.edge(B);X.setEdge(B.v,B.w,{weight:D.weight+j.weight,minlen:Math.max(D.minlen,j.minlen)})}),X}function l(G){let X=new i({multigraph:G.isMultigraph()}).setGraph(G.graph());return G.nodes().forEach(B=>{G.children(B).length||X.setNode(B,G.node(B))}),G.edges().forEach(B=>{X.setEdge(B,G.edge(B))}),X}function u(G){let X=G.nodes().map(B=>{let D={};return G.outEdges(B).forEach(j=>{D[j.w]=(D[j.w]||0)+G.edge(j).weight}),D});return Z(G.nodes(),X)}function d(G){let X=G.nodes().map(B=>{let D={};return G.inEdges(B).forEach(j=>{D[j.v]=(D[j.v]||0)+G.edge(j).weight}),D});return Z(G.nodes(),X)}function f(G,X){let B=G.x,D=G.y,j=X.x-B,Q=X.y-D,$=G.width/2,W=G.height/2;if(!j&&!Q)throw new Error("Not possible to find intersection inside of the rectangle");let z,P;return Math.abs(Q)*$>Math.abs(j)*W?(Q<0&&(W=-W),z=W*j/Q,P=W):(j<0&&($=-$),z=$,P=$*Q/j),{x:B+z,y:D+P}}function h(G){let X=O(w(G)+1).map(()=>[]);return G.nodes().forEach(B=>{let D=G.node(B),j=D.rank;j!==void 0&&(X[j][D.order]=B)}),X}function p(G){let X=G.nodes().map(D=>{let j=G.node(D).rank;return j===void 0?Number.MAX_VALUE:j}),B=k(Math.min,X);G.nodes().forEach(D=>{let j=G.node(D);Object.hasOwn(j,"rank")&&(j.rank-=B)})}function m(G){let X=G.nodes().map($=>G.node($).rank).filter($=>$!==void 0),B=k(Math.min,X),D=[];G.nodes().forEach($=>{let W=G.node($).rank-B;D[W]||(D[W]=[]),D[W].push($)});let j=0,Q=G.graph().nodeRankFactor;Array.from(D).forEach(($,W)=>{$===void 0&&W%Q!==0?--j:$!==void 0&&j&&$.forEach(z=>G.node(z).rank+=j)})}function g(G,X,B,D){let j={width:0,height:0};return arguments.length>=4&&(j.rank=B,j.order=D),s(G,"border",j,X)}function y(G,X=N){let B=[];for(let D=0;D<G.length;D+=X){let j=G.slice(D,D+X);B.push(j)}return B}var N=65535;function k(G,X){if(X.length>N){let B=y(X);return G.apply(null,B.map(D=>G.apply(null,D)))}else return G.apply(null,X)}function w(G){let X=G.nodes().map(B=>{let D=G.node(B).rank;return D===void 0?Number.MIN_VALUE:D});return k(Math.max,X)}function S(G,X){let B={lhs:[],rhs:[]};return G.forEach(D=>{X(D)?B.lhs.push(D):B.rhs.push(D)}),B}function C(G,X){let B=Date.now();try{return X()}finally{console.log(G+" time: "+(Date.now()-B)+"ms")}}function E(G,X){return X()}var _=0;function M(G){var X=++_;return G+(""+X)}function O(G,X,B=1){X==null&&(X=G,G=0);let D=Q=>Q<X;B<0&&(D=Q=>X<Q);let j=[];for(let Q=G;D(Q);Q+=B)j.push(Q);return j}function F(G,X){let B={};for(let D of X)G[D]!==void 0&&(B[D]=G[D]);return B}function V(G,X){let B=X;return typeof X=="string"&&(B=D=>D[X]),Object.entries(G).reduce((D,[j,Q])=>(D[j]=B(Q,j),D),{})}function Z(G,X){return G.reduce((B,D,j)=>(B[D]=X[j],B),{})}}),YE=Ae((e,r)=>{var i=UE(),s=Ke().uniqueId;r.exports={run:a,undo:u};function a(d){(d.graph().acyclicer==="greedy"?i(d,f(d)):l(d)).forEach(h=>{let p=d.edge(h);d.removeEdge(h),p.forwardName=h.name,p.reversed=!0,d.setEdge(h.w,h.v,p,s("rev"))});function f(h){return p=>h.edge(p).weight}}function l(d){let f=[],h={},p={};function m(g){Object.hasOwn(p,g)||(p[g]=!0,h[g]=!0,d.outEdges(g).forEach(y=>{Object.hasOwn(h,y.w)?f.push(y):m(y.w)}),delete h[g])}return d.nodes().forEach(m),f}function u(d){d.edges().forEach(f=>{let h=d.edge(f);if(h.reversed){d.removeEdge(f);let p=h.forwardName;delete h.reversed,delete h.forwardName,d.setEdge(f.w,f.v,h,p)}})}}),XE=Ae((e,r)=>{var i=Ke();r.exports={run:s,undo:l};function s(u){u.graph().dummyChains=[],u.edges().forEach(d=>a(u,d))}function a(u,d){let f=d.v,h=u.node(f).rank,p=d.w,m=u.node(p).rank,g=d.name,y=u.edge(d),N=y.labelRank;if(m===h+1)return;u.removeEdge(d);let k,w,S;for(S=0,++h;h<m;++S,++h)y.points=[],w={width:0,height:0,edgeLabel:y,edgeObj:d,rank:h},k=i.addDummyNode(u,"edge",w,"_d"),h===N&&(w.width=y.width,w.height=y.height,w.dummy="edge-label",w.labelpos=y.labelpos),u.setEdge(f,k,{weight:y.weight},g),S===0&&u.graph().dummyChains.push(k),f=k;u.setEdge(f,p,{weight:y.weight},g)}function l(u){u.graph().dummyChains.forEach(d=>{let f=u.node(d),h=f.edgeLabel,p;for(u.setEdge(f.edgeObj,h);f.dummy;)p=u.successors(d)[0],u.removeNode(d),h.points.push({x:f.x,y:f.y}),f.dummy==="edge-label"&&(h.x=f.x,h.y=f.y,h.width=f.width,h.height=f.height),d=p,f=u.node(d)})}}),Oa=Ae((e,r)=>{var{applyWithChunking:i}=Ke();r.exports={longestPath:s,slack:a};function s(l){var u={};function d(f){var h=l.node(f);if(Object.hasOwn(u,f))return h.rank;u[f]=!0;let p=l.outEdges(f).map(g=>g==null?Number.POSITIVE_INFINITY:d(g.w)-l.edge(g).minlen);var m=i(Math.min,p);return m===Number.POSITIVE_INFINITY&&(m=0),h.rank=m}l.sources().forEach(d)}function a(l,u){return l.node(u.w).rank-l.node(u.v).rank-l.edge(u).minlen}}),bg=Ae((e,r)=>{var i=Gt().Graph,s=Oa().slack;r.exports=a;function a(f){var h=new i({directed:!1}),p=f.nodes()[0],m=f.nodeCount();h.setNode(p,{});for(var g,y;l(h,f)<m;)g=u(h,f),y=h.hasNode(g.v)?s(f,g):-s(f,g),d(h,f,y);return h}function l(f,h){function p(m){h.nodeEdges(m).forEach(g=>{var y=g.v,N=m===y?g.w:y;!f.hasNode(N)&&!s(h,g)&&(f.setNode(N,{}),f.setEdge(m,N,{}),p(N))})}return f.nodes().forEach(p),f.nodeCount()}function u(f,h){return h.edges().reduce((p,m)=>{let g=Number.POSITIVE_INFINITY;return f.hasNode(m.v)!==f.hasNode(m.w)&&(g=s(h,m)),g<p[0]?[g,m]:p},[Number.POSITIVE_INFINITY,null])[1]}function d(f,h,p){f.nodes().forEach(m=>h.node(m).rank+=p)}}),GE=Ae((e,r)=>{var i=bg(),s=Oa().slack,a=Oa().longestPath,l=Gt().alg.preorder,u=Gt().alg.postorder,d=Ke().simplify;r.exports=f,f.initLowLimValues=g,f.initCutValues=h,f.calcCutValue=m,f.leaveEdge=N,f.enterEdge=k,f.exchangeEdges=w;function f(_){_=d(_),a(_);var M=i(_);g(M),h(M,_);for(var O,F;O=N(M);)F=k(M,_,O),w(M,_,O,F)}function h(_,M){var O=u(_,_.nodes());O=O.slice(0,O.length-1),O.forEach(F=>p(_,M,F))}function p(_,M,O){var F=_.node(O),V=F.parent;_.edge(O,V).cutvalue=m(_,M,O)}function m(_,M,O){var F=_.node(O),V=F.parent,Z=!0,G=M.edge(O,V),X=0;return G||(Z=!1,G=M.edge(V,O)),X=G.weight,M.nodeEdges(O).forEach(B=>{var D=B.v===O,j=D?B.w:B.v;if(j!==V){var Q=D===Z,$=M.edge(B).weight;if(X+=Q?$:-$,C(_,O,j)){var W=_.edge(O,j).cutvalue;X+=Q?-W:W}}}),X}function g(_,M){arguments.length<2&&(M=_.nodes()[0]),y(_,{},1,M)}function y(_,M,O,F,V){var Z=O,G=_.node(F);return M[F]=!0,_.neighbors(F).forEach(X=>{Object.hasOwn(M,X)||(O=y(_,M,O,X,F))}),G.low=Z,G.lim=O++,V?G.parent=V:delete G.parent,O}function N(_){return _.edges().find(M=>_.edge(M).cutvalue<0)}function k(_,M,O){var F=O.v,V=O.w;M.hasEdge(F,V)||(F=O.w,V=O.v);var Z=_.node(F),G=_.node(V),X=Z,B=!1;Z.lim>G.lim&&(X=G,B=!0);var D=M.edges().filter(j=>B===E(_,_.node(j.v),X)&&B!==E(_,_.node(j.w),X));return D.reduce((j,Q)=>s(M,Q)<s(M,j)?Q:j)}function w(_,M,O,F){var V=O.v,Z=O.w;_.removeEdge(V,Z),_.setEdge(F.v,F.w,{}),g(_),h(_,M),S(_,M)}function S(_,M){var O=_.nodes().find(V=>!M.node(V).parent),F=l(_,O);F=F.slice(1),F.forEach(V=>{var Z=_.node(V).parent,G=M.edge(V,Z),X=!1;G||(G=M.edge(Z,V),X=!0),M.node(V).rank=M.node(Z).rank+(X?G.minlen:-G.minlen)})}function C(_,M,O){return _.hasEdge(M,O)}function E(_,M,O){return O.low<=M.lim&&M.lim<=O.lim}}),QE=Ae((e,r)=>{var i=Oa(),s=i.longestPath,a=bg(),l=GE();r.exports=u;function u(p){var m=p.graph().ranker;if(m instanceof Function)return m(p);switch(p.graph().ranker){case"network-simplex":h(p);break;case"tight-tree":f(p);break;case"longest-path":d(p);break;case"none":break;default:h(p)}}var d=s;function f(p){s(p),a(p)}function h(p){l(p)}}),KE=Ae((e,r)=>{r.exports=i;function i(l){let u=a(l);l.graph().dummyChains.forEach(d=>{let f=l.node(d),h=f.edgeObj,p=s(l,u,h.v,h.w),m=p.path,g=p.lca,y=0,N=m[y],k=!0;for(;d!==h.w;){if(f=l.node(d),k){for(;(N=m[y])!==g&&l.node(N).maxRank<f.rank;)y++;N===g&&(k=!1)}if(!k){for(;y<m.length-1&&l.node(N=m[y+1]).minRank<=f.rank;)y++;N=m[y]}l.setParent(d,N),d=l.successors(d)[0]}})}function s(l,u,d,f){let h=[],p=[],m=Math.min(u[d].low,u[f].low),g=Math.max(u[d].lim,u[f].lim),y,N;y=d;do y=l.parent(y),h.push(y);while(y&&(u[y].low>m||g>u[y].lim));for(N=y,y=f;(y=l.parent(y))!==N;)p.push(y);return{path:h.concat(p.reverse()),lca:N}}function a(l){let u={},d=0;function f(h){let p=d;l.children(h).forEach(f),u[h]={low:p,lim:d++}}return l.children().forEach(f),u}}),qE=Ae((e,r)=>{var i=Ke();r.exports={run:s,cleanup:d};function s(f){let h=i.addDummyNode(f,"root",{},"_root"),p=l(f),m=Object.values(p),g=i.applyWithChunking(Math.max,m)-1,y=2*g+1;f.graph().nestingRoot=h,f.edges().forEach(k=>f.edge(k).minlen*=y);let N=u(f)+1;f.children().forEach(k=>a(f,h,y,N,g,p,k)),f.graph().nodeRankFactor=y}function a(f,h,p,m,g,y,N){let k=f.children(N);if(!k.length){N!==h&&f.setEdge(h,N,{weight:0,minlen:p});return}let w=i.addBorderNode(f,"_bt"),S=i.addBorderNode(f,"_bb"),C=f.node(N);f.setParent(w,N),C.borderTop=w,f.setParent(S,N),C.borderBottom=S,k.forEach(E=>{a(f,h,p,m,g,y,E);let _=f.node(E),M=_.borderTop?_.borderTop:E,O=_.borderBottom?_.borderBottom:E,F=_.borderTop?m:2*m,V=M!==O?1:g-y[N]+1;f.setEdge(w,M,{weight:F,minlen:V,nestingEdge:!0}),f.setEdge(O,S,{weight:F,minlen:V,nestingEdge:!0})}),f.parent(N)||f.setEdge(h,w,{weight:0,minlen:g+y[N]})}function l(f){var h={};function p(m,g){var y=f.children(m);y&&y.length&&y.forEach(N=>p(N,g+1)),h[m]=g}return f.children().forEach(m=>p(m,1)),h}function u(f){return f.edges().reduce((h,p)=>h+f.edge(p).weight,0)}function d(f){var h=f.graph();f.removeNode(h.nestingRoot),delete h.nestingRoot,f.edges().forEach(p=>{var m=f.edge(p);m.nestingEdge&&f.removeEdge(p)})}}),ZE=Ae((e,r)=>{var i=Ke();r.exports=s;function s(l){function u(d){let f=l.children(d),h=l.node(d);if(f.length&&f.forEach(u),Object.hasOwn(h,"minRank")){h.borderLeft=[],h.borderRight=[];for(let p=h.minRank,m=h.maxRank+1;p<m;++p)a(l,"borderLeft","_bl",d,h,p),a(l,"borderRight","_br",d,h,p)}}l.children().forEach(u)}function a(l,u,d,f,h,p){let m={width:0,height:0,rank:p,borderType:u},g=h[u][p-1],y=i.addDummyNode(l,"border",m,d);h[u][p]=y,l.setParent(y,f),g&&l.setEdge(g,y,{weight:1})}}),JE=Ae((e,r)=>{r.exports={adjust:i,undo:s};function i(p){let m=p.graph().rankdir.toLowerCase();(m==="lr"||m==="rl")&&a(p)}function s(p){let m=p.graph().rankdir.toLowerCase();(m==="bt"||m==="rl")&&u(p),(m==="lr"||m==="rl")&&(f(p),a(p))}function a(p){p.nodes().forEach(m=>l(p.node(m))),p.edges().forEach(m=>l(p.edge(m)))}function l(p){let m=p.width;p.width=p.height,p.height=m}function u(p){p.nodes().forEach(m=>d(p.node(m))),p.edges().forEach(m=>{let g=p.edge(m);g.points.forEach(d),Object.hasOwn(g,"y")&&d(g)})}function d(p){p.y=-p.y}function f(p){p.nodes().forEach(m=>h(p.node(m))),p.edges().forEach(m=>{let g=p.edge(m);g.points.forEach(h),Object.hasOwn(g,"x")&&h(g)})}function h(p){let m=p.x;p.x=p.y,p.y=m}}),eS=Ae((e,r)=>{var i=Ke();r.exports=s;function s(a){let l={},u=a.nodes().filter(m=>!a.children(m).length),d=u.map(m=>a.node(m).rank),f=i.applyWithChunking(Math.max,d),h=i.range(f+1).map(()=>[]);function p(m){if(l[m])return;l[m]=!0;let g=a.node(m);h[g.rank].push(m),a.successors(m).forEach(p)}return u.sort((m,g)=>a.node(m).rank-a.node(g).rank).forEach(p),h}}),tS=Ae((e,r)=>{var i=Ke().zipObject;r.exports=s;function s(l,u){let d=0;for(let f=1;f<u.length;++f)d+=a(l,u[f-1],u[f]);return d}function a(l,u,d){let f=i(d,d.map((N,k)=>k)),h=u.flatMap(N=>l.outEdges(N).map(k=>({pos:f[k.w],weight:l.edge(k).weight})).sort((k,w)=>k.pos-w.pos)),p=1;for(;p<d.length;)p<<=1;let m=2*p-1;p-=1;let g=new Array(m).fill(0),y=0;return h.forEach(N=>{let k=N.pos+p;g[k]+=N.weight;let w=0;for(;k>0;)k%2&&(w+=g[k+1]),k=k-1>>1,g[k]+=N.weight;y+=N.weight*w}),y}}),nS=Ae((e,r)=>{r.exports=i;function i(s,a=[]){return a.map(l=>{let u=s.inEdges(l);if(u.length){let d=u.reduce((f,h)=>{let p=s.edge(h),m=s.node(h.v);return{sum:f.sum+p.weight*m.order,weight:f.weight+p.weight}},{sum:0,weight:0});return{v:l,barycenter:d.sum/d.weight,weight:d.weight}}else return{v:l}})}}),rS=Ae((e,r)=>{var i=Ke();r.exports=s;function s(u,d){let f={};u.forEach((p,m)=>{let g=f[p.v]={indegree:0,in:[],out:[],vs:[p.v],i:m};p.barycenter!==void 0&&(g.barycenter=p.barycenter,g.weight=p.weight)}),d.edges().forEach(p=>{let m=f[p.v],g=f[p.w];m!==void 0&&g!==void 0&&(g.indegree++,m.out.push(f[p.w]))});let h=Object.values(f).filter(p=>!p.indegree);return a(h)}function a(u){let d=[];function f(p){return m=>{m.merged||(m.barycenter===void 0||p.barycenter===void 0||m.barycenter>=p.barycenter)&&l(p,m)}}function h(p){return m=>{m.in.push(p),--m.indegree===0&&u.push(m)}}for(;u.length;){let p=u.pop();d.push(p),p.in.reverse().forEach(f(p)),p.out.forEach(h(p))}return d.filter(p=>!p.merged).map(p=>i.pick(p,["vs","i","barycenter","weight"]))}function l(u,d){let f=0,h=0;u.weight&&(f+=u.barycenter*u.weight,h+=u.weight),d.weight&&(f+=d.barycenter*d.weight,h+=d.weight),u.vs=d.vs.concat(u.vs),u.barycenter=f/h,u.weight=h,u.i=Math.min(d.i,u.i),d.merged=!0}}),iS=Ae((e,r)=>{var i=Ke();r.exports=s;function s(u,d){let f=i.partition(u,w=>Object.hasOwn(w,"barycenter")),h=f.lhs,p=f.rhs.sort((w,S)=>S.i-w.i),m=[],g=0,y=0,N=0;h.sort(l(!!d)),N=a(m,p,N),h.forEach(w=>{N+=w.vs.length,m.push(w.vs),g+=w.barycenter*w.weight,y+=w.weight,N=a(m,p,N)});let k={vs:m.flat(!0)};return y&&(k.barycenter=g/y,k.weight=y),k}function a(u,d,f){let h;for(;d.length&&(h=d[d.length-1]).i<=f;)d.pop(),u.push(h.vs),f++;return f}function l(u){return(d,f)=>d.barycenter<f.barycenter?-1:d.barycenter>f.barycenter?1:u?f.i-d.i:d.i-f.i}}),oS=Ae((e,r)=>{var i=nS(),s=rS(),a=iS();r.exports=l;function l(f,h,p,m){let g=f.children(h),y=f.node(h),N=y?y.borderLeft:void 0,k=y?y.borderRight:void 0,w={};N&&(g=g.filter(_=>_!==N&&_!==k));let S=i(f,g);S.forEach(_=>{if(f.children(_.v).length){let M=l(f,_.v,p,m);w[_.v]=M,Object.hasOwn(M,"barycenter")&&d(_,M)}});let C=s(S,p);u(C,w);let E=a(C,m);if(N&&(E.vs=[N,E.vs,k].flat(!0),f.predecessors(N).length)){let _=f.node(f.predecessors(N)[0]),M=f.node(f.predecessors(k)[0]);Object.hasOwn(E,"barycenter")||(E.barycenter=0,E.weight=0),E.barycenter=(E.barycenter*E.weight+_.order+M.order)/(E.weight+2),E.weight+=2}return E}function u(f,h){f.forEach(p=>{p.vs=p.vs.flatMap(m=>h[m]?h[m].vs:m)})}function d(f,h){f.barycenter!==void 0?(f.barycenter=(f.barycenter*f.weight+h.barycenter*h.weight)/(f.weight+h.weight),f.weight+=h.weight):(f.barycenter=h.barycenter,f.weight=h.weight)}}),sS=Ae((e,r)=>{var i=Gt().Graph,s=Ke();r.exports=a;function a(u,d,f,h){h||(h=u.nodes());let p=l(u),m=new i({compound:!0}).setGraph({root:p}).setDefaultNodeLabel(g=>u.node(g));return h.forEach(g=>{let y=u.node(g),N=u.parent(g);(y.rank===d||y.minRank<=d&&d<=y.maxRank)&&(m.setNode(g),m.setParent(g,N||p),u[f](g).forEach(k=>{let w=k.v===g?k.w:k.v,S=m.edge(w,g),C=S!==void 0?S.weight:0;m.setEdge(w,g,{weight:u.edge(k).weight+C})}),Object.hasOwn(y,"minRank")&&m.setNode(g,{borderLeft:y.borderLeft[d],borderRight:y.borderRight[d]}))}),m}function l(u){for(var d;u.hasNode(d=s.uniqueId("_root")););return d}}),aS=Ae((e,r)=>{r.exports=i;function i(s,a,l){let u={},d;l.forEach(f=>{let h=s.parent(f),p,m;for(;h;){if(p=s.parent(h),p?(m=u[p],u[p]=h):(m=d,d=h),m&&m!==h){a.setEdge(m,h);return}h=p}})}}),lS=Ae((e,r)=>{var i=eS(),s=tS(),a=oS(),l=sS(),u=aS(),d=Gt().Graph,f=Ke();r.exports=h;function h(y,N={}){if(typeof N.customOrder=="function"){N.customOrder(y,h);return}let k=f.maxRank(y),w=p(y,f.range(1,k+1),"inEdges"),S=p(y,f.range(k-1,-1,-1),"outEdges"),C=i(y);if(g(y,C),N.disableOptimalOrderHeuristic)return;let E=Number.POSITIVE_INFINITY,_,M=N.constraints||[];for(let O=0,F=0;F<4;++O,++F){m(O%2?w:S,O%4>=2,M),C=f.buildLayerMatrix(y);let V=s(y,C);V<E?(F=0,_=Object.assign({},C),E=V):V===E&&(_=structuredClone(C))}g(y,_)}function p(y,N,k){let w=new Map,S=(C,E)=>{w.has(C)||w.set(C,[]),w.get(C).push(E)};for(let C of y.nodes()){let E=y.node(C);if(typeof E.rank=="number"&&S(E.rank,C),typeof E.minRank=="number"&&typeof E.maxRank=="number")for(let _=E.minRank;_<=E.maxRank;_++)_!==E.rank&&S(_,C)}return N.map(function(C){return l(y,C,k,w.get(C)||[])})}function m(y,N,k){let w=new d;y.forEach(function(S){k.forEach(_=>w.setEdge(_.left,_.right));let C=S.graph().root,E=a(S,C,w,N);E.vs.forEach((_,M)=>S.node(_).order=M),u(S,w,E.vs)})}function g(y,N){Object.values(N).forEach(k=>k.forEach((w,S)=>y.node(w).order=S))}}),uS=Ae((e,r)=>{var i=Gt().Graph,s=Ke();r.exports={positionX:k,findType1Conflicts:a,findType2Conflicts:l,addConflict:d,hasConflict:f,verticalAlignment:h,horizontalCompaction:p,alignCoordinates:y,findSmallestWidthAlignment:g,balance:N};function a(C,E){let _={};function M(O,F){let V=0,Z=0,G=O.length,X=F[F.length-1];return F.forEach((B,D)=>{let j=u(C,B),Q=j?C.node(j).order:G;(j||B===X)&&(F.slice(Z,D+1).forEach($=>{C.predecessors($).forEach(W=>{let z=C.node(W),P=z.order;(P<V||Q<P)&&!(z.dummy&&C.node($).dummy)&&d(_,W,$)})}),Z=D+1,V=Q)}),F}return E.length&&E.reduce(M),_}function l(C,E){let _={};function M(F,V,Z,G,X){let B;s.range(V,Z).forEach(D=>{B=F[D],C.node(B).dummy&&C.predecessors(B).forEach(j=>{let Q=C.node(j);Q.dummy&&(Q.order<G||Q.order>X)&&d(_,j,B)})})}function O(F,V){let Z=-1,G,X=0;return V.forEach((B,D)=>{if(C.node(B).dummy==="border"){let j=C.predecessors(B);j.length&&(G=C.node(j[0]).order,M(V,X,D,Z,G),X=D,Z=G)}M(V,X,V.length,G,F.length)}),V}return E.length&&E.reduce(O),_}function u(C,E){if(C.node(E).dummy)return C.predecessors(E).find(_=>C.node(_).dummy)}function d(C,E,_){if(E>_){let O=E;E=_,_=O}let M=C[E];M||(C[E]=M={}),M[_]=!0}function f(C,E,_){if(E>_){let M=E;E=_,_=M}return!!C[E]&&Object.hasOwn(C[E],_)}function h(C,E,_,M){let O={},F={},V={};return E.forEach(Z=>{Z.forEach((G,X)=>{O[G]=G,F[G]=G,V[G]=X})}),E.forEach(Z=>{let G=-1;Z.forEach(X=>{let B=M(X);if(B.length){B=B.sort((j,Q)=>V[j]-V[Q]);let D=(B.length-1)/2;for(let j=Math.floor(D),Q=Math.ceil(D);j<=Q;++j){let $=B[j];F[X]===X&&G<V[$]&&!f(_,X,$)&&(F[$]=X,F[X]=O[X]=O[$],G=V[$])}}})}),{root:O,align:F}}function p(C,E,_,M,O){let F={},V=m(C,E,_,O),Z=O?"borderLeft":"borderRight";function G(D,j){let Q=V.nodes().slice(),$={},W=Q.pop();for(;W;){if($[W])D(W);else{$[W]=!0,Q.push(W);for(let z of j(W))Q.push(z)}W=Q.pop()}}function X(D){F[D]=V.inEdges(D).reduce((j,Q)=>Math.max(j,F[Q.v]+V.edge(Q)),0)}function B(D){let j=V.outEdges(D).reduce(($,W)=>Math.min($,F[W.w]-V.edge(W)),Number.POSITIVE_INFINITY),Q=C.node(D);j!==Number.POSITIVE_INFINITY&&Q.borderType!==Z&&(F[D]=Math.max(F[D],j))}return G(X,V.predecessors.bind(V)),G(B,V.successors.bind(V)),Object.keys(M).forEach(D=>F[D]=F[_[D]]),F}function m(C,E,_,M){let O=new i,F=C.graph(),V=w(F.nodesep,F.edgesep,M);return E.forEach(Z=>{let G;Z.forEach(X=>{let B=_[X];if(O.setNode(B),G){var D=_[G],j=O.edge(D,B);O.setEdge(D,B,Math.max(V(C,X,G),j||0))}G=X})}),O}function g(C,E){return Object.values(E).reduce((_,M)=>{let O=Number.NEGATIVE_INFINITY,F=Number.POSITIVE_INFINITY;Object.entries(M).forEach(([Z,G])=>{let X=S(C,Z)/2;O=Math.max(G+X,O),F=Math.min(G-X,F)});let V=O-F;return V<_[0]&&(_=[V,M]),_},[Number.POSITIVE_INFINITY,null])[1]}function y(C,E){let _=Object.values(E),M=s.applyWithChunking(Math.min,_),O=s.applyWithChunking(Math.max,_);["u","d"].forEach(F=>{["l","r"].forEach(V=>{let Z=F+V,G=C[Z];if(G===E)return;let X=Object.values(G),B=M-s.applyWithChunking(Math.min,X);V!=="l"&&(B=O-s.applyWithChunking(Math.max,X)),B&&(C[Z]=s.mapValues(G,D=>D+B))})})}function N(C,E){return s.mapValues(C.ul,(_,M)=>{if(E)return C[E.toLowerCase()][M];{let O=Object.values(C).map(F=>F[M]).sort((F,V)=>F-V);return(O[1]+O[2])/2}})}function k(C){let E=s.buildLayerMatrix(C),_=Object.assign(a(C,E),l(C,E)),M={},O;["u","d"].forEach(V=>{O=V==="u"?E:Object.values(E).reverse(),["l","r"].forEach(Z=>{Z==="r"&&(O=O.map(D=>Object.values(D).reverse()));let G=(V==="u"?C.predecessors:C.successors).bind(C),X=h(C,O,_,G),B=p(C,O,X.root,X.align,Z==="r");Z==="r"&&(B=s.mapValues(B,D=>-D)),M[V+Z]=B})});let F=g(C,M);return y(M,F),N(M,C.graph().align)}function w(C,E,_){return(M,O,F)=>{let V=M.node(O),Z=M.node(F),G=0,X;if(G+=V.width/2,Object.hasOwn(V,"labelpos"))switch(V.labelpos.toLowerCase()){case"l":X=-V.width/2;break;case"r":X=V.width/2;break}if(X&&(G+=_?X:-X),X=0,G+=(V.dummy?E:C)/2,G+=(Z.dummy?E:C)/2,G+=Z.width/2,Object.hasOwn(Z,"labelpos"))switch(Z.labelpos.toLowerCase()){case"l":X=Z.width/2;break;case"r":X=-Z.width/2;break}return X&&(G+=_?X:-X),X=0,G}}function S(C,E){return C.node(E).width}}),cS=Ae((e,r)=>{var i=Ke(),s=uS().positionX;r.exports=a;function a(u){u=i.asNonCompoundGraph(u),l(u),Object.entries(s(u)).forEach(([d,f])=>u.node(d).x=f)}function l(u){let d=i.buildLayerMatrix(u),f=u.graph().ranksep,h=u.graph().rankalign,p=0;d.forEach(m=>{let g=m.reduce((y,N)=>{let k=u.node(N).height;return y>k?y:k},0);m.forEach(y=>{let N=u.node(y);h==="top"?N.y=p+N.height/2:h==="bottom"?N.y=p+g-N.height/2:N.y=p+g/2}),p+=g+f})}}),dS=Ae((e,r)=>{var i=YE(),s=XE(),a=QE(),l=Ke().normalizeRanks,u=KE(),d=Ke().removeEmptyRanks,f=qE(),h=ZE(),p=JE(),m=lS(),g=cS(),y=Ke(),N=Gt().Graph;r.exports=k;function k(T,K={}){let q=K.debugTiming?y.time:y.notime;return q("layout",()=>{let U=q("  buildLayoutGraph",()=>G(T));return q("  runLayout",()=>w(U,q,K)),q("  updateInputGraph",()=>S(T,U)),U})}function w(T,K,q){K("    makeSpaceForEdgeLabels",()=>X(T)),K("    removeSelfEdges",()=>H(T)),K("    acyclic",()=>i.run(T)),K("    nestingGraph.run",()=>f.run(T)),K("    rank",()=>a(y.asNonCompoundGraph(T))),K("    injectEdgeLabelProxies",()=>B(T)),K("    removeEmptyRanks",()=>d(T)),K("    nestingGraph.cleanup",()=>f.cleanup(T)),K("    normalizeRanks",()=>l(T)),K("    assignRankMinMax",()=>D(T)),K("    removeEdgeLabelProxies",()=>j(T)),K("    normalize.run",()=>s.run(T)),K("    parentDummyChains",()=>u(T)),K("    addBorderSegments",()=>h(T)),K("    order",()=>m(T,q)),K("    insertSelfEdges",()=>I(T)),K("    adjustCoordinateSystem",()=>p.adjust(T)),K("    position",()=>g(T)),K("    positionSelfEdges",()=>L(T)),K("    removeBorderNodes",()=>P(T)),K("    normalize.undo",()=>s.undo(T)),K("    fixupEdgeLabelCoords",()=>W(T)),K("    undoCoordinateSystem",()=>p.undo(T)),K("    translateGraph",()=>Q(T)),K("    assignNodeIntersects",()=>$(T)),K("    reversePoints",()=>z(T)),K("    acyclic.undo",()=>i.undo(T))}function S(T,K){T.nodes().forEach(q=>{let U=T.node(q),J=K.node(q);U&&(U.x=J.x,U.y=J.y,U.order=J.order,U.rank=J.rank,K.children(q).length&&(U.width=J.width,U.height=J.height))}),T.edges().forEach(q=>{let U=T.edge(q),J=K.edge(q);U.points=J.points,Object.hasOwn(J,"x")&&(U.x=J.x,U.y=J.y)}),T.graph().width=K.graph().width,T.graph().height=K.graph().height}var C=["nodesep","edgesep","ranksep","marginx","marginy"],E={ranksep:50,edgesep:20,nodesep:50,rankdir:"tb",rankalign:"center"},_=["acyclicer","ranker","rankdir","align","rankalign"],M=["width","height","rank"],O={width:0,height:0},F=["minlen","weight","width","height","labeloffset"],V={minlen:1,weight:1,width:0,height:0,labeloffset:10,labelpos:"r"},Z=["labelpos"];function G(T){let K=new N({multigraph:!0,compound:!0}),q=Y(T.graph());return K.setGraph(Object.assign({},E,ee(q,C),y.pick(q,_))),T.nodes().forEach(U=>{let J=Y(T.node(U)),ie=ee(J,M);Object.keys(O).forEach(le=>{ie[le]===void 0&&(ie[le]=O[le])}),K.setNode(U,ie),K.setParent(U,T.parent(U))}),T.edges().forEach(U=>{let J=Y(T.edge(U));K.setEdge(U,Object.assign({},V,ee(J,F),y.pick(J,Z)))}),K}function X(T){let K=T.graph();K.ranksep/=2,T.edges().forEach(q=>{let U=T.edge(q);U.minlen*=2,U.labelpos.toLowerCase()!=="c"&&(K.rankdir==="TB"||K.rankdir==="BT"?U.width+=U.labeloffset:U.height+=U.labeloffset)})}function B(T){T.edges().forEach(K=>{let q=T.edge(K);if(q.width&&q.height){let U=T.node(K.v),J={rank:(T.node(K.w).rank-U.rank)/2+U.rank,e:K};y.addDummyNode(T,"edge-proxy",J,"_ep")}})}function D(T){let K=0;T.nodes().forEach(q=>{let U=T.node(q);U.borderTop&&(U.minRank=T.node(U.borderTop).rank,U.maxRank=T.node(U.borderBottom).rank,K=Math.max(K,U.maxRank))}),T.graph().maxRank=K}function j(T){T.nodes().forEach(K=>{let q=T.node(K);q.dummy==="edge-proxy"&&(T.edge(q.e).labelRank=q.rank,T.removeNode(K))})}function Q(T){let K=Number.POSITIVE_INFINITY,q=0,U=Number.POSITIVE_INFINITY,J=0,ie=T.graph(),le=ie.marginx||0,he=ie.marginy||0;function pe(ye){let ke=ye.x,Ce=ye.y,Re=ye.width,st=ye.height;K=Math.min(K,ke-Re/2),q=Math.max(q,ke+Re/2),U=Math.min(U,Ce-st/2),J=Math.max(J,Ce+st/2)}T.nodes().forEach(ye=>pe(T.node(ye))),T.edges().forEach(ye=>{let ke=T.edge(ye);Object.hasOwn(ke,"x")&&pe(ke)}),K-=le,U-=he,T.nodes().forEach(ye=>{let ke=T.node(ye);ke.x-=K,ke.y-=U}),T.edges().forEach(ye=>{let ke=T.edge(ye);ke.points.forEach(Ce=>{Ce.x-=K,Ce.y-=U}),Object.hasOwn(ke,"x")&&(ke.x-=K),Object.hasOwn(ke,"y")&&(ke.y-=U)}),ie.width=q-K+le,ie.height=J-U+he}function $(T){T.edges().forEach(K=>{let q=T.edge(K),U=T.node(K.v),J=T.node(K.w),ie,le;q.points?(ie=q.points[0],le=q.points[q.points.length-1]):(q.points=[],ie=J,le=U),q.points.unshift(y.intersectRect(U,ie)),q.points.push(y.intersectRect(J,le))})}function W(T){T.edges().forEach(K=>{let q=T.edge(K);if(Object.hasOwn(q,"x"))switch((q.labelpos==="l"||q.labelpos==="r")&&(q.width-=q.labeloffset),q.labelpos){case"l":q.x-=q.width/2+q.labeloffset;break;case"r":q.x+=q.width/2+q.labeloffset;break}})}function z(T){T.edges().forEach(K=>{let q=T.edge(K);q.reversed&&q.points.reverse()})}function P(T){T.nodes().forEach(K=>{if(T.children(K).length){let q=T.node(K),U=T.node(q.borderTop),J=T.node(q.borderBottom),ie=T.node(q.borderLeft[q.borderLeft.length-1]),le=T.node(q.borderRight[q.borderRight.length-1]);q.width=Math.abs(le.x-ie.x),q.height=Math.abs(J.y-U.y),q.x=ie.x+q.width/2,q.y=U.y+q.height/2}}),T.nodes().forEach(K=>{T.node(K).dummy==="border"&&T.removeNode(K)})}function H(T){T.edges().forEach(K=>{if(K.v===K.w){var q=T.node(K.v);q.selfEdges||(q.selfEdges=[]),q.selfEdges.push({e:K,label:T.edge(K)}),T.removeEdge(K)}})}function I(T){var K=y.buildLayerMatrix(T);K.forEach(q=>{var U=0;q.forEach((J,ie)=>{var le=T.node(J);le.order=ie+U,(le.selfEdges||[]).forEach(he=>{y.addDummyNode(T,"selfedge",{width:he.label.width,height:he.label.height,rank:le.rank,order:ie+ ++U,e:he.e,label:he.label},"_se")}),delete le.selfEdges})})}function L(T){T.nodes().forEach(K=>{var q=T.node(K);if(q.dummy==="selfedge"){var U=T.node(q.e.v),J=U.x+U.width/2,ie=U.y,le=q.x-J,he=U.height/2;T.setEdge(q.e,q.label),T.removeNode(K),q.label.points=[{x:J+2*le/3,y:ie-he},{x:J+5*le/6,y:ie-he},{x:J+le,y:ie},{x:J+5*le/6,y:ie+he},{x:J+2*le/3,y:ie+he}],q.label.x=q.x,q.label.y=q.y}})}function ee(T,K){return y.mapValues(y.pick(T,K),Number)}function Y(T){var K={};return T&&Object.entries(T).forEach(([q,U])=>{typeof q=="string"&&(q=q.toLowerCase()),K[q]=U}),K}}),fS=Ae((e,r)=>{var i=Ke(),s=Gt().Graph;r.exports={debugOrdering:a};function a(l){let u=i.buildLayerMatrix(l),d=new s({compound:!0,multigraph:!0}).setGraph({});return l.nodes().forEach(f=>{d.setNode(f,{label:f}),d.setParent(f,"layer"+l.node(f).rank)}),l.edges().forEach(f=>d.setEdge(f.v,f.w,{},f.name)),u.forEach((f,h)=>{let p="layer"+h;d.setNode(p,{rank:"same"}),f.reduce((m,g)=>(d.setEdge(m,g,{style:"invis"}),g))}),d}}),hS=Ae((e,r)=>{r.exports="2.0.4"}),pS=Ae((e,r)=>{r.exports={graphlib:Gt(),layout:dS(),debug:fS(),util:{time:Ke().time,notime:Ke().notime},version:hS()}});const d0=pS();/*! For license information please see dagre.esm.js.LEGAL.txt */function mS({data:e}){const{label:r,areaCount:i,docCount:s,expanded:a,onToggle:l}=e;return x.jsxs("div",{className:"group relative",children:[x.jsx(sn,{type:"target",position:be.Top,className:"opacity-0"}),x.jsxs("div",{onClick:l,className:`
          w-[270px] h-[72px] rounded-xl cursor-pointer
          bg-gradient-to-br from-slate-700 to-slate-800
          border border-slate-600/50
          shadow-lg shadow-slate-900/20
          flex items-center justify-between px-4
          transition-all duration-200
          hover:shadow-xl hover:shadow-slate-900/30
          hover:border-slate-500/50
          ${a?"ring-2 ring-accent/30":""}
        `,children:[x.jsxs("div",{className:"flex flex-col",children:[x.jsx("span",{className:"text-white font-semibold text-sm truncate max-w-[180px]",children:r}),x.jsxs("span",{className:"text-slate-400 text-xs mt-0.5",children:[i," ",i===1?"rea":"reas","  ",s," ",s===1?"doc":"docs"]})]}),x.jsx("button",{type:"button",onClick:u=>{u.stopPropagation(),l()},className:`
            w-8 h-8 rounded-lg flex items-center justify-center
            bg-slate-600/50 hover:bg-slate-500/50
            text-slate-300 hover:text-white
            transition-colors
          `,children:x.jsx("svg",{className:`w-4 h-4 transition-transform duration-200 ${a?"rotate-180":""}`,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:x.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})})]}),x.jsx(sn,{type:"source",position:be.Bottom,className:"opacity-0"})]})}const f0={Inbox:"#7c8aff",Ideias:"#fbbf24",Produtividade:"#a78bfa",Padro:"#34d399",default:"#6b7280"};function gS({data:e}){const{label:r,docCount:i,color:s,expanded:a,onToggle:l}=e,u=s||f0[r]||f0.default;return x.jsxs("div",{className:"group relative",children:[x.jsx(sn,{type:"target",position:be.Top,className:"opacity-0"}),x.jsxs("div",{onClick:l,className:`
          w-[240px] h-[62px] rounded-xl cursor-pointer
          bg-surface-800
          border-t-[3px]
          shadow-lg shadow-black/20
          flex items-center justify-between px-4
          transition-all duration-200
          hover:shadow-xl hover:shadow-black/30
          ${a?"ring-2 ring-white/10":""}
        `,style:{borderTopColor:u},children:[x.jsxs("div",{className:"flex flex-col",children:[x.jsx("span",{className:"text-zinc-200 font-medium text-sm truncate max-w-[160px]",children:r}),x.jsxs("span",{className:"text-zinc-500 text-xs mt-0.5 uppercase tracking-wider",children:[i," ",i===1?"documento":"documentos"]})]}),x.jsx("button",{type:"button",onClick:d=>{d.stopPropagation(),l()},className:`
            w-7 h-7 rounded-lg flex items-center justify-center
            bg-zinc-700/50 hover:bg-zinc-600/50
            text-zinc-400 hover:text-zinc-200
            transition-colors
          `,children:x.jsx("svg",{className:`w-4 h-4 transition-transform duration-200 ${a?"rotate-180":""}`,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:x.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})})]}),x.jsx(sn,{type:"source",position:be.Bottom,className:"opacity-0"})]})}function xS(e){const r=[220,260,300,340,20,60,100,160,200],i=r[e.charCodeAt(0)%r.length],s=(i+40)%360;return`linear-gradient(135deg, hsl(${i}, 70%, 60%), hsl(${s}, 70%, 50%))`}function vS({data:e}){const r=er(),{id:i,title:s,cover:a,areaName:l}=e,u=a||xS(i);return x.jsxs("div",{className:"group relative",children:[x.jsx(sn,{type:"target",position:be.Top,className:"opacity-0"}),x.jsxs("div",{onClick:()=>r(`/doc/${i}`),className:`
          w-[160px] cursor-pointer
          rounded-xl overflow-hidden
          bg-surface-800
          border border-zinc-700/50
          shadow-lg shadow-black/20
          transition-all duration-200
          hover:shadow-xl hover:shadow-black/40
          hover:border-zinc-600/50
          hover:scale-[1.02]
        `,children:[x.jsx("div",{className:"h-[80px] w-full bg-cover bg-center",style:{backgroundImage:typeof u=="string"&&u.startsWith("http")?`url(${u})`:u},children:!a&&x.jsx("div",{className:"w-full h-full flex items-center justify-center",children:x.jsx("svg",{className:"w-8 h-8 text-white/60",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:x.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})})})}),x.jsxs("div",{className:"p-3",children:[x.jsx("h4",{className:"text-zinc-200 text-sm font-medium leading-tight line-clamp-2 min-h-[2.5rem]",children:s}),x.jsx("span",{className:"text-zinc-500 text-xs mt-1.5 block uppercase tracking-wider",children:l})]})]}),x.jsx(sn,{type:"source",position:be.Bottom,className:"opacity-0"})]})}function yS(e){const r=[220,260,300,340,20,60,100,160,200],i=r[e.charCodeAt(0)%r.length],s=(i+40)%360;return`linear-gradient(135deg, hsl(${i}, 70%, 60%), hsl(${s}, 70%, 50%))`}function wS({interests:e,areas:r,documents:i,expandedInterests:s,expandedAreas:a,onToggleInterest:l,onToggleArea:u}){const d=er(),f=[...e].sort((g,y)=>g.name.localeCompare(y.name,"pt-BR")),h=g=>r.filter(y=>y.interestId===g).sort((y,N)=>y.name.localeCompare(N.name,"pt-BR")),p=g=>i.filter(y=>y.area===g).sort((y,N)=>y.title.localeCompare(N.title,"pt-BR")),m=g=>{const y=r.filter(N=>N.interestId===g).map(N=>N.name);return i.filter(N=>y.includes(N.area)).length};return x.jsxs("div",{className:"w-72 h-full bg-surface-900 border-l border-zinc-800 flex flex-col",children:[x.jsxs("div",{className:"p-4 border-b border-zinc-800",children:[x.jsx("h3",{className:"text-zinc-200 font-semibold text-sm",children:"Ideias por Interesse"}),x.jsxs("p",{className:"text-zinc-500 text-xs mt-1",children:[i.length," documentos organizados"]})]}),x.jsxs("div",{className:"flex-1 overflow-y-auto p-3 space-y-1",children:[f.map(g=>{const y=h(g.id),N=m(g.id),k=s.has(g.id);return x.jsxs("div",{className:"mb-2",children:[x.jsxs("button",{onClick:()=>l(g.id),className:`
                  w-full flex items-center justify-between
                  px-2 py-2 rounded-lg
                  hover:bg-zinc-800/60
                  transition-colors
                `,children:[x.jsx("span",{className:"text-zinc-300 font-medium text-sm",children:g.name}),x.jsxs("div",{className:"flex items-center gap-2",children:[x.jsx("span",{className:"text-zinc-500 text-xs",children:N}),x.jsx("svg",{className:`w-4 h-4 text-zinc-500 transition-transform duration-200 ${k?"rotate-180":""}`,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:x.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})]})]}),k&&x.jsx("div",{className:"ml-2 mt-1 space-y-1",children:y.map(w=>{const S=p(w.name),C=a.has(w.id);return x.jsxs("div",{children:[x.jsxs("button",{onClick:()=>u(w.id),className:`
                            w-full flex items-center justify-between
                            px-2 py-1.5 rounded-lg
                            hover:bg-zinc-800/40
                            transition-colors
                          `,children:[x.jsx("span",{className:"text-zinc-400 text-xs uppercase tracking-wider",children:w.name}),x.jsxs("div",{className:"flex items-center gap-1.5",children:[x.jsx("span",{className:"text-zinc-600 text-xs",children:S.length}),x.jsx("svg",{className:`w-3.5 h-3.5 text-zinc-600 transition-transform duration-200 ${C?"rotate-180":""}`,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:x.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})]})]}),C&&x.jsx("div",{className:"ml-2 mt-1 space-y-0.5",children:S.map(E=>x.jsxs("button",{onClick:()=>d(`/doc/${E.id}`),className:`
                                  w-full flex items-center gap-2
                                  px-2 py-1.5 rounded-lg
                                  hover:bg-zinc-800/60 hover:text-white
                                  text-zinc-400
                                  transition-colors
                                  group
                                `,children:[x.jsx("div",{className:"w-6 h-6 rounded-md flex-shrink-0 bg-cover bg-center flex items-center justify-center",style:{backgroundImage:E.cover?`url(${E.cover})`:yS(E.id)},children:!E.cover&&x.jsx("svg",{className:"w-3 h-3 text-white/70",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:x.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})})}),x.jsx("span",{className:"text-xs truncate flex-1 text-left",children:E.title})]},E.id))})]},w.id)})})]},g.id)}),e.length===0&&x.jsxs("div",{className:"text-center py-8",children:[x.jsx("p",{className:"text-zinc-500 text-sm",children:"Nenhum interesse criado"}),x.jsx("p",{className:"text-zinc-600 text-xs mt-1",children:'Crie interesses em "Interesses e reas"'})]})]})]})}function NS({interests:e,areas:r,selectedInterest:i,selectedArea:s,showRelations:a,onInterestChange:l,onAreaChange:u,onToggleRelations:d,onExpandAll:f,onCollapseAll:h,onClearFilters:p,searchQuery:m,onSearchChange:g}){const[y,N]=R.useState(!1),k=i?r.filter(w=>w.interestId===i):r;return x.jsxs("div",{className:`
      absolute top-4 left-4 right-4 z-10
      flex items-center gap-3
      p-3 rounded-xl
      bg-surface-900/90 backdrop-blur-md
      border border-zinc-800
      shadow-lg shadow-black/20
    `,children:[x.jsxs("div",{className:`
        flex-1 max-w-md relative
        transition-all duration-200
        ${y?"ring-2 ring-accent/30 rounded-lg":""}
      `,children:[x.jsx("div",{className:"absolute left-3 top-1/2 -translate-y-1/2 text-zinc-500",children:x.jsx("svg",{className:"w-4 h-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:x.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})})}),x.jsx("input",{type:"text",placeholder:"Buscar documentos...",value:m,onChange:w=>g(w.target.value),onFocus:()=>N(!0),onBlur:()=>N(!1),className:`
            w-full h-9 pl-9 pr-3 rounded-lg
            bg-zinc-800/50 border border-zinc-700/50
            text-zinc-200 text-sm placeholder:text-zinc-500
            focus:outline-none focus:border-zinc-600
            transition-colors
          `}),m&&x.jsx("button",{onClick:()=>g(""),className:"absolute right-3 top-1/2 -translate-y-1/2 text-zinc-500 hover:text-zinc-300",children:x.jsx("svg",{className:"w-4 h-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:x.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),x.jsx("div",{className:"h-6 w-px bg-zinc-700 mx-1"}),x.jsxs("select",{value:i||"",onChange:w=>l(w.target.value||null),className:`
          h-9 px-3 rounded-lg
          bg-zinc-800/50 border border-zinc-700/50
          text-zinc-300 text-sm
          focus:outline-none focus:border-zinc-600
          cursor-pointer
          min-w-[140px]
        `,children:[x.jsx("option",{value:"",children:"Todos interesses"}),e.map(w=>x.jsx("option",{value:w.id,children:w.name},w.id))]}),x.jsxs("select",{value:s||"",onChange:w=>u(w.target.value||null),disabled:!i,className:`
          h-9 px-3 rounded-lg
          bg-zinc-800/50 border border-zinc-700/50
          text-zinc-300 text-sm
          focus:outline-none focus:border-zinc-600
          cursor-pointer disabled:cursor-not-allowed
          disabled:opacity-50 disabled:text-zinc-500
          min-w-[140px]
        `,children:[x.jsx("option",{value:"",children:"Todas reas"}),k.map(w=>x.jsx("option",{value:w.id,children:w.name},w.id))]}),x.jsx("div",{className:"h-6 w-px bg-zinc-700 mx-1"}),x.jsxs("button",{onClick:d,className:`
          h-9 px-3 rounded-lg flex items-center gap-2
          text-sm font-medium
          transition-colors
          ${a?"bg-accent/20 text-accent border border-accent/30":"bg-zinc-800/50 text-zinc-400 border border-zinc-700/50 hover:text-zinc-300"}
        `,children:[x.jsx("svg",{className:"w-4 h-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:x.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13.828 10.172a4 4 0 00-5.656 0l-4 4a4 4 0 105.656 5.656l1.102-1.101m-.758-4.899a4 4 0 005.656 0l4-4a4 4 0 00-5.656-5.656l-1.1 1.1"})}),x.jsx("span",{children:"Relaes"})]}),x.jsx("button",{onClick:f,className:`
          h-9 px-3 rounded-lg flex items-center gap-2
          bg-zinc-800/50 border border-zinc-700/50
          text-zinc-400 text-sm
          hover:text-zinc-300 hover:bg-zinc-700/50
          transition-colors
        `,title:"Expandir tudo",children:x.jsx("svg",{className:"w-4 h-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:x.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 8V4m0 0h4M4 4l5 5m11-1V4m0 0h-4m4 0l-5 5M4 16v4m0 0h4m-4 0l5-5m11 5l-5-5m5 5v-4m0 4h-4"})})}),x.jsx("button",{onClick:h,className:`
          h-9 px-3 rounded-lg flex items-center gap-2
          bg-zinc-800/50 border border-zinc-700/50
          text-zinc-400 text-sm
          hover:text-zinc-300 hover:bg-zinc-700/50
          transition-colors
        `,title:"Recolher tudo",children:x.jsx("svg",{className:"w-4 h-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:x.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 16v1a3 3 0 003 3h10a3 3 0 003-3v-1m-4-8l-4-4m0 0L8 8m4-4v12"})})}),(i||s||m)&&x.jsxs("button",{onClick:p,className:`
            h-9 px-3 rounded-lg flex items-center gap-2
            bg-zinc-800/50 border border-zinc-700/50
            text-zinc-400 text-sm
            hover:text-zinc-300 hover:bg-zinc-700/50
            transition-colors
          `,children:[x.jsx("svg",{className:"w-4 h-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:x.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"})}),x.jsx("span",{children:"Limpar"})]})]})}const bS={interest:mS,area:gS,document:vS};function kS(e,r){const i=new d0.graphlib.Graph;return i.setDefaultEdgeLabel(()=>({})),i.setGraph({rankdir:"TB",nodesep:60,ranksep:100,marginx:40,marginy:40}),e.forEach(s=>{const a=s.type==="interest"?270:s.type==="area"?240:160,l=s.type==="document"?136:s.type==="interest"?72:62;i.setNode(s.id,{width:a,height:l})}),r.forEach(s=>{i.setEdge(s.source,s.target)}),d0.layout(i),e.map(s=>{const a=i.node(s.id);return{...s,position:{x:a.x-(s.type==="interest"?135:s.type==="area"?120:80),y:a.y-(s.type==="document"?68:s.type==="interest"?36:31)}}})}function ES(){const{documents:e}=Ni(),{interests:r,areas:i}=bi(),s=R.useRef(!1),[a,l]=R.useState(new Set),[u,d]=R.useState(new Set),[f,h]=R.useState(null),[p,m]=R.useState(null),[g,y]=R.useState(!0),[N,k]=R.useState(""),[w,S]=R.useState(null),[C,E,_]=mE([]),[M,O,F]=gE([]),V=R.useCallback(z=>{l(P=>{const H=new Set(P);return H.has(z)?H.delete(z):H.add(z),H})},[]),Z=R.useCallback(z=>{d(P=>{const H=new Set(P);return H.has(z)?H.delete(z):H.add(z),H})},[]),G=R.useCallback(()=>{l(new Set(r.map(z=>z.id))),d(new Set(i.map(z=>z.id)))},[r,i]),X=R.useCallback(()=>{l(new Set),d(new Set)},[]),B=R.useCallback(()=>{h(null),m(null),k(""),X()},[X]),D=R.useCallback(z=>{h(z),m(null),z&&l(new Set([z]))},[]);R.useEffect(()=>{if(s.current||f||r.length===0)return;const z=[...r].sort((H,I)=>H.name.localeCompare(I.name,"pt-BR")),P=z[1]??z[0];P&&(s.current=!0,D(P.id))},[r,f,D]);const j=R.useMemo(()=>e.filter(z=>{if(f){const P=i.find(H=>H.name===z.area);if(!P||P.interestId!==f)return!1}if(p){const P=i.find(H=>H.id===p);if(!P||z.area!==P.name)return!1}if(N){const P=N.toLowerCase(),H=z.title.toLowerCase().includes(P),I=z.content.toLowerCase().includes(P),L=z.tags.some(ee=>ee.toLowerCase().includes(P));if(!H&&!I&&!L)return!1}return!0}),[e,f,p,i,N]),{graphNodes:Q,graphEdges:$}=R.useMemo(()=>{const z=[],P=[];return[...r].sort((L,ee)=>L.name.localeCompare(ee.name,"pt-BR")).forEach(L=>{const ee=i.filter(K=>K.interestId===L.id),Y=ee.map(K=>K.name),T=j.filter(K=>Y.includes(K.area)).length;z.push({id:`interest-${L.id}`,type:"interest",position:{x:0,y:0},data:{label:L.name,areaCount:ee.length,docCount:T,expanded:a.has(L.id),onToggle:()=>V(L.id)}}),a.has(L.id)&&ee.sort((q,U)=>q.name.localeCompare(U.name,"pt-BR")).forEach(q=>{const U=j.filter(J=>J.area===q.name);z.push({id:`area-${q.id}`,type:"area",position:{x:0,y:0},data:{label:q.name,docCount:U.length,expanded:u.has(q.id),onToggle:()=>Z(q.id)}}),P.push({id:`edge-interest-${L.id}-area-${q.id}`,source:`interest-${L.id}`,target:`area-${q.id}`,style:{stroke:"#475569",strokeWidth:2,opacity:.65}}),u.has(q.id)&&U.sort((ie,le)=>ie.title.localeCompare(le.title,"pt-BR")).forEach(ie=>{z.push({id:`doc-${ie.id}`,type:"document",position:{x:0,y:0},data:{id:ie.id,title:ie.title,cover:ie.cover,areaName:q.name}}),P.push({id:`edge-area-${q.id}-doc-${ie.id}`,source:`area-${q.id}`,target:`doc-${ie.id}`,style:{stroke:"#475569",strokeWidth:2,opacity:.65}})})})}),g&&j.forEach(L=>{L.relations.forEach(ee=>{const Y=`doc-${L.id}`,T=`doc-${ee.targetId}`,K=z.some(U=>U.id===Y),q=z.some(U=>U.id===T);if(K&&q){const U=`relation-${L.id}-${ee.targetId}`;P.some(J=>J.id===U)||P.push({id:U,source:Y,target:T,style:{stroke:"#7c8aff",strokeWidth:1.5,opacity:.5,strokeDasharray:"5,5"}})}})}),{graphNodes:kS(z,P),graphEdges:P}},[r,i,j,a,u,g,V,Z]);R.useEffect(()=>{E(Q),O($)},[Q,$,E,O]),R.useEffect(()=>{w&&Q.length>0&&setTimeout(()=>{w.fitView({padding:.2,duration:300})},100)},[w,f,p,N]);const W=R.useMemo(()=>f?i.filter(z=>z.interestId===f):i,[i,f]);return x.jsxs("div",{className:"h-full w-full flex",children:[x.jsxs("div",{className:"flex-1 relative bg-surface-950",children:[x.jsx(NS,{interests:r,areas:W,selectedInterest:f,selectedArea:p,showRelations:g,onInterestChange:D,onAreaChange:m,onToggleRelations:()=>y(z=>!z),onExpandAll:G,onCollapseAll:X,onClearFilters:B,searchQuery:N,onSearchChange:k}),x.jsxs(pE,{nodes:C,edges:M,onNodesChange:_,onEdgesChange:F,onInit:S,nodeTypes:bS,fitView:!0,fitViewOptions:{padding:.2},minZoom:.2,maxZoom:2,proOptions:{hideAttribution:!0},className:"bg-surface-950",children:[x.jsx(NE,{color:"#334155",gap:20,size:1}),x.jsx(BE,{className:"!bg-surface-900/90 !border-zinc-800 !rounded-lg !shadow-lg",nodeColor:z=>z.type==="interest"?"#64748b":z.type==="area"?"#334155":"#1e293b",maskColor:"rgba(0, 0, 0, 0.6)"})]}),C.length===0&&x.jsx("div",{className:"absolute inset-0 flex items-center justify-center pointer-events-none",children:x.jsxs("div",{className:"text-center",children:[x.jsx("div",{className:"w-16 h-16 mx-auto mb-4 rounded-2xl bg-zinc-800/50 flex items-center justify-center",children:x.jsx("svg",{className:"w-8 h-8 text-zinc-500",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:x.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,d:"M19 11H5m14 0a2 2 0 012 2v6a2 2 0 01-2 2H5a2 2 0 01-2-2v-6a2 2 0 012-2m14 0V9a2 2 0 00-2-2M5 11V9a2 2 0 012-2m0 0V5a2 2 0 012-2h6a2 2 0 012 2v2M7 7h10"})})}),x.jsx("p",{className:"text-zinc-400 text-sm font-medium",children:"Nenhum documento encontrado"}),x.jsx("p",{className:"text-zinc-500 text-xs mt-1",children:"Crie documentos para visualizar a rvore"})]})})]}),x.jsx(wS,{interests:f?r.filter(z=>z.id===f):r,areas:i,documents:j,expandedInterests:a,expandedAreas:u,onToggleInterest:V,onToggleArea:Z})]})}function SS({isOpen:e,title:r,message:i,itemName:s,onConfirm:a,onCancel:l}){return e?x.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/60 backdrop-blur-sm",children:x.jsxs("div",{className:"w-full max-w-md rounded-2xl border border-zinc-700 bg-surface-900 p-6 shadow-2xl",children:[x.jsx("div",{className:"mb-4 flex h-12 w-12 items-center justify-center rounded-full bg-red-500/10",children:x.jsx("svg",{className:"h-6 w-6 text-red-500",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:x.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})})}),x.jsx("h3",{className:"mb-2 text-lg font-semibold text-zinc-100",children:r}),x.jsx("p",{className:"mb-2 text-sm text-zinc-400",children:i}),x.jsx("p",{className:"mb-6 rounded-lg bg-zinc-800/50 px-3 py-2 text-sm font-medium text-zinc-300",children:s}),x.jsxs("div",{className:"flex justify-end gap-3",children:[x.jsx("button",{type:"button",onClick:l,className:"rounded-lg border border-zinc-700 px-4 py-2 text-sm text-zinc-300 hover:border-zinc-500 hover:text-zinc-100 transition-colors",children:"Cancelar"}),x.jsx("button",{type:"button",onClick:a,className:"rounded-lg bg-red-500 px-4 py-2 text-sm font-medium text-white hover:bg-red-600 transition-colors",children:"Excluir"})]})]})}):null}function _S(){var U;const{interests:e,areasByInterestId:r,addInterest:i,addArea:s,removeInterest:a,removeArea:l,editInterest:u,editArea:d}=bi(),{create:f}=Ni(),[h,p]=R.useState(""),[m,g]=R.useState(""),[y,N]=R.useState(""),[k,w]=R.useState(null),[S,C]=R.useState(""),[E,_]=R.useState(null),[M,O]=R.useState(""),[F,V]=R.useState(null),[Z,G]=R.useState(""),[X,B]=R.useState({isOpen:!1,type:"interest",item:null,cascadeCount:0}),D=R.useMemo(()=>e.map(J=>({...J,areas:r.get(J.id)??[]})),[e,r]),j=async J=>{J.preventDefault();const ie=await i(h);ie&&(p(""),m||g(ie.id))},Q=async J=>{if(J.preventDefault(),!m)return;await s(y,m)&&N("")},$=async(J,ie)=>{J.preventDefault(),await s(S,ie)&&(C(""),w(null))},W=async J=>{const ie=e.find(le=>le.id===J.interestId);ie&&await f({title:"Nova ideia",interest:ie.name,area:J.name,content:"",cover:"",tags:[],relations:[]})},z=J=>{const ie=r.get(J.id)??[];B({isOpen:!0,type:"interest",item:J,cascadeCount:ie.length})},P=J=>{B({isOpen:!0,type:"area",item:J,cascadeCount:0})},H=async()=>{X.item&&(X.type==="interest"?await a(X.item.id):await l(X.item.id),B({isOpen:!1,type:"interest",item:null,cascadeCount:0}))},I=J=>{_(J.id),O(J.name)},L=async()=>{E&&await u(E,M),_(null),O("")},ee=()=>{_(null),O("")},Y=J=>{V(J.id),G(J.name)},T=async()=>{F&&await d(F,Z),V(null),G("")},K=()=>{V(null),G("")},q=X.type==="interest"?X.cascadeCount>0?`Esta ao excluir permanentemente o interesse e todas as suas ${X.cascadeCount} reas. Esta ao no pode ser desfeita.`:"Esta ao excluir permanentemente o interesse. Esta ao no pode ser desfeita.":"Esta ao excluir permanentemente a rea. Esta ao no pode ser desfeita.";return x.jsxs("div",{className:"h-full overflow-auto bg-surface-950",children:[x.jsxs("div",{className:"mx-auto w-full max-w-6xl px-6 py-8",children:[x.jsxs("div",{className:"mb-8",children:[x.jsx("h1",{className:"mb-2 text-2xl font-semibold text-zinc-100",children:"Interesses e reas"}),x.jsxs("p",{className:"text-sm text-zinc-500",children:["Gerencie a hierarquia: Interesse ",">"," rea ",">"," Documento/Ideia"]})]}),x.jsxs("div",{className:"mb-8 grid gap-6 md:grid-cols-2",children:[x.jsxs("section",{className:"rounded-xl border border-zinc-800 bg-surface-900/40 p-5",children:[x.jsx("h2",{className:"mb-3 text-sm font-medium uppercase tracking-wide text-zinc-400",children:"Cadastrar Interesse"}),x.jsxs("form",{onSubmit:j,className:"flex gap-2",children:[x.jsx("input",{value:h,onChange:J=>p(J.target.value),placeholder:"Nome do interesse",className:"h-11 flex-1 rounded-lg border border-zinc-700 bg-transparent px-3 text-sm text-zinc-200 placeholder-zinc-600 focus:border-accent focus:outline-none"}),x.jsx("button",{type:"submit",disabled:!h.trim(),className:"h-11 rounded-lg bg-accent px-4 text-sm font-medium text-white hover:bg-accent-bright disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:"Adicionar"})]})]}),x.jsxs("section",{className:"rounded-xl border border-zinc-800 bg-surface-900/40 p-5",children:[x.jsx("h2",{className:"mb-3 text-sm font-medium uppercase tracking-wide text-zinc-400",children:"Cadastrar rea"}),x.jsxs("form",{onSubmit:Q,className:"space-y-3",children:[x.jsxs("select",{value:m,onChange:J=>g(J.target.value),className:"h-11 w-full rounded-lg border border-zinc-700 bg-surface-950 px-3 text-sm text-zinc-200 focus:border-accent focus:outline-none",children:[x.jsx("option",{value:"",children:"Selecione o interesse pai"}),e.map(J=>x.jsx("option",{value:J.id,children:J.name},J.id))]}),x.jsxs("div",{className:"flex gap-2",children:[x.jsx("input",{value:y,onChange:J=>N(J.target.value),placeholder:"Nome da rea",className:"h-11 flex-1 rounded-lg border border-zinc-700 bg-transparent px-3 text-sm text-zinc-200 placeholder-zinc-600 focus:border-accent focus:outline-none"}),x.jsx("button",{type:"submit",disabled:!y.trim()||!m,className:"h-11 rounded-lg bg-accent px-4 text-sm font-medium text-white hover:bg-accent-bright disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:"Adicionar"})]})]})]})]}),x.jsxs("section",{className:"rounded-xl border border-zinc-800 bg-surface-900/30 p-6",children:[x.jsx("h2",{className:"mb-6 text-sm font-medium uppercase tracking-wide text-zinc-400",children:"Interesses Cadastrados"}),D.length===0?x.jsxs("div",{className:"py-12 text-center",children:[x.jsx("div",{className:"mb-4 flex h-16 w-16 items-center justify-center rounded-2xl bg-zinc-800/50 mx-auto",children:x.jsx("svg",{className:"h-8 w-8 text-zinc-500",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:x.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,d:"M19 11H5m14 0a2 2 0 012 2v6a2 2 0 01-2 2H5a2 2 0 01-2-2v-6a2 2 0 012-2m14 0V9a2 2 0 00-2-2M5 11V9a2 2 0 012-2m0 0V5a2 2 0 012-2h6a2 2 0 012 2v2M7 7h10"})})}),x.jsx("p",{className:"text-zinc-500",children:"Nenhum interesse cadastrado"}),x.jsx("p",{className:"mt-1 text-sm text-zinc-600",children:"Crie um interesse para comear"})]}):x.jsx("div",{className:"space-y-6",children:D.map(J=>x.jsxs("div",{className:"rounded-xl border border-zinc-800 bg-surface-900/60 overflow-hidden",children:[x.jsx("div",{className:"flex items-center justify-between border-b border-zinc-800 bg-surface-900 px-5 py-4",children:E===J.id?x.jsxs("div",{className:"flex flex-1 items-center gap-2",children:[x.jsx("input",{value:M,onChange:ie=>O(ie.target.value),className:"h-10 flex-1 rounded-lg border border-zinc-600 bg-surface-800 px-3 text-sm text-zinc-200 focus:border-accent focus:outline-none",autoFocus:!0}),x.jsx("button",{type:"button",onClick:L,className:"rounded-lg bg-accent p-2 text-white hover:bg-accent-bright transition-colors",children:x.jsx("svg",{className:"h-4 w-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:x.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})})}),x.jsx("button",{type:"button",onClick:ee,className:"rounded-lg border border-zinc-600 p-2 text-zinc-400 hover:text-zinc-200 transition-colors",children:x.jsx("svg",{className:"h-4 w-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:x.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}):x.jsxs(x.Fragment,{children:[x.jsxs("div",{className:"flex items-center gap-3",children:[x.jsx("div",{className:"flex h-10 w-10 items-center justify-center rounded-xl bg-gradient-to-br from-slate-600 to-slate-700",children:x.jsx("svg",{className:"h-5 w-5 text-slate-300",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:x.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,d:"M19 11H5m14 0a2 2 0 012 2v6a2 2 0 01-2 2H5a2 2 0 01-2-2v-6a2 2 0 012-2m14 0V9a2 2 0 00-2-2M5 11V9a2 2 0 012-2m0 0V5a2 2 0 012-2h6a2 2 0 012 2v2M7 7h10"})})}),x.jsxs("div",{children:[x.jsx("h3",{className:"text-base font-semibold text-zinc-200",children:J.name}),x.jsxs("p",{className:"text-xs text-zinc-500",children:[J.areas.length," ",J.areas.length===1?"rea":"reas"]})]})]}),x.jsxs("div",{className:"flex items-center gap-2",children:[x.jsx("button",{type:"button",onClick:()=>{w(J.id),C("")},className:"rounded-lg px-3 py-1.5 text-xs font-medium text-accent hover:bg-accent/10 transition-colors",title:"Registrar rea neste interesse",children:"Registrar rea"}),x.jsx("button",{type:"button",onClick:()=>I(J),className:"rounded-lg p-2 text-zinc-500 hover:bg-zinc-800 hover:text-zinc-300 transition-colors",title:"Editar",children:x.jsx("svg",{className:"h-4 w-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:x.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15.232 5.232l3.536 3.536m-2.036-5.036a2.5 2.5 0 113.536 3.536L6.5 21.036H3v-3.572L16.732 3.732z"})})}),x.jsx("button",{type:"button",onClick:()=>z(J),className:"rounded-lg p-2 text-zinc-500 hover:bg-red-500/10 hover:text-red-500 transition-colors",title:"Excluir",children:x.jsx("svg",{className:"h-4 w-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:x.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})})})]})]})}),x.jsxs("div",{className:"p-5",children:[k===J.id&&x.jsxs("form",{onSubmit:ie=>$(ie,J.id),className:"mb-4 flex gap-2 rounded-lg border border-zinc-700 bg-surface-800/50 p-3",children:[x.jsx("input",{value:S,onChange:ie=>C(ie.target.value),placeholder:"Nome da nova rea",className:"h-9 flex-1 rounded-lg border border-zinc-600 bg-surface-800 px-3 text-sm text-zinc-200 placeholder-zinc-500 focus:border-accent focus:outline-none",autoFocus:!0}),x.jsx("button",{type:"submit",disabled:!S.trim(),className:"h-9 rounded-lg bg-accent px-3 text-sm font-medium text-white hover:bg-accent-bright disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:"Adicionar"}),x.jsx("button",{type:"button",onClick:()=>{w(null),C("")},className:"h-9 rounded-lg border border-zinc-600 px-3 text-sm text-zinc-400 hover:text-zinc-200 transition-colors",children:"Cancelar"})]}),J.areas.length===0&&k!==J.id&&x.jsxs("div",{className:"rounded-lg border border-dashed border-zinc-700 py-8 text-center",children:[x.jsx("p",{className:"text-sm text-zinc-500",children:"Nenhuma rea cadastrada neste interesse"}),x.jsx("p",{className:"mt-1 text-xs text-zinc-600",children:'Clique em "Registrar rea" ou use o formulrio acima'})]}),J.areas.length>0&&x.jsxs("table",{className:"w-full",children:[x.jsx("thead",{children:x.jsxs("tr",{className:"border-b border-zinc-800",children:[x.jsx("th",{className:"pb-3 text-left text-xs font-medium uppercase tracking-wider text-zinc-500",children:"Nome da rea"}),x.jsx("th",{className:"pb-3 text-right text-xs font-medium uppercase tracking-wider text-zinc-500",children:"Aes"})]})}),x.jsx("tbody",{className:"divide-y divide-zinc-800/50",children:J.areas.map(ie=>x.jsxs("tr",{className:"group",children:[x.jsx("td",{className:"py-3",children:F===ie.id?x.jsxs("div",{className:"flex items-center gap-2",children:[x.jsx("input",{value:Z,onChange:le=>G(le.target.value),className:"h-9 flex-1 rounded-lg border border-zinc-600 bg-surface-800 px-3 text-sm text-zinc-200 focus:border-accent focus:outline-none",autoFocus:!0}),x.jsx("button",{type:"button",onClick:T,className:"rounded-lg bg-accent p-1.5 text-white hover:bg-accent-bright transition-colors",children:x.jsx("svg",{className:"h-4 w-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:x.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})})}),x.jsx("button",{type:"button",onClick:K,className:"rounded-lg border border-zinc-600 p-1.5 text-zinc-400 hover:text-zinc-200 transition-colors",children:x.jsx("svg",{className:"h-4 w-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:x.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}):x.jsxs("div",{className:"flex items-center gap-2",children:[x.jsx("span",{className:"h-2 w-2 rounded-full bg-accent/60"}),x.jsx("span",{className:"text-sm font-medium text-zinc-300",children:ie.name})]})}),x.jsx("td",{className:"py-3 text-right",children:F!==ie.id&&x.jsxs("div",{className:"flex items-center justify-end gap-1 opacity-0 group-hover:opacity-100 transition-opacity",children:[x.jsx("button",{type:"button",onClick:()=>W(ie),className:"rounded-lg px-2 py-1.5 text-xs font-medium text-accent hover:bg-accent/10 transition-colors",title:"Criar ideia com nome padro (editar depois)",children:"Criar ideia"}),x.jsx("button",{type:"button",onClick:()=>Y(ie),className:"rounded-lg p-1.5 text-zinc-500 hover:bg-zinc-800 hover:text-zinc-300 transition-colors",title:"Editar",children:x.jsx("svg",{className:"h-4 w-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:x.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15.232 5.232l3.536 3.536m-2.036-5.036a2.5 2.5 0 113.536 3.536L6.5 21.036H3v-3.572L16.732 3.732z"})})}),x.jsx("button",{type:"button",onClick:()=>P(ie),className:"rounded-lg p-1.5 text-zinc-500 hover:bg-red-500/10 hover:text-red-500 transition-colors",title:"Excluir",children:x.jsx("svg",{className:"h-4 w-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:x.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})})})]})})]},ie.id))})]})]})]},J.id))})]})]}),x.jsx(SS,{isOpen:X.isOpen,title:X.type==="interest"?"Excluir Interesse":"Excluir rea",message:q,itemName:((U=X.item)==null?void 0:U.name)??"",onConfirm:H,onCancel:()=>B({isOpen:!1,type:"interest",item:null,cascadeCount:0})})]})}function CS(e){const r=[220,260,300,340,20,60,100,160,200],i=r[e.charCodeAt(0)%r.length],s=(i+40)%360;return`linear-gradient(135deg, hsl(${i}, 70%, 60%), hsl(${s}, 70%, 50%))`}function jS({isOpen:e,idea:r,onConfirm:i,onCancel:s}){return!e||!r?null:x.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/60 backdrop-blur-sm",children:x.jsxs("div",{className:"w-full max-w-md rounded-2xl border border-zinc-700 bg-surface-900 p-6 shadow-2xl",children:[x.jsx("div",{className:"mb-4 flex h-12 w-12 items-center justify-center rounded-full bg-red-500/10",children:x.jsx("svg",{className:"h-6 w-6 text-red-500",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:x.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})})}),x.jsx("h3",{className:"mb-2 text-lg font-semibold text-zinc-100",children:"Excluir Ideia"}),x.jsx("p",{className:"mb-2 text-sm text-zinc-400",children:"Esta ao excluir permanentemente a ideia. Esta ao no pode ser desfeita."}),x.jsx("p",{className:"mb-6 rounded-lg bg-zinc-800/50 px-3 py-2 text-sm font-medium text-zinc-300",children:r.title}),x.jsxs("div",{className:"flex justify-end gap-3",children:[x.jsx("button",{type:"button",onClick:s,className:"rounded-lg border border-zinc-700 px-4 py-2 text-sm text-zinc-300 hover:border-zinc-500 hover:text-zinc-100 transition-colors",children:"Cancelar"}),x.jsx("button",{type:"button",onClick:i,className:"rounded-lg bg-red-500 px-4 py-2 text-sm font-medium text-white hover:bg-red-600 transition-colors",children:"Excluir"})]})]})})}function zS({document:e,onEdit:r,onDelete:i}){const s=e.cover&&e.cover.trim()!=="",a=s?e.cover:CS(e.id),l=typeof a=="string"&&(a.startsWith("http")||a.startsWith("data:image"));return x.jsxs("div",{className:"group relative bg-surface-800 rounded-xl border border-zinc-700/50 overflow-hidden hover:border-zinc-600/50 transition-all",children:[x.jsxs("div",{className:"h-32 w-full bg-cover bg-center relative",style:l?{backgroundImage:`url(${a})`}:{background:a},children:[!s&&x.jsx("div",{className:"w-full h-full flex items-center justify-center",children:x.jsx("svg",{className:"w-12 h-12 text-white/50",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:x.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})})}),x.jsxs("div",{className:"absolute inset-0 bg-black/0 group-hover:bg-black/40 transition-colors flex items-center justify-center gap-2 opacity-0 group-hover:opacity-100",children:[x.jsx("button",{type:"button",onClick:()=>r(e.id),className:"px-4 py-2 rounded-lg bg-white/90 text-surface-900 text-sm font-medium hover:bg-white transition-colors",children:"Editar"}),x.jsx("button",{type:"button",onClick:()=>i(e),className:"px-4 py-2 rounded-lg bg-red-500/90 text-white text-sm font-medium hover:bg-red-500 transition-colors",children:"Excluir"})]})]}),x.jsxs("div",{className:"p-4",children:[x.jsx("h4",{className:"text-zinc-200 font-semibold text-sm line-clamp-1 mb-1",children:e.title}),e.tags.length>0&&x.jsxs("div",{className:"flex items-center gap-1 flex-wrap",children:[e.tags.slice(0,3).map(u=>x.jsxs("span",{className:"text-xs text-zinc-500",children:["#",u]},u)),e.tags.length>3&&x.jsxs("span",{className:"text-xs text-zinc-600",children:["+",e.tags.length-3]})]})]})]})}function MS(){const e=er(),{documents:r,remove:i}=Ni(),{interests:s,areas:a}=bi(),[l,u]=R.useState(()=>new Set(s[0]?[s[0].id]:[])),[d,f]=R.useState(()=>new Set(a.map(F=>F.id))),[h,p]=R.useState(""),[m,g]=R.useState({isOpen:!1,idea:null});R.useEffect(()=>{u(new Set(s[0]?[s[0].id]:[])),f(new Set(a.map(F=>F.id)))},[s,a]);const y=F=>{u(V=>V.has(F)?new Set:new Set([F]))},N=F=>{f(V=>{const Z=new Set(V);return Z.has(F)?Z.delete(F):Z.add(F),Z})},k=()=>{e("/ideia/new")},w=F=>{e(`/ideia/${F}`)},S=F=>{g({isOpen:!0,idea:F})},C=async()=>{m.idea&&await i(m.idea.id),g({isOpen:!1,idea:null})},E=R.useMemo(()=>[...s].sort((F,V)=>F.name.localeCompare(V.name,"pt-BR")),[s]),_=F=>a.filter(V=>V.interestId===F).sort((V,Z)=>V.name.localeCompare(Z.name,"pt-BR")),M=F=>r.filter(V=>V.area===F).filter(V=>{if(!h)return!0;const Z=h.toLowerCase();return V.title.toLowerCase().includes(Z)||V.content.toLowerCase().includes(Z)||V.tags.some(G=>G.toLowerCase().includes(Z))}).sort((V,Z)=>V.title.localeCompare(Z.title,"pt-BR")),O=F=>r.filter(V=>V.area===F).length;return x.jsxs("div",{className:"h-full bg-surface-950 overflow-auto",children:[x.jsxs("div",{className:"max-w-6xl mx-auto p-6",children:[x.jsxs("div",{className:"flex items-center justify-between mb-8",children:[x.jsxs("div",{children:[x.jsx("h1",{className:"text-2xl font-semibold text-white mb-1",children:"Lista de Ideias"}),x.jsx("p",{className:"text-zinc-400 text-sm",children:"Organizadas por Interesse  rea"})]}),x.jsxs("button",{onClick:k,className:`
              flex items-center gap-2 px-4 py-2.5 rounded-xl
              bg-accent text-white font-medium
              hover:bg-accent-bright transition-colors
              shadow-lg shadow-accent/20
            `,children:[x.jsx("svg",{className:"w-5 h-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:x.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 4v16m8-8H4"})}),"Nova ideia"]})]}),x.jsx("div",{className:"mb-6",children:x.jsxs("div",{className:"relative max-w-md",children:[x.jsx("div",{className:"absolute left-3 top-1/2 -translate-y-1/2 text-zinc-500",children:x.jsx("svg",{className:"w-5 h-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:x.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})})}),x.jsx("input",{type:"text",placeholder:"Buscar ideias...",value:h,onChange:F=>p(F.target.value),className:`
                w-full h-11 pl-11 pr-4 rounded-xl
                bg-surface-800 border border-zinc-700/50
                text-zinc-200 placeholder:text-zinc-500
                focus:outline-none focus:border-zinc-600 focus:ring-2 focus:ring-accent/20
                transition-all
              `}),h&&x.jsx("button",{onClick:()=>p(""),className:"absolute right-3 top-1/2 -translate-y-1/2 text-zinc-500 hover:text-zinc-300",children:x.jsx("svg",{className:"w-5 h-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:x.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]})}),x.jsxs("div",{className:"flex gap-8",children:[x.jsx("div",{className:"w-72 flex-shrink-0",children:x.jsx("div",{className:"rounded-lg border border-zinc-800/80 bg-surface-900/40 p-2",children:E.length===0?x.jsxs("div",{className:"px-4 py-8 text-center",children:[x.jsx("p",{className:"text-sm text-zinc-500",children:"Nenhum interesse"}),x.jsxs("p",{className:"text-xs text-zinc-600 mt-1",children:["Crie em ",x.jsx("span",{className:"text-accent",children:"Cadastros"})]})]}):x.jsx("div",{className:"space-y-2",children:E.map(F=>{const V=_(F.id).length,Z=l.has(F.id);return x.jsxs("div",{className:"rounded-md border border-zinc-800/60 overflow-hidden",children:[x.jsxs("button",{type:"button",onClick:()=>y(F.id),className:`
                        w-full flex items-center justify-between gap-2
                        px-4 py-3.5 text-left
                        transition-colors
                        ${Z?"bg-zinc-800/50":"hover:bg-zinc-800/30"}
                      `,children:[x.jsx("span",{className:"text-sm font-medium text-accent/90 truncate",children:F.name}),x.jsxs("div",{className:"flex items-center gap-2 flex-shrink-0",children:[x.jsx("span",{className:"text-xs text-accent/70 tabular-nums",children:V}),x.jsx("svg",{className:`w-4 h-4 text-accent/70 transition-transform duration-200 ${Z?"rotate-180":""}`,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:x.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M19 9l-7 7-7-7"})})]})]}),Z&&x.jsx("div",{className:"bg-surface-950/50 py-1",children:_(F.id).map(G=>{const X=O(G.name),B=d.has(G.id);return x.jsx("div",{className:"border-t border-zinc-800/40 first:border-t-0",children:x.jsxs("button",{type:"button",onClick:()=>N(G.id),className:"w-full flex items-center justify-between gap-2 px-4 py-2.5 pl-5 text-left hover:bg-zinc-800/20 transition-colors",children:[x.jsx("span",{className:"text-xs text-zinc-100 truncate uppercase tracking-wider",children:G.name}),x.jsxs("div",{className:"flex items-center gap-2 flex-shrink-0",children:[x.jsx("span",{className:"text-xs text-zinc-500 tabular-nums",children:X}),x.jsx("svg",{className:`w-3.5 h-3.5 text-zinc-500 transition-transform duration-200 ${B?"rotate-180":""}`,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:x.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M19 9l-7 7-7-7"})})]})]})},G.id)})})]},F.id)})})})}),x.jsx("div",{className:"flex-1 min-w-0",children:E.filter(F=>l.has(F.id)).length===0?x.jsx("p",{className:"text-sm text-zinc-500 py-4",children:"Selecione um interesse para ver as ideias."}):x.jsx("div",{className:"space-y-6",children:E.map(F=>{if(!l.has(F.id))return null;const V=_(F.id);return x.jsx("div",{className:"space-y-4",children:V.map(Z=>{if(!d.has(Z.id))return null;const G=M(Z.name);return x.jsxs("div",{children:[x.jsxs("h3",{className:"text-xs font-medium uppercase tracking-wider mb-3",children:[x.jsx("span",{className:"text-accent/90",children:F.name}),x.jsx("span",{className:"text-zinc-500",children:"  "}),x.jsx("span",{className:"text-zinc-100",children:Z.name})]}),G.length>0?x.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-3",children:G.map(X=>x.jsx(zS,{document:X,onEdit:w,onDelete:S},X.id))}):x.jsxs("div",{className:"py-6 rounded-lg bg-zinc-900/30 border border-zinc-800/50 text-center",children:[x.jsx("p",{className:"text-sm text-zinc-500",children:"Nenhuma ideia nesta rea"}),x.jsx("button",{type:"button",onClick:k,className:"text-accent text-sm mt-1 hover:underline",children:"Criar uma ideia"})]})]},Z.id)})},F.id)})})})]})]}),x.jsx(jS,{isOpen:m.isOpen,idea:m.idea,onConfirm:C,onCancel:()=>g({isOpen:!1,idea:null})})]})}function pc(){return Math.random().toString(36).substring(2,9)}function h0(e){const r=e.trimStart();return r.startsWith("### ")?3:r.startsWith("## ")?2:r.startsWith("# ")?1:0}function p0(e){const r=e.length-e.trimStart().length,i=e.trimStart();return i.startsWith("### ")?" ".repeat(r)+i.slice(4):i.startsWith("## ")?" ".repeat(r)+i.slice(3):i.startsWith("# ")?" ".repeat(r)+i.slice(2):e}function IS(e,r){if(r<=0)return e;const i=e.length-e.trimStart().length,s=e.trimStart();return s?`${" ".repeat(i)}${"#".repeat(r)} ${s}`:""}function m0(e){switch(e){case 1:return"text-3xl font-bold text-zinc-100";case 2:return"text-2xl font-semibold text-zinc-200";case 3:return"text-xl font-medium text-zinc-300";default:return"text-base text-zinc-300"}}function LS(e){switch(e){case 1:return"Ttulo 1";case 2:return"Ttulo 2";case 3:return"Ttulo 3";default:return"Digite algo..."}}function PS({content:e,onChange:r,placeholder:i="Comece a escrever...",documents:s,currentDocumentId:a}){var G,X;const l=B=>B?B.split(`
`).map(D=>{const j=h0(D);return{id:pc(),text:p0(D),level:j}}):[{id:pc(),text:"",level:0}],[u,d]=R.useState(()=>l(e)),[f,h]=R.useState(null),[p,m]=R.useState(!1),[g,y]=R.useState([]),[N,k]=R.useState(0),w=R.useRef(new Map),S=R.useRef(null),C=R.useRef(new Map),E=R.useRef(e);R.useEffect(()=>{if(e===E.current)return;const B=l(e);d(B),E.current=e,B.forEach(D=>{C.current.set(D.id,D.text)}),setTimeout(()=>{B.forEach(D=>{const j=w.current.get(D.id);j&&j.innerText!==D.text&&(j.innerText=D.text)})},0)},[e]),R.useEffect(()=>{u.forEach(B=>{C.current.has(B.id)||C.current.set(B.id,B.text)})},[u]);const _=R.useCallback(B=>{const Q=(B??u).map($=>{const W=C.current.get($.id)??$.text;return IS(W,$.level)}).join(`
`);E.current=Q,r(Q)},[u,r]),M=R.useCallback((B,D,j)=>{C.current.set(B,D);const Q=u.find(P=>P.id===B);if(!Q)return;const $=h0(D),W=p0(D),z=j??($>0?$:Q.level);C.current.set(B,W),d(P=>P.map(H=>H.id===B?{...H,text:W,level:z}:H)),_()},[u,_]),O=R.useCallback((B,D,j)=>{const Q=w.current.get(B);if(!Q)return;const $=Q.innerText,W=$.slice(0,D),z=$.slice(D),P=W.lastIndexOf("@"),H=`[[${j.label}]] `,I=W.slice(0,P)+H+z;Q.innerText=I,C.current.set(B,I),d(L=>L.map(ee=>ee.id===B?{...ee,text:I}:ee)),m(!1),_(),setTimeout(()=>{var Y;const L=document.createRange(),ee=Q.firstChild;if(ee){const T=P+H.length,K=((Y=ee.textContent)==null?void 0:Y.length)??0;if(T<=K){L.setStart(ee,T),L.collapse(!0);const q=window.getSelection();q==null||q.removeAllRanges(),q==null||q.addRange(L)}}},0)},[_]),F=R.useCallback((B,D)=>{const j=w.current.get(D);if(!j)return;const $=(()=>{const W=window.getSelection();if(!W||W.rangeCount===0)return j.innerText.length;const z=W.getRangeAt(0),P=z.cloneRange();return P.selectNodeContents(j),P.setEnd(z.startContainer,z.startOffset),P.toString().length})();if(B.key==="Backspace"){const W=u.findIndex(P=>P.id===D),z=W>=0?u[W]:null;if($===0){if(z&&z.level>0){B.preventDefault();const P=u.map(H=>H.id===D?{...H,level:0}:H);d(P),_(P);return}if(W>0){B.preventDefault();const P=u[W-1],H=w.current.get(P.id),I=C.current.get(P.id)??P.text,L=j.innerText,ee=I+L;C.current.set(P.id,ee);const Y=[...u.slice(0,W-1),{...P,text:ee},...u.slice(W+1)];d(Y),h(P.id),_(Y),requestAnimationFrame(()=>{var q;if(!H)return;H.focus(),H.innerText=ee;const T=document.createRange(),K=H.firstChild;if(K){const U=Math.min(I.length,((q=K.textContent)==null?void 0:q.length)??0);T.setStart(K,U),T.collapse(!0);const J=window.getSelection();J==null||J.removeAllRanges(),J==null||J.addRange(T)}});return}}}if(B.key==="Enter"&&!p){B.preventDefault();const W=u.findIndex(Y=>Y.id===D);if(W===-1)return;const z=u[W],P=j.innerText,H=P.slice(0,$),I=P.slice($),L=pc(),ee=[...u.slice(0,W),{...z,text:H},{id:L,text:I,level:0},...u.slice(W+1)];C.current.set(D,H),C.current.set(L,I),d(ee),h(L),_(ee),requestAnimationFrame(()=>{const Y=w.current.get(L);if(!Y)return;Y.focus();const T=document.createRange();T.selectNodeContents(Y),T.collapse(!0);const K=window.getSelection();K==null||K.removeAllRanges(),K==null||K.addRange(T)});return}if(!(!p||g.length===0)){if(B.key==="ArrowDown"){B.preventDefault(),k(W=>(W+1)%g.length);return}if(B.key==="ArrowUp"){B.preventDefault(),k(W=>(W-1+g.length)%g.length);return}if(B.key==="Enter"||B.key==="Tab"){B.preventDefault();const W=g[N];W&&O(D,$,W);return}B.key==="Escape"&&(B.preventDefault(),m(!1))}},[u,p,g,N,O,_]),V=R.useCallback(B=>{const D=w.current.get(B);if(!D)return;const j=D.innerText,Q=window.getSelection(),$=(Q==null?void 0:Q.getRangeAt(0).startOffset)??0,W=j.trimStart(),z=j.length-W.length;if($===z+2&&W.startsWith("# ")){const Y=" ".repeat(z)+W.slice(2);D.innerText=Y,M(B,Y,1);return}if($===z+3&&W.startsWith("## ")){const Y=" ".repeat(z)+W.slice(3);D.innerText=Y,M(B,Y,2);return}if($===z+4&&W.startsWith("### ")){const Y=" ".repeat(z)+W.slice(4);D.innerText=Y,M(B,Y,3);return}M(B,j);const P=j.slice(0,$),H=P.lastIndexOf("@"),I=P.lastIndexOf(" "),L=P.lastIndexOf(`
`),ee=Math.max(I,L);if(H>ee){const Y=P.slice(H+1);if(!Y.includes(" ")){const T=s.filter(K=>K.id!==a&&K.title.toLowerCase().includes(Y.toLowerCase())).slice(0,5).map(K=>({id:K.id,label:K.title,type:"idea"}));if(T.length>0){y(T),k(0),m(!0);return}}}m(!1)},[s,a,M]),Z=R.useCallback(()=>{setTimeout(()=>{const B=S.current,D=window.getSelection(),j=(D==null?void 0:D.anchorNode)??null,Q=(D==null?void 0:D.focusNode)??null;B&&(j&&B.contains(j)||Q&&B.contains(Q))||(h(null),m(!1))},0)},[]);return x.jsxs("div",{ref:S,className:"relative",children:[u.map((B,D)=>{const j=f===B.id,Q=!C.current.get(B.id)&&!B.text;return x.jsxs("div",{className:"relative",children:[x.jsx("div",{ref:$=>{if($){w.current.set(B.id,$);const W=C.current.get(B.id)??B.text;$.innerText===""&&W&&($.innerText=W)}},contentEditable:!0,suppressContentEditableWarning:!0,onInput:()=>V(B.id),onKeyDown:$=>F($,B.id),onFocus:()=>h(B.id),onBlur:Z,className:`
                outline-none min-h-[1.5em] py-1 leading-relaxed
                ${m0(B.level)}
                ${Q&&!j?"text-zinc-600":""}
              `,style:{whiteSpace:"pre-wrap"}}),Q&&!j&&x.jsx("div",{className:`
                  absolute top-1 left-0 pointer-events-none select-none
                  ${m0(B.level).replace(/text-zinc-\d+/,"text-zinc-600")}
                `,children:D===0?i:LS(B.level)})]},B.id)}),p&&f&&x.jsx("div",{className:"absolute z-10 mt-2 bg-surface-800 border border-zinc-700 rounded-xl shadow-2xl min-w-[220px] py-1",style:{top:(((G=w.current.get(f))==null?void 0:G.getBoundingClientRect().bottom)??0)-(((X=S.current)==null?void 0:X.getBoundingClientRect().top)??0),left:0},children:g.map((B,D)=>x.jsxs("button",{type:"button",onClick:()=>{if(f&&w.current.get(f)){const Q=window.getSelection(),$=(Q==null?void 0:Q.getRangeAt(0).startOffset)??0;O(f,$,B)}},className:`
                w-full px-4 py-2.5 text-left text-sm
                flex items-center gap-3
                transition-colors
                ${D===N?"bg-accent/20 text-accent":"text-zinc-300 hover:bg-zinc-700/50"}
              `,children:[x.jsx("svg",{className:"w-4 h-4 text-zinc-500",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:x.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})}),x.jsx("span",{className:"truncate",children:B.label})]},B.id))})]})}const AS="https://openrouter.ai/api/v1/chat/completions",TS="mistralai/mistral-7b-instruct:free";function RS(){return"".trim()}function OS(){return TS.trim()}function DS(e){return[{role:"system",content:"Voce e um editor tecnico. Reescreva o texto mantendo o formato existente. Preserve ao maximo: quebras de linha, estrutura de paragrafos, headings em cada linha e links no formato [[...]]. Nao adicione explicacoes. Retorne apenas o texto final."},{role:"user",content:`Instrucao: ${e.instruction}

Texto atual:
`+e.content}]}async function $S(e){var l,u,d,f;const r=RS();if(!r)throw new Error("Configure VITE_OPENROUTER_API_KEY para usar a IA.");const i=await fetch(AS,{method:"POST",headers:{Authorization:`Bearer ${r}`,"Content-Type":"application/json","HTTP-Referer":window.location.origin,"X-Title":"Obsidian Premium Editor"},body:JSON.stringify({model:OS(),temperature:.2,messages:DS(e)})});if(!i.ok)throw new Error(`OpenRouter retornou erro (${i.status}).`);const a=(f=(d=(u=(l=(await i.json()).choices)==null?void 0:l[0])==null?void 0:u.message)==null?void 0:d.content)==null?void 0:f.trim();if(!a)throw new Error("Resposta vazia da IA.");return a}function BS({isOpen:e,currentUrl:r,onClose:i,onSaveUrl:s,onUpload:a}){const[l,u]=R.useState(r),[d,f]=R.useState("url"),h=R.useRef(null);if(R.useEffect(()=>{e&&u(r)},[e,r]),!e)return null;const p=g=>{var N;const y=(N=g.target.files)==null?void 0:N[0];y&&(a(y),i())},m=()=>{s(l),i()};return x.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/60 backdrop-blur-sm",children:x.jsxs("div",{className:"w-full max-w-md rounded-2xl border border-zinc-700 bg-surface-900 p-6 shadow-2xl",children:[x.jsxs("div",{className:"flex items-center justify-between mb-6",children:[x.jsx("h3",{className:"text-lg font-semibold text-zinc-100",children:"Adicionar Capa"}),x.jsx("button",{type:"button",onClick:i,className:"rounded-lg p-1 text-zinc-500 hover:bg-zinc-800 hover:text-zinc-300 transition-colors",children:x.jsx("svg",{className:"w-5 h-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:x.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),x.jsxs("div",{className:"flex gap-2 mb-6",children:[x.jsx("button",{type:"button",onClick:()=>f("url"),className:`flex-1 py-2 rounded-lg text-sm font-medium transition-colors ${d==="url"?"bg-accent text-white":"bg-zinc-800 text-zinc-400 hover:text-zinc-200"}`,children:"Link da Imagem"}),x.jsx("button",{type:"button",onClick:()=>f("upload"),className:`flex-1 py-2 rounded-lg text-sm font-medium transition-colors ${d==="upload"?"bg-accent text-white":"bg-zinc-800 text-zinc-400 hover:text-zinc-200"}`,children:"Upload de Arquivo"})]}),d==="url"?x.jsxs("div",{children:[x.jsx("label",{className:"block text-sm text-zinc-400 mb-2",children:"URL da imagem"}),x.jsx("input",{type:"text",value:l,onChange:g=>u(g.target.value),placeholder:"https://...",className:"w-full h-11 px-4 rounded-xl border border-zinc-700 bg-surface-800 text-sm text-zinc-200 placeholder:text-zinc-600 focus:border-accent focus:outline-none"}),x.jsxs("div",{className:"flex justify-end gap-2 mt-4",children:[x.jsx("button",{type:"button",onClick:i,className:"px-4 py-2 rounded-lg text-sm text-zinc-400 hover:text-zinc-200 transition-colors",children:"Cancelar"}),x.jsx("button",{type:"button",onClick:m,disabled:!l.trim(),className:"px-4 py-2 rounded-lg bg-accent text-white text-sm font-medium hover:bg-accent-bright disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:"Salvar"})]})]}):x.jsxs("div",{children:[x.jsx("input",{ref:h,type:"file",accept:"image/*",onChange:p,className:"hidden"}),x.jsx("button",{type:"button",onClick:()=>{var g;return(g=h.current)==null?void 0:g.click()},className:"w-full py-12 rounded-xl border-2 border-dashed border-zinc-700 hover:border-accent hover:bg-accent/5 transition-colors",children:x.jsxs("div",{className:"flex flex-col items-center gap-2 text-zinc-400",children:[x.jsx("svg",{className:"w-8 h-8",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:x.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,d:"M4 16l4.586-4.586a2 2 0 012.828 0L16 16m-2-2l1.586-1.586a2 2 0 012.828 0L20 14m-6-6h.01M6 20h12a2 2 0 002-2V6a2 2 0 00-2-2H6a2 2 0 00-2 2v12a2 2 0 002 2z"})}),x.jsx("span",{className:"text-sm",children:"Clique para selecionar uma imagem"}),x.jsx("span",{className:"text-xs text-zinc-500",children:"PNG, JPG, GIF at 5MB"})]})}),x.jsx("div",{className:"flex justify-end mt-4",children:x.jsx("button",{type:"button",onClick:i,className:"px-4 py-2 rounded-lg text-sm text-zinc-400 hover:text-zinc-200 transition-colors",children:"Cancelar"})})]})]})})}function FS({isOpen:e,instruction:r,onInstructionChange:i,onClose:s,onRun:a,isRunning:l,error:u}){return e?x.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/60 backdrop-blur-sm",children:x.jsxs("div",{className:"w-full max-w-lg rounded-2xl border border-zinc-700 bg-surface-900 p-6 shadow-2xl",children:[x.jsxs("div",{className:"flex items-center justify-between mb-4",children:[x.jsx("h3",{className:"text-lg font-semibold text-zinc-100",children:"Editar com IA"}),x.jsx("button",{type:"button",onClick:s,disabled:l,className:"rounded-lg p-1 text-zinc-500 hover:bg-zinc-800 hover:text-zinc-300 transition-colors disabled:opacity-50",children:x.jsx("svg",{className:"w-5 h-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:x.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),x.jsx("p",{className:"text-sm text-zinc-400 mb-3",children:"Descreva o que a IA deve fazer. A resposta substitui o contedo atual."}),x.jsx("textarea",{value:r,onChange:d=>i(d.target.value),placeholder:"Ex.: Formate mantendo headings e melhore clareza sem mudar o sentido.",className:"w-full min-h-28 p-3 rounded-xl border border-zinc-700 bg-surface-800 text-sm text-zinc-200 placeholder:text-zinc-600 focus:border-accent focus:outline-none resize-y"}),u&&x.jsx("p",{className:"mt-3 text-sm text-red-400",children:u}),x.jsxs("div",{className:"flex justify-end gap-2 mt-5",children:[x.jsx("button",{type:"button",onClick:s,disabled:l,className:"px-4 py-2 rounded-lg text-sm text-zinc-400 hover:text-zinc-200 transition-colors disabled:opacity-50",children:"Cancelar"}),x.jsx("button",{type:"button",onClick:a,disabled:!r.trim()||l,className:"px-4 py-2 rounded-lg bg-accent text-white text-sm font-medium hover:bg-accent-bright disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:l?"Aplicando...":"Aplicar IA"})]})]})}):null}function VS(){const{id:e}=A0(),r=er(),i=e==="new",{documents:s,isLoaded:a,getById:l,create:u,update:d,remove:f,syncRelations:h}=Ni(),{interests:p,areas:m}=bi(),[g,y]=R.useState(""),[N,k]=R.useState(""),[w,S]=R.useState(""),[C,E]=R.useState(""),[_,M]=R.useState([]),[O,F]=R.useState(""),[V,Z]=R.useState(""),[G,X]=R.useState(!1),[B,D]=R.useState(!1),[j,Q]=R.useState(!1),[$,W]=R.useState(""),[z,P]=R.useState(null),[H,I]=R.useState(!1),[L,ee]=R.useState("idle"),[Y,T]=R.useState(!1),K=R.useRef(null),q=R.useMemo(()=>w?m.filter(me=>me.interestId===w):m,[m,w]),U=R.useMemo(()=>p.find(me=>me.id===w),[p,w]),J=R.useMemo(()=>m.find(me=>me.id===C),[m,C]);R.useEffect(()=>{if(!i&&e){const me=l(e);if(me){y(me.title),k(me.content),M(me.tags),Z(me.cover);const je=m.find($e=>$e.name===me.area);je&&(E(je.id),S(je.interestId))}else a&&r("/ideias")}},[i,e,l,m,r,a]),R.useEffect(()=>{i&&p.length>0&&!w&&S(p[0].id)},[i,p,w]),R.useEffect(()=>{if(!i||C||!w)return;const me=m.find(je=>je.interestId===w);me&&E(me.id)},[i,C,w,m]);const ie=me=>{k(me),T(!0)},le=()=>{O.trim()&&!_.includes(O.trim())&&(M([..._,O.trim()]),F(""),T(!0))},he=me=>{M(_.filter(je=>je!==me)),T(!0)},pe=R.useCallback(me=>{const je=new FileReader;je.onloadend=()=>{Z(je.result),T(!0)},je.readAsDataURL(me)},[]),ye=async()=>{if(!g.trim()||!C)return;ee("saving");const me=m.find($e=>$e.id===C);if(!me){ee("idle");return}const je=p.find($e=>$e.id===w);if(i){const $e={title:g.trim(),content:N,cover:V,interest:(je==null?void 0:je.name)||"",area:me.name,tags:_,relations:[]},dt=await u($e);dt&&(await h(dt.id,N),r(`/ideia/${dt.id}`,{replace:!0}),ee("saved"),T(!1),setTimeout(()=>ee("idle"),2e3))}else e&&(await d(e,{title:g.trim(),content:N,cover:V,interest:(je==null?void 0:je.name)||"",area:me.name,tags:_}),await h(e,N),ee("saved"),T(!1),setTimeout(()=>ee("idle"),2e3))},ke=()=>{r("/ideias")},Ce=()=>{r("/ideias")},Re=async()=>{if(i||!e||!window.confirm("Tem certeza que deseja excluir este documento? Essa ao no pode ser desfeita."))return;if(await f(e)){r("/ideias",{replace:!0});return}window.alert("No foi possvel excluir o documento. Tente novamente.")},st=async()=>{if(!(!$.trim()||!N.trim())){I(!0),P(null);try{const me=await $S({content:N,instruction:$.trim()});k(me),T(!0),Q(!1),W("")}catch(me){const je=me instanceof Error?me.message:"Falha ao processar com IA.";P(je)}finally{I(!1)}}};return x.jsxs("div",{className:"h-full bg-surface-950 overflow-auto",children:[x.jsxs("div",{className:"w-full max-w-none md:max-w-3xl md:mx-auto lg:max-w-4xl",children:[x.jsxs("div",{className:"sticky top-0 z-20 bg-surface-950/95 backdrop-blur-sm border-b border-zinc-800/50",children:[x.jsxs("div",{className:"flex items-center justify-between px-4 md:px-6 py-3",children:[x.jsxs("div",{className:"flex items-center gap-2",children:[x.jsxs("button",{type:"button",onClick:Ce,className:"flex items-center gap-2 px-3 py-1.5 rounded-lg text-sm text-zinc-500 hover:text-zinc-300 hover:bg-zinc-800/50 transition-colors",title:"Voltar para ideias",children:[x.jsx("svg",{className:"w-4 h-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:x.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 19l-7-7 7-7"})}),"Voltar"]}),x.jsxs("button",{type:"button",onClick:()=>X(!G),className:`
                  flex items-center gap-2 px-3 py-1.5 rounded-lg text-sm
                  transition-colors
                  ${G?"bg-accent/20 text-accent":"text-zinc-500 hover:text-zinc-300 hover:bg-zinc-800/50"}
                `,children:[x.jsx("svg",{className:"w-4 h-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:x.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),"Propriedades"]}),x.jsxs("button",{type:"button",onClick:()=>D(!0),className:`
                  flex items-center gap-2 px-3 py-1.5 rounded-lg text-sm
                  transition-colors
                  ${V?"bg-accent/20 text-accent":"text-zinc-500 hover:text-zinc-300 hover:bg-zinc-800/50"}
                `,title:V?"Alterar capa":"Adicionar capa",children:[x.jsx("svg",{className:"w-4 h-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:x.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 16l4.586-4.586a2 2 0 012.828 0L16 16m-2-2l1.586-1.586a2 2 0 012.828 0L20 14m-6-6h.01M6 20h12a2 2 0 002-2V6a2 2 0 00-2-2H6a2 2 0 00-2 2v12a2 2 0 002 2z"})}),V?"Alterar capa":"Adicionar capa"]}),x.jsxs("button",{type:"button",onClick:()=>{P(null),Q(!0)},className:`
                  flex items-center gap-2 px-3 py-1.5 rounded-lg text-sm
                  text-zinc-500 hover:text-zinc-300 hover:bg-zinc-800/50 transition-colors
                `,title:"Formatar ou modificar contedo com IA",children:[x.jsx("svg",{className:"w-4 h-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:x.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 3l1.912 5.813a1 1 0 00.95.688H21l-4.956 3.6a1 1 0 00-.364 1.118L17.59 20 12 16.4 6.41 20l1.91-5.781a1 1 0 00-.364-1.118L3 9.5h6.138a1 1 0 00.95-.688L12 3z"})}),"IA"]}),U&&x.jsxs("span",{className:"flex items-center gap-1.5 px-2 py-1 rounded-md bg-surface-800 text-xs text-zinc-400",children:[x.jsx("span",{className:"w-1.5 h-1.5 rounded-full bg-accent/60"}),U.name,J&&x.jsxs(x.Fragment,{children:[x.jsx("span",{className:"text-zinc-600",children:"/"}),x.jsx("span",{children:J.name})]})]})]}),x.jsxs("div",{className:"flex items-center gap-2",children:[!i&&x.jsx("button",{type:"button",onClick:Re,className:"px-3 py-1.5 rounded-lg text-sm text-red-400 hover:text-red-300 hover:bg-red-500/10 transition-colors",children:"Excluir"}),L==="saved"&&x.jsxs("span",{className:"flex items-center gap-1 px-2 py-1 rounded-md bg-green-500/10 text-green-500 text-xs",children:[x.jsx("svg",{className:"w-3 h-3",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:x.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})}),"Salvo"]}),L==="saving"&&x.jsxs("span",{className:"flex items-center gap-1 px-2 py-1 rounded-md bg-zinc-800 text-zinc-400 text-xs",children:[x.jsx("svg",{className:"w-3 h-3 animate-spin",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:x.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"})}),"Salvando..."]}),x.jsx("button",{type:"button",onClick:ke,className:"px-3 py-1.5 rounded-lg text-sm text-zinc-400 hover:text-zinc-200 hover:bg-zinc-800/50 transition-colors",children:"Cancelar"}),x.jsx("button",{type:"button",onClick:ye,disabled:!g.trim()||!C||!Y||L==="saving",className:"px-4 py-1.5 rounded-lg bg-accent text-white text-sm font-medium hover:bg-accent-bright disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:"Salvar"})]})]}),G&&x.jsxs("div",{className:"px-4 md:px-6 py-4 border-t border-zinc-800/50 bg-surface-900/30",children:[x.jsxs("div",{className:"grid grid-cols-2 gap-4 mb-4",children:[x.jsxs("div",{children:[x.jsx("label",{className:"block text-xs uppercase tracking-wider text-zinc-500 mb-1.5",children:"Interesse"}),x.jsx("select",{value:w,onChange:me=>{const je=me.target.value,$e=m.find(dt=>dt.interestId===je);S(je),E(($e==null?void 0:$e.id)??""),T(!0)},className:"w-full h-9 px-3 rounded-lg border border-zinc-700 bg-surface-800 text-sm text-zinc-200 focus:border-accent focus:outline-none",children:p.map(me=>x.jsx("option",{value:me.id,children:me.name},me.id))})]}),x.jsxs("div",{children:[x.jsx("label",{className:"block text-xs uppercase tracking-wider text-zinc-500 mb-1.5",children:"rea"}),x.jsxs("select",{value:C,onChange:me=>{E(me.target.value),T(!0)},className:"w-full h-9 px-3 rounded-lg border border-zinc-700 bg-surface-800 text-sm text-zinc-200 focus:border-accent focus:outline-none",children:[x.jsx("option",{value:"",children:"Selecione..."}),q.map(me=>x.jsx("option",{value:me.id,children:me.name},me.id))]})]})]}),V&&x.jsxs("div",{className:"mb-4",children:[x.jsx("label",{className:"block text-xs uppercase tracking-wider text-zinc-500 mb-1.5",children:"Capa atual"}),x.jsxs("div",{className:"relative w-32 h-20 rounded-lg overflow-hidden",children:[x.jsx("img",{src:V,alt:"Capa",className:"w-full h-full object-cover"}),x.jsx("button",{type:"button",onClick:()=>{Z(""),T(!0)},className:"absolute top-1 right-1 p-1 rounded bg-black/50 text-white hover:bg-black/70 transition-colors",children:x.jsx("svg",{className:"w-3 h-3",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:x.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]})]}),x.jsxs("div",{children:[x.jsx("label",{className:"block text-xs uppercase tracking-wider text-zinc-500 mb-1.5",children:"Tags"}),x.jsxs("div",{className:"flex items-center gap-2 flex-wrap",children:[_.map(me=>x.jsxs("span",{className:"inline-flex items-center gap-1 px-2 py-1 rounded-md bg-accent/10 text-accent text-xs",children:["#",me,x.jsx("button",{type:"button",onClick:()=>he(me),className:"hover:text-white",children:x.jsx("svg",{className:"w-3 h-3",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:x.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]},me)),x.jsxs("div",{className:"flex items-center gap-1",children:[x.jsx("input",{type:"text",value:O,onChange:me=>F(me.target.value),onKeyDown:me=>me.key==="Enter"&&le(),placeholder:"Nova tag...",className:"h-8 w-28 px-2 rounded-md border border-zinc-700 bg-surface-800 text-xs text-zinc-200 placeholder:text-zinc-600 focus:border-accent focus:outline-none"}),x.jsx("button",{type:"button",onClick:le,disabled:!O.trim(),className:"h-8 px-2 rounded-md bg-zinc-800 text-zinc-400 text-xs hover:bg-zinc-700 hover:text-zinc-200 disabled:opacity-50 transition-colors",children:"+"})]})]})]})]})]}),x.jsxs("div",{className:"px-4 md:px-6 lg:px-8 py-6",children:[V&&x.jsx("div",{className:"mb-8 rounded-xl overflow-hidden",children:x.jsx("img",{src:V,alt:"Capa",className:"w-full h-48 object-cover",onError:me=>{me.target.style.display="none"}})}),x.jsx("div",{className:"mb-6",children:x.jsx("input",{ref:K,type:"text",value:g,onChange:me=>{y(me.target.value),T(!0)},placeholder:"Ttulo da ideia...",className:`
                w-full bg-transparent border-none
                text-4xl font-bold text-zinc-100 placeholder:text-zinc-700
                focus:outline-none focus:ring-0
              `})}),x.jsxs("div",{className:"flex items-center gap-4 mb-6 text-zinc-600 text-xs",children:[x.jsxs("span",{className:"flex items-center gap-1",children:[x.jsx("kbd",{className:"px-1.5 py-0.5 rounded bg-zinc-800 font-mono text-zinc-500",children:"#"}),x.jsx("kbd",{className:"px-1.5 py-0.5 rounded bg-zinc-800 font-mono text-zinc-500",children:"##"}),x.jsx("kbd",{className:"px-1.5 py-0.5 rounded bg-zinc-800 font-mono text-zinc-500",children:"###"}),x.jsx("span",{children:"para ttulos"})]}),x.jsxs("span",{className:"flex items-center gap-1",children:[x.jsx("kbd",{className:"px-1.5 py-0.5 rounded bg-zinc-800 font-mono text-zinc-500",children:"@"}),x.jsx("span",{children:"para linkar ideias"})]}),x.jsxs("span",{className:"flex items-center gap-1",children:[x.jsx("kbd",{className:"px-1.5 py-0.5 rounded bg-zinc-800 font-mono text-zinc-500",children:"Enter"}),x.jsx("span",{children:"ou"}),x.jsx("kbd",{className:"px-1.5 py-0.5 rounded bg-zinc-800 font-mono text-zinc-500",children:"Tab"}),x.jsx("span",{children:"para selecionar"})]}),x.jsxs("span",{className:"flex items-center gap-1",children:[x.jsx("kbd",{className:"px-1.5 py-0.5 rounded bg-zinc-800 font-mono text-zinc-500",children:"Backspace"}),x.jsx("span",{children:"no incio remove ttulo"})]})]}),x.jsx("div",{className:"border-b border-zinc-800 mb-6"}),x.jsx("div",{className:"relative min-h-[400px]",children:x.jsx(PS,{content:N,onChange:ie,placeholder:"Comece a escrever...",documents:s,currentDocumentId:e})})]})]}),x.jsx(BS,{isOpen:B,currentUrl:V,onClose:()=>D(!1),onSaveUrl:me=>{Z(me),T(!0)},onUpload:pe}),x.jsx(FS,{isOpen:j,instruction:$,onInstructionChange:W,onClose:()=>{H||(Q(!1),P(null))},onRun:st,isRunning:H,error:z})]})}const HS=[{value:"nostatus",label:"Backlog"},{value:"todo",label:"A fazer"},{value:"doing",label:"Em andamento"},{value:"done",label:"Concludo"}],WS=[{value:"low",label:"Baixa"},{value:"medium",label:"Mdia"},{value:"high",label:"Alta"}];function US({isOpen:e,mode:r,initialCard:i,defaultStatus:s,isSaving:a,onClose:l,onSubmit:u}){const[d,f]=R.useState(""),[h,p]=R.useState(s),[m,g]=R.useState(""),[y,N]=R.useState(null),k=R.useMemo(()=>r==="create"?"Novo card":"Editar card",[r]);if(R.useEffect(()=>{e&&(f((i==null?void 0:i.title)??""),p((i==null?void 0:i.status)??s),g((i==null?void 0:i.priority)??""),N(null))},[e,i,s]),!e)return null;async function w(S){S.preventDefault();const C=d.trim();if(!C){N("Informe o ttulo do card.");return}if(!m){N("Selecione a prioridade.");return}N(null),await u({title:C,status:h,priority:m})}return x.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/60 p-4",children:x.jsxs("div",{className:"w-full max-w-md rounded-xl border border-zinc-800 bg-zinc-900 p-5 shadow-2xl",children:[x.jsxs("div",{className:"mb-4 flex items-center justify-between",children:[x.jsx("h2",{className:"text-lg font-semibold text-zinc-100",children:k}),x.jsx("button",{type:"button",onClick:l,className:"rounded-md px-2 py-1 text-sm text-zinc-400 transition-colors hover:bg-zinc-800 hover:text-zinc-200",children:"Fechar"})]}),x.jsxs("form",{onSubmit:w,className:"space-y-4",children:[x.jsxs("div",{children:[x.jsx("label",{className:"mb-1 block text-xs font-medium uppercase tracking-wide text-zinc-400",children:"Ttulo"}),x.jsx("input",{value:d,onChange:S=>f(S.target.value),className:"w-full rounded-md border border-zinc-700 bg-zinc-950 px-3 py-2 text-sm text-zinc-100 outline-none ring-0 transition-colors focus:border-zinc-500",placeholder:"Ex: Preparar reunio com cliente"})]}),x.jsxs("div",{children:[x.jsx("label",{className:"mb-1 block text-xs font-medium uppercase tracking-wide text-zinc-400",children:"Status"}),x.jsx("select",{value:h,onChange:S=>p(S.target.value),className:"w-full rounded-md border border-zinc-700 bg-zinc-950 px-3 py-2 text-sm text-zinc-100 outline-none transition-colors focus:border-zinc-500",children:HS.map(S=>x.jsx("option",{value:S.value,children:S.label},S.value))})]}),x.jsxs("div",{children:[x.jsx("label",{className:"mb-1 block text-xs font-medium uppercase tracking-wide text-zinc-400",children:"Prioridade"}),x.jsxs("select",{value:m,onChange:S=>g(S.target.value),className:"w-full rounded-md border border-zinc-700 bg-zinc-950 px-3 py-2 text-sm text-zinc-100 outline-none transition-colors focus:border-zinc-500",children:[x.jsx("option",{value:"",children:"Selecione uma prioridade"}),WS.map(S=>x.jsx("option",{value:S.value,children:S.label},S.value))]})]}),y?x.jsx("p",{className:"text-sm text-rose-300",children:y}):null,x.jsxs("div",{className:"flex items-center justify-end gap-2 pt-2",children:[x.jsx("button",{type:"button",onClick:l,className:"rounded-md border border-zinc-700 px-3 py-2 text-sm text-zinc-300 transition-colors hover:bg-zinc-800",disabled:a,children:"Cancelar"}),x.jsx("button",{type:"submit",className:"rounded-md bg-accent px-3 py-2 text-sm font-medium text-white transition-opacity disabled:opacity-60",disabled:a,children:a?"Salvando...":r==="create"?"Criar card":"Salvar alteraes"})]})]})]})})}const YS="",XS="/api/professional-planning/cards";class bo extends Error{constructor(r){super(r),this.name="ProfessionalPlanningError"}}function GS(){return YS}function QS(e){return`${GS()}${XS}${e}`}function kg(){return So()}function cd(e){return Array.isArray(e)?e.filter(r=>typeof r=="object"&&r!==null).map(r=>({id:typeof r.id=="string"?r.id:kg(),title:typeof r.title=="string"?r.title:"",status:r.status==="todo"||r.status==="doing"||r.status==="done"||r.status==="nostatus"?r.status:"nostatus",priority:r.priority==="low"||r.priority==="medium"||r.priority==="high"?r.priority:"low",isFinalized:typeof r.isFinalized=="boolean"?r.isFinalized:!1,completedAt:typeof r.completedAt=="string"?r.completedAt:null,createdAt:typeof r.createdAt=="string"?r.createdAt:new Date().toISOString(),updatedAt:typeof r.updatedAt=="string"?r.updatedAt:new Date().toISOString()})).filter(r=>r.title.trim().length>0):[]}async function el(e,r){const i={"Content-Type":"application/json"};let s;try{s=await fetch(QS(e),{...r,headers:{...i,...(r==null?void 0:r.headers)??{}}})}catch{throw new bo("Servidor indisponvel no momento.")}if(!s.ok){let l=s.status===401?"Token invlido ou ausente.":"Falha ao processar solicitao do Kanban.";try{const u=await s.json();typeof(u==null?void 0:u.message)=="string"&&u.message.trim().length>0&&(l=u.message)}catch{}throw new bo(l)}if(s.status===204)return;const a=await s.text();if(a.trim())try{return JSON.parse(a)}catch{throw new bo("Resposta invlida da API do Kanban.")}}async function KS(){const e=await el("");return cd(e)}async function qS(e){const r=await el("",{method:"POST",body:JSON.stringify({...e,id:kg(),createdAt:new Date().toISOString(),updatedAt:new Date().toISOString(),isFinalized:!1,completedAt:null})}),[i]=cd([r]);if(!i)throw new bo("Resposta invlida ao criar card.");return i}async function ZS(e,r){const i=await el(`/${e}`,{method:"PATCH",body:JSON.stringify(r)}),[s]=cd([i]);if(!s)throw new bo("Resposta invlida ao atualizar card.");return s}async function JS(e){await el(`/${e}`,{method:"DELETE"})}function e_(){return{todo:[],doing:[],done:[],nostatus:[]}}function t_(){const[e,r]=R.useState([]),[i,s]=R.useState(!0),[a,l]=R.useState(!1),[u,d]=R.useState(null),f=R.useCallback(async()=>{s(!0),d(null);try{const w=await KS();r(w)}catch(w){d(w instanceof Error?w.message:"Erro ao carregar cards.")}finally{s(!1)}},[]),h=R.useCallback(async w=>{l(!0),d(null);try{const S=await qS(w);return r(C=>[...C,S]),S}catch(S){return d(S instanceof Error?S.message:"Erro ao criar card."),null}finally{l(!1)}},[]),p=R.useCallback(async(w,S)=>{l(!0),d(null);try{const C=await ZS(w,S);return r(E=>E.map(_=>_.id===w?C:_)),C}catch(C){return d(C instanceof Error?C.message:"Erro ao editar card."),null}finally{l(!1)}},[]),m=R.useCallback(async w=>{l(!0),d(null);try{return await JS(w),r(S=>S.filter(C=>C.id!==w)),!0}catch(S){return d(S instanceof Error?S.message:"Erro ao excluir card."),!1}finally{l(!1)}},[]),g=R.useMemo(()=>{const w=e_();for(const S of e)S.isFinalized||w[S.status].push(S);return w},[e]),y=R.useMemo(()=>e.filter(w=>w.isFinalized).sort((w,S)=>{const C=w.completedAt?Date.parse(w.completedAt):0;return(S.completedAt?Date.parse(S.completedAt):0)-C}),[e]),N=R.useCallback(async w=>{const S=new Date().toISOString();return p(w,{status:"done",isFinalized:!0,completedAt:S})},[p]),k=R.useCallback(async w=>p(w,{isFinalized:!1,completedAt:null}),[p]);return{cards:e,cardsByStatus:g,finalizedCards:y,isLoading:i,isSaving:a,error:u,loadCards:f,createCard:h,editCard:p,removeCard:m,finalizeCard:N,reopenCard:k}}const n_=[{id:"todo",title:"A fazer",tone:"neutral"},{id:"doing",title:"Em andamento",tone:"amber"},{id:"done",title:"Concludo",tone:"green"}],r_={neutral:"bg-zinc-800/70 text-zinc-300",green:"bg-emerald-500/20 text-emerald-300",amber:"bg-amber-500/20 text-amber-300"},mc={low:"Baixa",medium:"Mdia",high:"Alta"},gc={low:"bg-zinc-800/80 text-zinc-300 border-zinc-700",medium:"bg-amber-500/20 text-amber-300 border-amber-500/30",high:"bg-rose-500/20 text-rose-300 border-rose-500/30"};function i_(){const{cardsByStatus:e,finalizedCards:r,isLoading:i,isSaving:s,error:a,loadCards:l,createCard:u,editCard:d,removeCard:f,finalizeCard:h,reopenCard:p}=t_(),[m,g]=R.useState(!1),[y,N]=R.useState("create"),[k,w]=R.useState(void 0),[S,C]=R.useState("todo"),[E,_]=R.useState(null),[M,O]=R.useState("kanban");R.useEffect(()=>{l()},[l]);const F=R.useMemo(()=>n_.map(L=>({...L,cards:e[L.id]})),[e]),V=e.nostatus??[],Z=R.useMemo(()=>{const L=new Map;for(const ee of F)for(const Y of ee.cards)L.set(Y.id,Y);return L},[F]);function G(L){N("create"),C(L),w(void 0),g(!0)}function X(L){N("edit"),C(L.status),w(L),g(!0)}async function B(L){window.confirm(`Deseja excluir o card "${L.title}"?`)&&await f(L.id)}async function D(L,ee){L.status!==ee&&await d(L.id,{status:ee})}async function j(L){await h(L.id)}async function Q(L){await p(L.id)}function $(L){if(!L)return"Sem data";const ee=new Date(L);return Number.isNaN(ee.getTime())?"Sem data":ee.toLocaleString("pt-BR")}function W(L,ee){L.dataTransfer.effectAllowed="move",L.dataTransfer.setData("text/plain",ee)}function z(L,ee){L.preventDefault(),L.dataTransfer.dropEffect="move",E!==ee&&_(ee)}function P(){_(null)}async function H(L,ee){L.preventDefault();const Y=L.dataTransfer.getData("text/plain");if(_(null),!Y)return;const T=Z.get(Y);T&&await D(T,ee)}async function I(L){if(y==="create"){await u(L)&&g(!1);return}if(!k)return;await d(k.id,L)&&g(!1)}return x.jsxs("div",{className:"min-h-full bg-[#191919]",children:[x.jsxs("div",{className:"mx-auto max-w-[1400px] px-8 py-10",children:[x.jsxs("header",{className:"mb-8",children:[x.jsx("p",{className:"text-xs uppercase tracking-[0.2em] text-zinc-500",children:"Task management"}),x.jsx("h1",{className:"mt-2 text-3xl font-semibold text-zinc-100",children:"Planejamento Empresarial"})]}),x.jsxs("div",{className:"mb-5 flex items-center gap-2 border-b border-zinc-800 pb-2",children:[x.jsx("button",{type:"button",onClick:()=>O("backlog"),className:`rounded-md px-3 py-1.5 text-sm transition-colors ${M==="backlog"?"bg-accent/20 text-accent":"text-zinc-400 hover:bg-zinc-800 hover:text-zinc-200"}`,children:"Backlog"}),x.jsx("button",{type:"button",onClick:()=>O("kanban"),className:`rounded-md px-3 py-1.5 text-sm transition-colors ${M==="kanban"?"bg-accent/20 text-accent":"text-zinc-400 hover:bg-zinc-800 hover:text-zinc-200"}`,children:"Kanban"}),x.jsx("button",{type:"button",onClick:()=>O("finalized"),className:`rounded-md px-3 py-1.5 text-sm transition-colors ${M==="finalized"?"bg-accent/20 text-accent":"text-zinc-400 hover:bg-zinc-800 hover:text-zinc-200"}`,children:"Finalizado"})]}),M==="backlog"?x.jsxs("section",{className:"space-y-3",children:[x.jsx("button",{type:"button",onClick:()=>G("nostatus"),className:"w-full rounded-lg border border-dashed border-zinc-700/90 px-4 py-3 text-left text-sm text-zinc-500 transition-colors hover:border-zinc-600 hover:text-zinc-300",children:"+ New item"}),V.length===0?x.jsx("p",{className:"text-sm text-zinc-500",children:"Nenhum item no backlog."}):V.map(L=>x.jsx("article",{className:"rounded-xl border border-zinc-800 bg-zinc-900/80 p-4 text-zinc-200 shadow-sm",children:x.jsxs("div",{className:"flex items-start justify-between gap-3",children:[x.jsxs("div",{children:[x.jsx("p",{className:"text-sm font-medium text-zinc-100",children:L.title}),x.jsx("div",{className:"mt-2 flex flex-wrap items-center gap-1.5",children:x.jsxs("span",{className:`rounded-md border px-1.5 py-0.5 text-[10px] ${gc[L.priority]}`,children:["Prioridade ",mc[L.priority]]})})]}),x.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[x.jsx("button",{type:"button",onClick:()=>X(L),className:"rounded-md border border-zinc-700 px-2 py-0.5 text-[10px] text-zinc-300 transition-colors hover:bg-zinc-800",children:"Editar"}),x.jsx("button",{type:"button",onClick:()=>D(L,"todo"),className:"rounded-md border border-accent/50 bg-accent/20 px-2 py-0.5 text-[10px] font-medium text-accent transition-colors hover:bg-accent/30",children:"Mover para Kanban"}),x.jsx("button",{type:"button",onClick:()=>B(L),className:"rounded-md border border-zinc-700 px-2 py-0.5 text-[10px] text-zinc-300 transition-colors hover:bg-zinc-800",children:"Excluir"})]})]})},L.id))]}):M==="kanban"?x.jsx("section",{className:"overflow-x-auto pb-4",children:x.jsx("div",{className:"grid min-w-[740px] grid-cols-3 gap-4",children:F.map(L=>x.jsxs("article",{onDragOver:ee=>z(ee,L.id),onDrop:ee=>H(ee,L.id),onDragLeave:P,className:`rounded-xl border bg-zinc-900/80 p-3 transition-colors ${E===L.id?"border-accent/70":"border-zinc-800/80"}`,children:[x.jsx("div",{className:"mb-3 flex items-center gap-2",children:x.jsx("span",{className:`rounded-full px-2 py-0.5 text-[11px] font-medium ${r_[L.tone]}`,children:L.title})}),x.jsxs("div",{className:"space-y-2",children:[L.cards.map(ee=>x.jsxs("div",{draggable:!0,onDragStart:Y=>W(Y,ee.id),className:"cursor-grab rounded-lg border border-zinc-800 bg-[#222222] px-3 py-2 text-sm text-zinc-200 shadow-sm active:cursor-grabbing",children:[x.jsx("p",{children:ee.title}),x.jsx("div",{className:"mt-2 flex flex-wrap items-center gap-1.5",children:x.jsxs("span",{className:`rounded-md border px-1.5 py-0.5 text-[10px] ${gc[ee.priority]}`,children:["Prioridade ",mc[ee.priority]]})}),x.jsxs("div",{className:"mt-3 flex flex-wrap gap-1",children:[x.jsx("button",{type:"button",onClick:()=>X(ee),className:"rounded-md border border-zinc-700 px-1.5 py-0.5 text-[10px] text-zinc-300 transition-colors hover:bg-zinc-800",children:"Editar"}),x.jsx("button",{type:"button",onClick:()=>B(ee),className:"rounded-md border border-zinc-700 px-1.5 py-0.5 text-[10px] text-zinc-300 transition-colors hover:bg-zinc-800",children:"Excluir"}),L.id==="done"?x.jsx("button",{type:"button",onClick:()=>j(ee),className:"rounded-md border border-emerald-500/40 bg-emerald-500/20 px-1.5 py-0.5 text-[10px] font-medium text-emerald-300 transition-colors hover:bg-emerald-500/30",children:"Finalizar"}):x.jsx("span",{className:"rounded-md border border-zinc-700 bg-zinc-900 px-1.5 py-0.5 text-[10px] text-zinc-300",children:"Arraste para mover"})]})]},ee.id)),x.jsx("button",{type:"button",onClick:()=>G(L.id),className:"w-full rounded-lg border border-dashed border-zinc-700/90 px-3 py-2 text-left text-sm text-zinc-500 transition-colors hover:border-zinc-600 hover:text-zinc-300",children:"+ New item"})]})]},L.id))})}):x.jsx("section",{className:"space-y-3",children:r.length===0?x.jsx("p",{className:"text-sm text-zinc-500",children:"Nenhuma tarefa finalizada ainda."}):r.map((L,ee)=>x.jsx("article",{className:"rounded-xl border border-zinc-800 bg-zinc-900/80 p-4 text-zinc-200 shadow-sm",children:x.jsxs("div",{className:"flex items-start justify-between gap-3",children:[x.jsxs("div",{children:[x.jsx("p",{className:"text-sm font-medium text-zinc-100",children:L.title}),x.jsxs("p",{className:"mt-1 text-xs text-zinc-400",children:["Finalizada em ",$(L.completedAt)]})]}),x.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[ee===0?x.jsx("span",{className:"rounded-md border border-indigo-500/40 bg-indigo-500/20 px-2 py-0.5 text-[10px] text-indigo-300",children:"Mais recente"}):null,x.jsxs("span",{className:`rounded-md border px-2 py-0.5 text-[10px] ${gc[L.priority]}`,children:["Prioridade ",mc[L.priority]]}),x.jsx("button",{type:"button",onClick:()=>Q(L),className:"rounded-md border border-zinc-700 px-2 py-0.5 text-[10px] text-zinc-300 transition-colors hover:bg-zinc-800",children:"Reabrir"})]})]})},L.id))}),i?x.jsx("p",{className:"mt-3 text-sm text-zinc-400",children:"Carregando cards..."}):null,!i&&a?x.jsxs("div",{className:"mt-3 flex items-center gap-3",children:[x.jsx("p",{className:"text-sm text-rose-300",children:a}),x.jsx("button",{type:"button",onClick:l,className:"rounded-md border border-zinc-700 px-2 py-1 text-xs text-zinc-300 hover:bg-zinc-800",children:"Tentar novamente"})]}):null]}),x.jsx(US,{isOpen:m,mode:y,defaultStatus:S,initialCard:k,isSaving:s,onClose:()=>g(!1),onSubmit:I})]})}const tl="/api/daily-tasks";async function nl(e){if(!e.ok){const r=await e.text();let i=r||e.statusText;try{const s=JSON.parse(r);s.message&&(i=s.message)}catch{}throw new Error(i)}return e.status===204?null:e.json()}async function o_(){const e=await fetch(tl);return await nl(e)}async function s_(e){const r=await fetch(tl,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)});return await nl(r)}async function a_(e,r){const i=await fetch(`${tl}/${encodeURIComponent(e)}`,{method:"PATCH",headers:{"Content-Type":"application/json"},body:JSON.stringify(r)});return await nl(i)}async function l_(e){const r=await fetch(`${tl}/${encodeURIComponent(e)}`,{method:"DELETE"});await nl(r)}function u_(){return So()}function c_(){const[e,r]=R.useState([]),[i,s]=R.useState(""),[a,l]=R.useState("all"),[u,d]=R.useState(null);R.useEffect(()=>{o_().then(r).catch(()=>r([]))},[]);const f=R.useMemo(()=>a==="pending"?e.filter(k=>!k.done):a==="done"?e.filter(k=>k.done):e,[e,a]),h=e.length,p=e.filter(k=>k.done).length,m=h-p;async function g(k){k.preventDefault(),d(null);const w=i.trim();if(!w){d("Digite o ttulo da tarefa.");return}try{const S=await s_({id:u_(),title:w,done:!1,createdAt:new Date().toISOString()});r(C=>[S,...C]),s("")}catch(S){const C=S instanceof Error?S.message:"Erro ao criar tarefa.";d(C)}}async function y(k){const w=e.find(C=>C.id===k);if(!w)return;const S=await a_(k,{done:!w.done});r(C=>C.map(E=>E.id===k?S:E))}async function N(k){await l_(k),r(w=>w.filter(S=>S.id!==k))}return x.jsx("div",{className:"min-h-full bg-[#191919]",children:x.jsxs("div",{className:"mx-auto max-w-4xl px-8 py-10",children:[x.jsxs("header",{className:"mb-8",children:[x.jsx("p",{className:"text-xs uppercase tracking-[0.2em] text-zinc-500",children:"Task management"}),x.jsx("h1",{className:"mt-2 text-3xl font-semibold text-zinc-100",children:"Tarefas Diarias"}),x.jsx("p",{className:"mt-2 text-sm text-zinc-400",children:"Organize suas tarefas do dia com um fluxo simples."})]}),x.jsxs("section",{className:"rounded-xl border border-zinc-800/80 bg-zinc-900/70 p-4",children:[u&&x.jsx("div",{className:"mb-3 rounded-lg border border-red-500/50 bg-red-500/10 px-3 py-2 text-sm text-red-400",children:u}),x.jsxs("form",{onSubmit:g,className:"flex flex-col gap-3 sm:flex-row",children:[x.jsx("input",{type:"text",value:i,onChange:k=>{s(k.target.value),u&&d(null)},placeholder:"Nova tarefa...",className:"h-11 flex-1 rounded-lg border border-zinc-700 bg-zinc-900 px-3 text-sm text-zinc-200 placeholder:text-zinc-500 focus:outline-none focus:border-zinc-600 focus:ring-2 focus:ring-accent/20"}),x.jsx("button",{type:"submit",className:"h-11 rounded-lg bg-accent px-4 text-sm font-medium text-white transition-colors hover:bg-accent-bright",children:"Adicionar"})]}),x.jsxs("div",{className:"mt-4 flex flex-wrap items-center gap-2",children:[x.jsxs("button",{type:"button",onClick:()=>l("all"),className:`rounded-md px-3 py-1.5 text-xs transition-colors ${a==="all"?"bg-accent/20 text-accent":"text-zinc-400 hover:bg-zinc-800 hover:text-zinc-200"}`,children:["Todas (",h,")"]}),x.jsxs("button",{type:"button",onClick:()=>l("pending"),className:`rounded-md px-3 py-1.5 text-xs transition-colors ${a==="pending"?"bg-accent/20 text-accent":"text-zinc-400 hover:bg-zinc-800 hover:text-zinc-200"}`,children:["Pendentes (",m,")"]}),x.jsxs("button",{type:"button",onClick:()=>l("done"),className:`rounded-md px-3 py-1.5 text-xs transition-colors ${a==="done"?"bg-accent/20 text-accent":"text-zinc-400 hover:bg-zinc-800 hover:text-zinc-200"}`,children:["Concluidas (",p,")"]})]})]}),x.jsx("section",{className:"mt-5 space-y-2",children:f.length===0?x.jsx("div",{className:"rounded-xl border border-zinc-800/80 bg-zinc-900/50 px-4 py-8 text-center",children:x.jsx("p",{className:"text-sm text-zinc-400",children:e.length===0?"Nenhuma tarefa criada.":"Nenhuma tarefa nesse filtro."})}):f.map(k=>x.jsxs("article",{className:"flex items-center justify-between gap-3 rounded-xl border border-zinc-800/80 bg-zinc-900/70 px-4 py-3",children:[x.jsxs("button",{type:"button",onClick:()=>y(k.id),className:"flex min-w-0 flex-1 items-center gap-3 text-left",children:[x.jsx("span",{className:`h-4 w-4 rounded-full border ${k.done?"border-emerald-400 bg-emerald-400":"border-zinc-500"}`}),x.jsx("span",{className:`truncate text-sm ${k.done?"text-zinc-500 line-through":"text-zinc-200"}`,children:k.title})]}),x.jsxs("div",{className:"flex items-center gap-2",children:[x.jsx("button",{type:"button",onClick:()=>y(k.id),className:"rounded-md border border-zinc-700 px-2 py-1 text-[11px] text-zinc-300 transition-colors hover:bg-zinc-800",children:k.done?"Reabrir":"Concluir"}),x.jsx("button",{type:"button",onClick:()=>N(k.id),className:"rounded-md border border-zinc-700 px-2 py-1 text-[11px] text-zinc-300 transition-colors hover:bg-zinc-800",children:"Excluir"})]})]},k.id))})]})})}class g0 extends Map{constructor(r,i=h_){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:i}}),r!=null)for(const[s,a]of r)this.set(s,a)}get(r){return super.get(x0(this,r))}has(r){return super.has(x0(this,r))}set(r,i){return super.set(d_(this,r),i)}delete(r){return super.delete(f_(this,r))}}function x0({_intern:e,_key:r},i){const s=r(i);return e.has(s)?e.get(s):i}function d_({_intern:e,_key:r},i){const s=r(i);return e.has(s)?e.get(s):(e.set(s,i),i)}function f_({_intern:e,_key:r},i){const s=r(i);return e.has(s)&&(i=e.get(s),e.delete(s)),i}function h_(e){return e!==null&&typeof e=="object"?e.valueOf():e}function p_(e,r,i){e=+e,r=+r,i=(a=arguments.length)<2?(r=e,e=0,1):a<3?1:+i;for(var s=-1,a=Math.max(0,Math.ceil((r-e)/i))|0,l=new Array(a);++s<a;)l[s]=e+s*i;return l}function m_(e){const r=+this._x.call(null,e),i=+this._y.call(null,e);return Eg(this.cover(r,i),r,i,e)}function Eg(e,r,i,s){if(isNaN(r)||isNaN(i))return e;var a,l=e._root,u={data:s},d=e._x0,f=e._y0,h=e._x1,p=e._y1,m,g,y,N,k,w,S,C;if(!l)return e._root=u,e;for(;l.length;)if((k=r>=(m=(d+h)/2))?d=m:h=m,(w=i>=(g=(f+p)/2))?f=g:p=g,a=l,!(l=l[S=w<<1|k]))return a[S]=u,e;if(y=+e._x.call(null,l.data),N=+e._y.call(null,l.data),r===y&&i===N)return u.next=l,a?a[S]=u:e._root=u,e;do a=a?a[S]=new Array(4):e._root=new Array(4),(k=r>=(m=(d+h)/2))?d=m:h=m,(w=i>=(g=(f+p)/2))?f=g:p=g;while((S=w<<1|k)===(C=(N>=g)<<1|y>=m));return a[C]=l,a[S]=u,e}function g_(e){var r,i,s=e.length,a,l,u=new Array(s),d=new Array(s),f=1/0,h=1/0,p=-1/0,m=-1/0;for(i=0;i<s;++i)isNaN(a=+this._x.call(null,r=e[i]))||isNaN(l=+this._y.call(null,r))||(u[i]=a,d[i]=l,a<f&&(f=a),a>p&&(p=a),l<h&&(h=l),l>m&&(m=l));if(f>p||h>m)return this;for(this.cover(f,h).cover(p,m),i=0;i<s;++i)Eg(this,u[i],d[i],e[i]);return this}function x_(e,r){if(isNaN(e=+e)||isNaN(r=+r))return this;var i=this._x0,s=this._y0,a=this._x1,l=this._y1;if(isNaN(i))a=(i=Math.floor(e))+1,l=(s=Math.floor(r))+1;else{for(var u=a-i||1,d=this._root,f,h;i>e||e>=a||s>r||r>=l;)switch(h=(r<s)<<1|e<i,f=new Array(4),f[h]=d,d=f,u*=2,h){case 0:a=i+u,l=s+u;break;case 1:i=a-u,l=s+u;break;case 2:a=i+u,s=l-u;break;case 3:i=a-u,s=l-u;break}this._root&&this._root.length&&(this._root=d)}return this._x0=i,this._y0=s,this._x1=a,this._y1=l,this}function v_(){var e=[];return this.visit(function(r){if(!r.length)do e.push(r.data);while(r=r.next)}),e}function y_(e){return arguments.length?this.cover(+e[0][0],+e[0][1]).cover(+e[1][0],+e[1][1]):isNaN(this._x0)?void 0:[[this._x0,this._y0],[this._x1,this._y1]]}function pt(e,r,i,s,a){this.node=e,this.x0=r,this.y0=i,this.x1=s,this.y1=a}function w_(e,r,i){var s,a=this._x0,l=this._y0,u,d,f,h,p=this._x1,m=this._y1,g=[],y=this._root,N,k;for(y&&g.push(new pt(y,a,l,p,m)),i==null?i=1/0:(a=e-i,l=r-i,p=e+i,m=r+i,i*=i);N=g.pop();)if(!(!(y=N.node)||(u=N.x0)>p||(d=N.y0)>m||(f=N.x1)<a||(h=N.y1)<l))if(y.length){var w=(u+f)/2,S=(d+h)/2;g.push(new pt(y[3],w,S,f,h),new pt(y[2],u,S,w,h),new pt(y[1],w,d,f,S),new pt(y[0],u,d,w,S)),(k=(r>=S)<<1|e>=w)&&(N=g[g.length-1],g[g.length-1]=g[g.length-1-k],g[g.length-1-k]=N)}else{var C=e-+this._x.call(null,y.data),E=r-+this._y.call(null,y.data),_=C*C+E*E;if(_<i){var M=Math.sqrt(i=_);a=e-M,l=r-M,p=e+M,m=r+M,s=y.data}}return s}function N_(e){if(isNaN(p=+this._x.call(null,e))||isNaN(m=+this._y.call(null,e)))return this;var r,i=this._root,s,a,l,u=this._x0,d=this._y0,f=this._x1,h=this._y1,p,m,g,y,N,k,w,S;if(!i)return this;if(i.length)for(;;){if((N=p>=(g=(u+f)/2))?u=g:f=g,(k=m>=(y=(d+h)/2))?d=y:h=y,r=i,!(i=i[w=k<<1|N]))return this;if(!i.length)break;(r[w+1&3]||r[w+2&3]||r[w+3&3])&&(s=r,S=w)}for(;i.data!==e;)if(a=i,!(i=i.next))return this;return(l=i.next)&&delete i.next,a?(l?a.next=l:delete a.next,this):r?(l?r[w]=l:delete r[w],(i=r[0]||r[1]||r[2]||r[3])&&i===(r[3]||r[2]||r[1]||r[0])&&!i.length&&(s?s[S]=i:this._root=i),this):(this._root=l,this)}function b_(e){for(var r=0,i=e.length;r<i;++r)this.remove(e[r]);return this}function k_(){return this._root}function E_(){var e=0;return this.visit(function(r){if(!r.length)do++e;while(r=r.next)}),e}function S_(e){var r=[],i,s=this._root,a,l,u,d,f;for(s&&r.push(new pt(s,this._x0,this._y0,this._x1,this._y1));i=r.pop();)if(!e(s=i.node,l=i.x0,u=i.y0,d=i.x1,f=i.y1)&&s.length){var h=(l+d)/2,p=(u+f)/2;(a=s[3])&&r.push(new pt(a,h,p,d,f)),(a=s[2])&&r.push(new pt(a,l,p,h,f)),(a=s[1])&&r.push(new pt(a,h,u,d,p)),(a=s[0])&&r.push(new pt(a,l,u,h,p))}return this}function __(e){var r=[],i=[],s;for(this._root&&r.push(new pt(this._root,this._x0,this._y0,this._x1,this._y1));s=r.pop();){var a=s.node;if(a.length){var l,u=s.x0,d=s.y0,f=s.x1,h=s.y1,p=(u+f)/2,m=(d+h)/2;(l=a[0])&&r.push(new pt(l,u,d,p,m)),(l=a[1])&&r.push(new pt(l,p,d,f,m)),(l=a[2])&&r.push(new pt(l,u,m,p,h)),(l=a[3])&&r.push(new pt(l,p,m,f,h))}i.push(s)}for(;s=i.pop();)e(s.node,s.x0,s.y0,s.x1,s.y1);return this}function C_(e){return e[0]}function j_(e){return arguments.length?(this._x=e,this):this._x}function z_(e){return e[1]}function M_(e){return arguments.length?(this._y=e,this):this._y}function dd(e,r,i){var s=new fd(r??C_,i??z_,NaN,NaN,NaN,NaN);return e==null?s:s.addAll(e)}function fd(e,r,i,s,a,l){this._x=e,this._y=r,this._x0=i,this._y0=s,this._x1=a,this._y1=l,this._root=void 0}function v0(e){for(var r={data:e.data},i=r;e=e.next;)i=i.next={data:e.data};return r}var gt=dd.prototype=fd.prototype;gt.copy=function(){var e=new fd(this._x,this._y,this._x0,this._y0,this._x1,this._y1),r=this._root,i,s;if(!r)return e;if(!r.length)return e._root=v0(r),e;for(i=[{source:r,target:e._root=new Array(4)}];r=i.pop();)for(var a=0;a<4;++a)(s=r.source[a])&&(s.length?i.push({source:s,target:r.target[a]=new Array(4)}):r.target[a]=v0(s));return e};gt.add=m_;gt.addAll=g_;gt.cover=x_;gt.data=v_;gt.extent=y_;gt.find=w_;gt.remove=N_;gt.removeAll=b_;gt.root=k_;gt.size=E_;gt.visit=S_;gt.visitAfter=__;gt.x=j_;gt.y=M_;function mt(e){return function(){return e}}function Kn(e){return(e()-.5)*1e-6}function I_(e){return e.x+e.vx}function L_(e){return e.y+e.vy}function P_(e){var r,i,s,a=1,l=1;typeof e!="function"&&(e=mt(e==null?1:+e));function u(){for(var h,p=r.length,m,g,y,N,k,w,S=0;S<l;++S)for(m=dd(r,I_,L_).visitAfter(d),h=0;h<p;++h)g=r[h],k=i[g.index],w=k*k,y=g.x+g.vx,N=g.y+g.vy,m.visit(C);function C(E,_,M,O,F){var V=E.data,Z=E.r,G=k+Z;if(V){if(V.index>g.index){var X=y-V.x-V.vx,B=N-V.y-V.vy,D=X*X+B*B;D<G*G&&(X===0&&(X=Kn(s),D+=X*X),B===0&&(B=Kn(s),D+=B*B),D=(G-(D=Math.sqrt(D)))/D*a,g.vx+=(X*=D)*(G=(Z*=Z)/(w+Z)),g.vy+=(B*=D)*G,V.vx-=X*(G=1-G),V.vy-=B*G)}return}return _>y+G||O<y-G||M>N+G||F<N-G}}function d(h){if(h.data)return h.r=i[h.data.index];for(var p=h.r=0;p<4;++p)h[p]&&h[p].r>h.r&&(h.r=h[p].r)}function f(){if(r){var h,p=r.length,m;for(i=new Array(p),h=0;h<p;++h)m=r[h],i[m.index]=+e(m,h,r)}}return u.initialize=function(h,p){r=h,s=p,f()},u.iterations=function(h){return arguments.length?(l=+h,u):l},u.strength=function(h){return arguments.length?(a=+h,u):a},u.radius=function(h){return arguments.length?(e=typeof h=="function"?h:mt(+h),f(),u):e},u}function A_(e){return e.index}function y0(e,r){var i=e.get(r);if(!i)throw new Error("node not found: "+r);return i}function T_(e){var r=A_,i=m,s,a=mt(30),l,u,d,f,h,p=1;e==null&&(e=[]);function m(w){return 1/Math.min(d[w.source.index],d[w.target.index])}function g(w){for(var S=0,C=e.length;S<p;++S)for(var E=0,_,M,O,F,V,Z,G;E<C;++E)_=e[E],M=_.source,O=_.target,F=O.x+O.vx-M.x-M.vx||Kn(h),V=O.y+O.vy-M.y-M.vy||Kn(h),Z=Math.sqrt(F*F+V*V),Z=(Z-l[E])/Z*w*s[E],F*=Z,V*=Z,O.vx-=F*(G=f[E]),O.vy-=V*G,M.vx+=F*(G=1-G),M.vy+=V*G}function y(){if(u){var w,S=u.length,C=e.length,E=new Map(u.map((M,O)=>[r(M,O,u),M])),_;for(w=0,d=new Array(S);w<C;++w)_=e[w],_.index=w,typeof _.source!="object"&&(_.source=y0(E,_.source)),typeof _.target!="object"&&(_.target=y0(E,_.target)),d[_.source.index]=(d[_.source.index]||0)+1,d[_.target.index]=(d[_.target.index]||0)+1;for(w=0,f=new Array(C);w<C;++w)_=e[w],f[w]=d[_.source.index]/(d[_.source.index]+d[_.target.index]);s=new Array(C),N(),l=new Array(C),k()}}function N(){if(u)for(var w=0,S=e.length;w<S;++w)s[w]=+i(e[w],w,e)}function k(){if(u)for(var w=0,S=e.length;w<S;++w)l[w]=+a(e[w],w,e)}return g.initialize=function(w,S){u=w,h=S,y()},g.links=function(w){return arguments.length?(e=w,y(),g):e},g.id=function(w){return arguments.length?(r=w,g):r},g.iterations=function(w){return arguments.length?(p=+w,g):p},g.strength=function(w){return arguments.length?(i=typeof w=="function"?w:mt(+w),N(),g):i},g.distance=function(w){return arguments.length?(a=typeof w=="function"?w:mt(+w),k(),g):a},g}const R_=1664525,O_=1013904223,w0=4294967296;function D_(){let e=1;return()=>(e=(R_*e+O_)%w0)/w0}function $_(e){return e.x}function B_(e){return e.y}var F_=10,V_=Math.PI*(3-Math.sqrt(5));function H_(e){var r,i=1,s=.001,a=1-Math.pow(s,1/300),l=0,u=.6,d=new Map,f=Qc(m),h=Oo("tick","end"),p=D_();e==null&&(e=[]);function m(){g(),h.call("tick",r),i<s&&(f.stop(),h.call("end",r))}function g(k){var w,S=e.length,C;k===void 0&&(k=1);for(var E=0;E<k;++E)for(i+=(l-i)*a,d.forEach(function(_){_(i)}),w=0;w<S;++w)C=e[w],C.fx==null?C.x+=C.vx*=u:(C.x=C.fx,C.vx=0),C.fy==null?C.y+=C.vy*=u:(C.y=C.fy,C.vy=0);return r}function y(){for(var k=0,w=e.length,S;k<w;++k){if(S=e[k],S.index=k,S.fx!=null&&(S.x=S.fx),S.fy!=null&&(S.y=S.fy),isNaN(S.x)||isNaN(S.y)){var C=F_*Math.sqrt(.5+k),E=k*V_;S.x=C*Math.cos(E),S.y=C*Math.sin(E)}(isNaN(S.vx)||isNaN(S.vy))&&(S.vx=S.vy=0)}}function N(k){return k.initialize&&k.initialize(e,p),k}return y(),r={tick:g,restart:function(){return f.restart(m),r},stop:function(){return f.stop(),r},nodes:function(k){return arguments.length?(e=k,y(),d.forEach(N),r):e},alpha:function(k){return arguments.length?(i=+k,r):i},alphaMin:function(k){return arguments.length?(s=+k,r):s},alphaDecay:function(k){return arguments.length?(a=+k,r):+a},alphaTarget:function(k){return arguments.length?(l=+k,r):l},velocityDecay:function(k){return arguments.length?(u=1-k,r):1-u},randomSource:function(k){return arguments.length?(p=k,d.forEach(N),r):p},force:function(k,w){return arguments.length>1?(w==null?d.delete(k):d.set(k,N(w)),r):d.get(k)},find:function(k,w,S){var C=0,E=e.length,_,M,O,F,V;for(S==null?S=1/0:S*=S,C=0;C<E;++C)F=e[C],_=k-F.x,M=w-F.y,O=_*_+M*M,O<S&&(V=F,S=O);return V},on:function(k,w){return arguments.length>1?(h.on(k,w),r):h.on(k)}}}function W_(){var e,r,i,s,a=mt(-30),l,u=1,d=1/0,f=.81;function h(y){var N,k=e.length,w=dd(e,$_,B_).visitAfter(m);for(s=y,N=0;N<k;++N)r=e[N],w.visit(g)}function p(){if(e){var y,N=e.length,k;for(l=new Array(N),y=0;y<N;++y)k=e[y],l[k.index]=+a(k,y,e)}}function m(y){var N=0,k,w,S=0,C,E,_;if(y.length){for(C=E=_=0;_<4;++_)(k=y[_])&&(w=Math.abs(k.value))&&(N+=k.value,S+=w,C+=w*k.x,E+=w*k.y);y.x=C/S,y.y=E/S}else{k=y,k.x=k.data.x,k.y=k.data.y;do N+=l[k.data.index];while(k=k.next)}y.value=N}function g(y,N,k,w){if(!y.value)return!0;var S=y.x-r.x,C=y.y-r.y,E=w-N,_=S*S+C*C;if(E*E/f<_)return _<d&&(S===0&&(S=Kn(i),_+=S*S),C===0&&(C=Kn(i),_+=C*C),_<u&&(_=Math.sqrt(u*_)),r.vx+=S*y.value*s/_,r.vy+=C*y.value*s/_),!0;if(y.length||_>=d)return;(y.data!==r||y.next)&&(S===0&&(S=Kn(i),_+=S*S),C===0&&(C=Kn(i),_+=C*C),_<u&&(_=Math.sqrt(u*_)));do y.data!==r&&(E=l[y.data.index]*s/_,r.vx+=S*E,r.vy+=C*E);while(y=y.next)}return h.initialize=function(y,N){e=y,i=N,p()},h.strength=function(y){return arguments.length?(a=typeof y=="function"?y:mt(+y),p(),h):a},h.distanceMin=function(y){return arguments.length?(u=y*y,h):Math.sqrt(u)},h.distanceMax=function(y){return arguments.length?(d=y*y,h):Math.sqrt(d)},h.theta=function(y){return arguments.length?(f=y*y,h):Math.sqrt(f)},h}function U_(e){var r=mt(.1),i,s,a;typeof e!="function"&&(e=mt(e==null?0:+e));function l(d){for(var f=0,h=i.length,p;f<h;++f)p=i[f],p.vx+=(a[f]-p.x)*s[f]*d}function u(){if(i){var d,f=i.length;for(s=new Array(f),a=new Array(f),d=0;d<f;++d)s[d]=isNaN(a[d]=+e(i[d],d,i))?0:+r(i[d],d,i)}}return l.initialize=function(d){i=d,u()},l.strength=function(d){return arguments.length?(r=typeof d=="function"?d:mt(+d),u(),l):r},l.x=function(d){return arguments.length?(e=typeof d=="function"?d:mt(+d),u(),l):e},l}function Y_(e){var r=mt(.1),i,s,a;typeof e!="function"&&(e=mt(e==null?0:+e));function l(d){for(var f=0,h=i.length,p;f<h;++f)p=i[f],p.vy+=(a[f]-p.y)*s[f]*d}function u(){if(i){var d,f=i.length;for(s=new Array(f),a=new Array(f),d=0;d<f;++d)s[d]=isNaN(a[d]=+e(i[d],d,i))?0:+r(i[d],d,i)}}return l.initialize=function(d){i=d,u()},l.strength=function(d){return arguments.length?(r=typeof d=="function"?d:mt(+d),u(),l):r},l.y=function(d){return arguments.length?(e=typeof d=="function"?d:mt(+d),u(),l):e},l}function X_(e){var r=0,i=e.children,s=i&&i.length;if(!s)r=1;else for(;--s>=0;)r+=i[s].value;e.value=r}function G_(){return this.eachAfter(X_)}function Q_(e,r){let i=-1;for(const s of this)e.call(r,s,++i,this);return this}function K_(e,r){for(var i=this,s=[i],a,l,u=-1;i=s.pop();)if(e.call(r,i,++u,this),a=i.children)for(l=a.length-1;l>=0;--l)s.push(a[l]);return this}function q_(e,r){for(var i=this,s=[i],a=[],l,u,d,f=-1;i=s.pop();)if(a.push(i),l=i.children)for(u=0,d=l.length;u<d;++u)s.push(l[u]);for(;i=a.pop();)e.call(r,i,++f,this);return this}function Z_(e,r){let i=-1;for(const s of this)if(e.call(r,s,++i,this))return s}function J_(e){return this.eachAfter(function(r){for(var i=+e(r.data)||0,s=r.children,a=s&&s.length;--a>=0;)i+=s[a].value;r.value=i})}function eC(e){return this.eachBefore(function(r){r.children&&r.children.sort(e)})}function tC(e){for(var r=this,i=nC(r,e),s=[r];r!==i;)r=r.parent,s.push(r);for(var a=s.length;e!==i;)s.splice(a,0,e),e=e.parent;return s}function nC(e,r){if(e===r)return e;var i=e.ancestors(),s=r.ancestors(),a=null;for(e=i.pop(),r=s.pop();e===r;)a=e,e=i.pop(),r=s.pop();return a}function rC(){for(var e=this,r=[e];e=e.parent;)r.push(e);return r}function iC(){return Array.from(this)}function oC(){var e=[];return this.eachBefore(function(r){r.children||e.push(r)}),e}function sC(){var e=this,r=[];return e.each(function(i){i!==e&&r.push({source:i.parent,target:i})}),r}function*aC(){var e=this,r,i=[e],s,a,l;do for(r=i.reverse(),i=[];e=r.pop();)if(yield e,s=e.children)for(a=0,l=s.length;a<l;++a)i.push(s[a]);while(i.length)}function hd(e,r){e instanceof Map?(e=[void 0,e],r===void 0&&(r=cC)):r===void 0&&(r=uC);for(var i=new To(e),s,a=[i],l,u,d,f;s=a.pop();)if((u=r(s.data))&&(f=(u=Array.from(u)).length))for(s.children=u,d=f-1;d>=0;--d)a.push(l=u[d]=new To(u[d])),l.parent=s,l.depth=s.depth+1;return i.eachBefore(fC)}function lC(){return hd(this).eachBefore(dC)}function uC(e){return e.children}function cC(e){return Array.isArray(e)?e[1]:null}function dC(e){e.data.value!==void 0&&(e.value=e.data.value),e.data=e.data.data}function fC(e){var r=0;do e.height=r;while((e=e.parent)&&e.height<++r)}function To(e){this.data=e,this.depth=this.height=0,this.parent=null}To.prototype=hd.prototype={constructor:To,count:G_,each:Q_,eachAfter:q_,eachBefore:K_,find:Z_,sum:J_,sort:eC,path:tC,ancestors:rC,descendants:iC,leaves:oC,links:sC,copy:lC,[Symbol.iterator]:aC};function hC(e,r){return e.parent===r.parent?1:2}function xc(e){var r=e.children;return r?r[0]:e.t}function vc(e){var r=e.children;return r?r[r.length-1]:e.t}function pC(e,r,i){var s=i/(r.i-e.i);r.c-=s,r.s+=i,e.c+=s,r.z+=i,r.m+=i}function mC(e){for(var r=0,i=0,s=e.children,a=s.length,l;--a>=0;)l=s[a],l.z+=r,l.m+=r,r+=l.s+(i+=l.c)}function gC(e,r,i){return e.a.parent===r.parent?e.a:i}function Ea(e,r){this._=e,this.parent=null,this.children=null,this.A=null,this.a=this,this.z=0,this.m=0,this.c=0,this.s=0,this.t=null,this.i=r}Ea.prototype=Object.create(To.prototype);function xC(e){for(var r=new Ea(e,0),i,s=[r],a,l,u,d;i=s.pop();)if(l=i._.children)for(i.children=new Array(d=l.length),u=d-1;u>=0;--u)s.push(a=i.children[u]=new Ea(l[u],u)),a.parent=i;return(r.parent=new Ea(null,0)).children=[r],r}function vC(){var e=hC,r=1,i=1,s=null;function a(h){var p=xC(h);if(p.eachAfter(l),p.parent.m=-p.z,p.eachBefore(u),s)h.eachBefore(f);else{var m=h,g=h,y=h;h.eachBefore(function(C){C.x<m.x&&(m=C),C.x>g.x&&(g=C),C.depth>y.depth&&(y=C)});var N=m===g?1:e(m,g)/2,k=N-m.x,w=r/(g.x+N+k),S=i/(y.depth||1);h.eachBefore(function(C){C.x=(C.x+k)*w,C.y=C.depth*S})}return h}function l(h){var p=h.children,m=h.parent.children,g=h.i?m[h.i-1]:null;if(p){mC(h);var y=(p[0].z+p[p.length-1].z)/2;g?(h.z=g.z+e(h._,g._),h.m=h.z-y):h.z=y}else g&&(h.z=g.z+e(h._,g._));h.parent.A=d(h,g,h.parent.A||m[0])}function u(h){h._.x=h.z+h.parent.m,h.m+=h.parent.m}function d(h,p,m){if(p){for(var g=h,y=h,N=p,k=g.parent.children[0],w=g.m,S=y.m,C=N.m,E=k.m,_;N=vc(N),g=xc(g),N&&g;)k=xc(k),y=vc(y),y.a=h,_=N.z+C-g.z-w+e(N._,g._),_>0&&(pC(gC(N,h,m),h,_),w+=_,S+=_),C+=N.m,w+=g.m,E+=k.m,S+=y.m;N&&!vc(y)&&(y.t=N,y.m+=C-S),g&&!xc(k)&&(k.t=g,k.m+=w-E,m=h)}return m}function f(h){h.x*=r,h.y=h.depth*i}return a.separation=function(h){return arguments.length?(e=h,a):e},a.size=function(h){return arguments.length?(s=!1,r=+h[0],i=+h[1],a):s?null:[r,i]},a.nodeSize=function(h){return arguments.length?(s=!0,r=+h[0],i=+h[1],a):s?[r,i]:null},a}function Sg(e,r){switch(arguments.length){case 0:break;case 1:this.range(e);break;default:this.range(r).domain(e);break}return this}const N0=Symbol("implicit");function _g(){var e=new g0,r=[],i=[],s=N0;function a(l){let u=e.get(l);if(u===void 0){if(s!==N0)return s;e.set(l,u=r.push(l)-1)}return i[u%i.length]}return a.domain=function(l){if(!arguments.length)return r.slice();r=[],e=new g0;for(const u of l)e.has(u)||e.set(u,r.push(u)-1);return a},a.range=function(l){return arguments.length?(i=Array.from(l),a):i.slice()},a.unknown=function(l){return arguments.length?(s=l,a):s},a.copy=function(){return _g(r,i).unknown(s)},Sg.apply(a,arguments),a}function Cg(){var e=_g().unknown(void 0),r=e.domain,i=e.range,s=0,a=1,l,u,d=!1,f=0,h=0,p=.5;delete e.unknown;function m(){var g=r().length,y=a<s,N=y?a:s,k=y?s:a;l=(k-N)/Math.max(1,g-f+h*2),d&&(l=Math.floor(l)),N+=(k-N-l*(g-f))*p,u=l*(1-f),d&&(N=Math.round(N),u=Math.round(u));var w=p_(g).map(function(S){return N+l*S});return i(y?w.reverse():w)}return e.domain=function(g){return arguments.length?(r(g),m()):r()},e.range=function(g){return arguments.length?([s,a]=g,s=+s,a=+a,m()):[s,a]},e.rangeRound=function(g){return[s,a]=g,s=+s,a=+a,d=!0,m()},e.bandwidth=function(){return u},e.step=function(){return l},e.round=function(g){return arguments.length?(d=!!g,m()):d},e.padding=function(g){return arguments.length?(f=Math.min(1,h=+g),m()):f},e.paddingInner=function(g){return arguments.length?(f=Math.min(1,g),m()):f},e.paddingOuter=function(g){return arguments.length?(h=+g,m()):h},e.align=function(g){return arguments.length?(p=Math.max(0,Math.min(1,g)),m()):p},e.copy=function(){return Cg(r(),[s,a]).round(d).paddingInner(f).paddingOuter(h).align(p)},Sg.apply(m(),arguments)}function jg(e){var r=e.copy;return e.padding=e.paddingOuter,delete e.paddingInner,delete e.paddingOuter,e.copy=function(){return jg(r())},e}function b0(){return jg(Cg.apply(null,arguments).paddingInner(1))}function va(e){return e.trim().toLowerCase()}function yC(e){return e==="interesse"?0:e==="area"?1:2}function wC({interests:e,areas:r,documents:i}){const s=[],a=[],l=new Set,u=new Map,d=new Map,f=new Map;for(const p of e){const m=`interesse-${p.id}`;l.add(m),d.set(va(p.name),p),s.push({id:m,type:"interesse",parentId:null,title:p.name,sourceId:p.id,metadata:{createdAt:p.createdAt}})}for(const p of r){const m=`area-${p.id}`,g=`interesse-${p.interestId}`;l.add(m),u.set(va(p.name),p),f.set(p.id,p),s.push({id:m,type:"area",parentId:g,title:p.name,sourceId:p.id,metadata:{createdAt:p.createdAt}}),a.push({id:`hierarchy-${g}-${m}`,source:g,target:m,kind:"hierarchy"})}for(const p of i){const m=u.get(va(p.area)),g=d.get(va(p.interest)),y=m?`area-${m.id}`:null,N=g?`interesse-${g.id}`:null,k=y??N,w=`ideia-${p.id}`;l.add(w),s.push({id:w,type:"ideia",parentId:k,title:p.title,description:p.content.slice(0,280),sourceId:p.id,metadata:{area:p.area,interest:p.interest,tags:p.tags,createdAt:p.createdAt}}),k&&a.push({id:`hierarchy-${k}-${w}`,source:k,target:w,kind:"hierarchy"})}const h=new Set;for(const p of i){const m=`ideia-${p.id}`;if(l.has(m))for(const g of p.relations){const y=`ideia-${g.targetId}`;if(!l.has(y))continue;const N=m<y?m:y,k=m<y?y:m,w=`relation-${N}-${k}`;h.has(w)||(h.add(w),a.push({id:w,source:m,target:y,kind:"relation"}))}}return{nodes:s,links:a}}function NC(e){const r=new Map;for(const a of e){const l=a.parentId,u=r.get(l)??[];u.push(a),r.set(l,u)}const i=a=>{const l=(r.get(a.id)??[]).sort((u,d)=>u.title.localeCompare(d.title,"pt-BR")).map(i);return{id:a.id,node:a,_rank:yC(a.type),children:l}},s=(r.get(null)??[]).sort((a,l)=>a.title.localeCompare(l.title,"pt-BR")).map(i);return{id:"__root__",node:{id:"__root__",type:"interesse",parentId:null,title:"Raiz",sourceId:"__root__"},children:s.map(({_rank:a,...l})=>l)}}function bC(e,r){if(r.size===0)return e;const i=new Map;for(const l of e){const u=i.get(l.parentId)??[];u.push(l),i.set(l.parentId,u)}const s=new Map,a=l=>{const u=i.get(l)??[];for(const d of u)s.set(d.id,d),!(d.type==="area"&&r.has(d.id))&&a(d.id)};return a(null),Array.from(s.values())}function kC(e){const r=new Map;for(const i of e)i.type!=="ideia"||!i.parentId||r.set(i.parentId,(r.get(i.parentId)??0)+1);return r}function EC(e,r,i){const a=Math.max(i.width,320),l=Math.max(i.height,320),u=NC(e),d=vC().nodeSize([110,180]),f=hd(u,V=>V.children);d(f);const h=f.descendants().filter(V=>V.data.id!=="__root__");if(h.length===0)return{nodes:[],links:[]};let p=Number.POSITIVE_INFINITY,m=Number.NEGATIVE_INFINITY,g=0;for(const V of h){const Z=V.x??0,G=V.y??0;p=Math.min(p,Z),m=Math.max(m,Z),g=Math.max(g,G)}const y=Math.max(1,m-p),N=Math.max(1,g),k=Math.max(1,a-192),w=Math.max(1,l-192),S=k/y,C=w/N,E=Math.min(1,S,C),_=(k-y*E)/2,M=new Map,O=h.map(V=>{const Z=96+_+((V.x??0)-p)*E,G=96+(V.y??0)*E;return M.set(V.data.id,{x:Z,y:G}),{...V.data.node,x:Z,y:G}}),F=r.filter(V=>V.kind!=="hierarchy"?!1:M.has(V.source)&&M.has(V.target));return{nodes:O,links:F}}function SC(e){return e==="interesse"?34:e==="area"?24:16}function _C(e,r,i){const s=Math.max(i.width,320),a=Math.max(i.height,320),l=80,u=e.map(p=>({...p,x:s/2,y:a/2})),d=r.map(p=>({...p})),f=H_(u).force("link",T_(d).id(p=>p.id).distance(p=>p.kind==="hierarchy"?130:190).strength(p=>p.kind==="hierarchy"?.35:.12)).force("charge",W_().strength(p=>{const m=p;return m.type==="interesse"?-1050:m.type==="area"?-640:-370})).force("collision",P_().radius(p=>SC(p.type)+6).strength(.95)).force("x",U_(s/2).strength(.06)).force("y",Y_(a/2).strength(.06)).alpha(1).alphaDecay(.028);for(let p=0;p<280;p+=1)f.tick();return f.stop(),{nodes:u.map(p=>({...p,x:Math.max(l,Math.min(s-l,p.x??s/2)),y:Math.max(l,Math.min(a-l,p.y??a/2))})),links:r}}const yc=[{key:"interesse",title:"Interesses"},{key:"area",title:"Areas"},{key:"ideia",title:"Ideias"}];function CC(e,r,i){const s=Math.max(i.width,320),a=Math.max(i.height,320),l=120,u=120,d=120,f=90,h=b0().domain(yc.map(M=>M.key)).range([l,s-u]).padding(.4),p=yc.map(M=>({id:`label-${M.key}`,title:M.title,x:h(M.key)??s/2,y:70})),m=r.filter(M=>M.kind==="hierarchy"),g=new Map;for(const M of m)g.set(M.target,M.source);const y=e.filter(M=>M.type==="interesse").sort((M,O)=>M.title.localeCompare(O.title,"pt-BR")),N=new Map(y.map((M,O)=>[M.id,O])),k=e.filter(M=>M.type==="area").sort((M,O)=>{const F=N.get(g.get(M.id)??"")??Number.MAX_SAFE_INTEGER,V=N.get(g.get(O.id)??"")??Number.MAX_SAFE_INTEGER;return F!==V?F-V:M.title.localeCompare(O.title,"pt-BR")}),w=new Map(k.map((M,O)=>[M.id,O])),S=e.filter(M=>M.type==="ideia").sort((M,O)=>{const F=w.get(g.get(M.id)??"")??Number.MAX_SAFE_INTEGER,V=w.get(g.get(O.id)??"")??Number.MAX_SAFE_INTEGER;return F!==V?F-V:M.title.localeCompare(O.title,"pt-BR")}),C={interesse:y,area:k,ideia:S},E=new Map;for(const M of yc){const O=C[M.key],F=b0().domain(O.map(V=>V.id)).range([d,a-f]).padding(.55);for(const V of O)E.set(V.id,F(V.id)??a/2)}return{nodes:e.map(M=>({...M,x:h(M.type)??s/2,y:E.get(M.id)??a/2})),links:m,labels:p}}function wc(e){return e==="interesse"?24:e==="area"?18:13}function k0(e){return e==="interesse"?"Interesse":e==="area"?"Area":"Ideia"}const E0={interesse:"#7c8aff",area:"#34d399",ideia:"#a1a1aa"},jC={interesse:"#a5b4fc",area:"#6ee7b7",ideia:"#d4d4d8"},S0={tree:"Tree",force:"Force",cluster:"Cluster"};function zC({mode:e,onChangeMode:r}){return x.jsxs(x.Fragment,{children:[x.jsx("div",{className:"absolute left-5 top-5 z-20 flex items-center gap-2 rounded-xl border border-zinc-700 bg-zinc-900/75 p-2 backdrop-blur",children:["tree","force","cluster"].map(i=>x.jsx("button",{type:"button",onClick:()=>r(i),className:`rounded-lg px-3 py-1.5 text-sm transition-colors ${e===i?"bg-accent/20 text-accent border border-accent/40":"text-zinc-300 border border-zinc-700 hover:bg-zinc-800"}`,children:S0[i]},i))}),x.jsxs("div",{className:"absolute left-5 top-20 z-20 rounded-xl border border-zinc-700 bg-zinc-900/75 px-3 py-2 text-xs text-zinc-300 backdrop-blur",children:["Modo ativo: ",x.jsx("span",{className:"font-semibold text-zinc-100",children:S0[e]})]})]})}function MC(){const e=er(),{documents:r}=Ni(),{interests:i,areas:s}=bi(),a=R.useRef(null),l=R.useRef(null),[u,d]=R.useState({width:1280,height:760}),[f,h]=R.useState("tree"),[p,m]=R.useState(null),[g,y]=R.useState(null),[N,k]=R.useState(new Set),[w,S]=R.useState({x:0,y:0,k:1}),[C,E]=R.useState(0),_=R.useRef(new Map),M=R.useRef(new Map),O=R.useMemo(()=>wC({interests:i,areas:s,documents:r}),[i,s,r]),F=R.useMemo(()=>kC(O.nodes),[O.nodes]),V=R.useMemo(()=>{const D=Math.max(320,u.width),j=Math.max(320,u.height),Q=f==="tree"?bC(O.nodes,N):O.nodes,$=new Set(Q.map(H=>H.id)),W=O.links.filter(H=>$.has(H.source)&&$.has(H.target));let z;f==="tree"?z=EC(Q,W,{width:D,height:j}):f==="force"?z=_C(Q,W,{width:D,height:j}):z=CC(Q,W,{width:D,height:j});const P=z.nodes.map(H=>{if(f==="force"){const I=M.current.get(H.id);if(I)return{...H,x:I.x,y:I.y}}return H});return{...z,nodes:P}},[f,O,N,u.height,u.width,C]),Z=R.useMemo(()=>{const D=new Map;for(const j of V.nodes)D.set(j.id,j);return D},[V.nodes]),G=R.useMemo(()=>p?O.nodes.find(D=>D.id===p)??null:null,[p,O.nodes]);R.useEffect(()=>{const D=a.current;if(!D)return;const j=new ResizeObserver(()=>{d({width:D.clientWidth,height:D.clientHeight})});return j.observe(D),d({width:D.clientWidth,height:D.clientHeight}),()=>j.disconnect()},[]),R.useEffect(()=>{const D=l.current;if(!D)return;const j=rt(D),Q=j.selectAll("g.zoom-root").data([null]).join("g").attr("class","zoom-root");Q.selectAll("g.links").data([null]).join("g").attr("class","links"),Q.selectAll("g.labels").data([null]).join("g").attr("class","labels"),Q.selectAll("g.nodes").data([null]).join("g").attr("class","nodes"),j.selectAll("defs").data([null]).join("defs").selectAll("filter#idea-node-glow").data([null]).join("filter").attr("id","idea-node-glow").append("feDropShadow").attr("dx",0).attr("dy",0).attr("stdDeviation",3).attr("flood-color","#818cf8").attr("flood-opacity",.6)},[]),R.useEffect(()=>{const D=l.current;if(!D)return;const j=rt(D),Q=j.select("g.zoom-root"),$=Zc().scaleExtent([.25,3.4]).on("zoom",W=>{const z=W.transform;Q.attr("transform",z.toString()),S({x:z.x,y:z.y,k:z.k})});return j.call($),()=>{j.on(".zoom",null)}},[]),R.useEffect(()=>{const D=l.current;if(!D)return;const Q=rt(D).attr("viewBox",`0 0 ${u.width} ${u.height}`).select("g.zoom-root"),$=Q.select("g.links"),W=Q.select("g.nodes"),z=Q.select("g.labels"),P=new Map(V.nodes.map(U=>[U.id,U])),H=V.links.filter(U=>P.has(U.source)&&P.has(U.target)),I=$.selectAll("line.graph-link").data(H,U=>U.id);I.exit().transition().duration(180).style("opacity",0).remove(),I.join(U=>U.append("line").attr("class","graph-link").attr("stroke-linecap","round").style("opacity",0)).attr("stroke",U=>U.kind==="hierarchy"?"rgba(148, 163, 184, 0.56)":"rgba(124, 138, 255, 0.45)").attr("stroke-width",U=>U.kind==="hierarchy"?2:1.5).attr("stroke-dasharray",U=>U.kind==="hierarchy"?null:"6,4").transition().duration(440).ease(wp).style("opacity",1).attr("x1",U=>{var J;return((J=P.get(U.source))==null?void 0:J.x)??0}).attr("y1",U=>{var J;return((J=P.get(U.source))==null?void 0:J.y)??0}).attr("x2",U=>{var J;return((J=P.get(U.target))==null?void 0:J.x)??0}).attr("y2",U=>{var J;return((J=P.get(U.target))==null?void 0:J.y)??0});const ee=W.selectAll("g.graph-node").data(V.nodes,U=>U.id);ee.exit().transition().duration(180).style("opacity",0).remove();const Y=ee.enter().append("g").attr("class","graph-node").style("cursor","pointer").style("opacity",0).attr("transform",U=>{const J=_.current.get(U.id);return J?`translate(${J.x},${J.y})`:`translate(${U.x},${U.y})`});Y.append("circle").attr("class","node-circle").attr("r",U=>wc(U.type)).attr("fill",U=>E0[U.type]).attr("fill-opacity",U=>p&&p!==U.id?.33:.92).attr("stroke",U=>jC[U.type]).attr("stroke-width",U=>p===U.id?3:1.8),Y.append("text").attr("class","node-title").attr("text-anchor","middle").attr("dy",U=>wc(U.type)+16).attr("fill","#e4e4e7").attr("font-size",U=>U.type==="interesse"?12:11).attr("font-weight",U=>U.type==="interesse"?600:500).text(U=>U.title.length>24?`${U.title.slice(0,24)}...`:U.title);const T=Y.merge(ee);T.on("mousemove",(U,J)=>{var le;const ie=(le=a.current)==null?void 0:le.getBoundingClientRect();ie&&y({x:U.clientX-ie.left+12,y:U.clientY-ie.top+12,node:J})}).on("mouseleave",()=>y(null)).on("click",(U,J)=>m(J.id));const K=Uc().on("start",function(){rt(this).raise()}).on("drag",function(J,ie){const le=Math.max(16,Math.min(u.width-16,J.x)),he=Math.max(16,Math.min(u.height-16,J.y));M.current.set(ie.id,{x:le,y:he}),ie.x=le,ie.y=he,P.set(ie.id,ie),rt(this).attr("transform",`translate(${le},${he})`),$.selectAll("line.graph-link").attr("x1",pe=>{var ye,ke;return((ye=P.get(pe.source))==null?void 0:ye.id)===ie.id?le:((ke=P.get(pe.source))==null?void 0:ke.x)??0}).attr("y1",pe=>{var ye,ke;return((ye=P.get(pe.source))==null?void 0:ye.id)===ie.id?he:((ke=P.get(pe.source))==null?void 0:ke.y)??0}).attr("x2",pe=>{var ye,ke;return((ye=P.get(pe.target))==null?void 0:ye.id)===ie.id?le:((ke=P.get(pe.target))==null?void 0:ke.x)??0}).attr("y2",pe=>{var ye,ke;return((ye=P.get(pe.target))==null?void 0:ye.id)===ie.id?he:((ke=P.get(pe.target))==null?void 0:ke.y)??0})}).on("end",()=>E(U=>U+1));T.call(K),T.transition().duration(450).ease(wp).style("opacity",1).attr("transform",U=>`translate(${U.x},${U.y})`),T.select("circle.node-circle").attr("fill-opacity",U=>p&&p!==U.id?.33:.94).attr("stroke-width",U=>p===U.id?3:1.8).attr("filter",U=>p===U.id?"url(#idea-node-glow)":null);const q=z.selectAll("text.cluster-label").data(V.labels??[],U=>U.id);q.exit().remove(),q.join(U=>U.append("text").attr("class","cluster-label").attr("text-anchor","middle").attr("fill","rgba(244, 244, 245, 0.82)").attr("font-size",14).attr("font-weight",600)).attr("x",U=>U.x).attr("y",U=>U.y).text(U=>U.title),_.current=new Map(V.nodes.map(U=>[U.id,{x:U.x,y:U.y}]))},[V,f,p,u.height,u.width]);const X=R.useMemo(()=>{const D=V.nodes;if(D.length===0)return"0 0 10 10";const j=Math.min(...D.map(H=>H.x)),Q=Math.max(...D.map(H=>H.x)),$=Math.min(...D.map(H=>H.y)),W=Math.max(...D.map(H=>H.y)),z=Math.max(10,Q-j+60),P=Math.max(10,W-$+60);return`${j-30} ${$-30} ${z} ${P}`},[V.nodes]),B=R.useCallback(()=>{!G||G.type!=="area"||k(D=>{const j=new Set(D);return j.has(G.id)?j.delete(G.id):j.add(G.id),j})},[G]);return x.jsxs("div",{ref:a,className:"relative h-full w-full bg-surface-950 overflow-hidden",children:[x.jsx(zC,{mode:f,onChangeMode:h}),x.jsx("svg",{ref:l,className:"h-full w-full",role:"img","aria-label":"Segundo Crebro"}),g&&x.jsxs("div",{className:"pointer-events-none absolute z-30 rounded-lg border border-zinc-700 bg-zinc-900/95 px-3 py-2 shadow-xl",style:{left:g.x,top:g.y},children:[x.jsx("p",{className:"text-xs text-zinc-400",children:k0(g.node.type)}),x.jsx("p",{className:"text-sm font-semibold text-zinc-100",children:g.node.title})]}),x.jsxs("aside",{className:"absolute right-0 top-0 z-20 h-full w-80 border-l border-zinc-800 bg-surface-900/95 backdrop-blur transition-transform",children:[x.jsx("div",{className:"border-b border-zinc-800 px-5 py-4",children:x.jsx("h2",{className:"text-sm font-semibold uppercase tracking-wide text-zinc-400",children:"Painel de Detalhes"})}),x.jsxs("div",{className:"space-y-4 px-5 py-4 text-sm",children:[!G&&x.jsx("p",{className:"text-zinc-500",children:"Selecione um no para visualizar os dados."}),G&&x.jsxs(x.Fragment,{children:[x.jsxs("div",{children:[x.jsx("p",{className:"text-xs uppercase tracking-wide text-zinc-500",children:"Titulo"}),x.jsx("p",{className:"text-zinc-100 font-medium mt-1",children:G.title})]}),x.jsxs("div",{children:[x.jsx("p",{className:"text-xs uppercase tracking-wide text-zinc-500",children:"Tipo"}),x.jsx("p",{className:"text-zinc-200 mt-1",children:k0(G.type)})]}),G.description&&x.jsxs("div",{children:[x.jsx("p",{className:"text-xs uppercase tracking-wide text-zinc-500",children:"Descricao"}),x.jsx("p",{className:"text-zinc-300 mt-1 leading-relaxed",children:G.description})]}),x.jsxs("div",{children:[x.jsx("p",{className:"text-xs uppercase tracking-wide text-zinc-500",children:"Metadata"}),x.jsx("pre",{className:"mt-1 max-h-40 overflow-auto rounded-lg border border-zinc-800 bg-surface-950 p-2 text-xs text-zinc-300",children:JSON.stringify(G.metadata??{},null,2)})]}),G.type==="area"&&x.jsx("button",{type:"button",onClick:B,disabled:f!=="tree",className:`rounded-lg px-3 py-2 text-xs font-medium transition-colors ${f==="tree"?"bg-zinc-800 text-zinc-100 hover:bg-zinc-700":"bg-zinc-900 text-zinc-500 cursor-not-allowed"}`,children:N.has(G.id)?"Expandir area":"Colapsar area"}),G.type==="ideia"&&x.jsx("button",{type:"button",onClick:()=>e(`/ideia/${G.sourceId}`),className:"rounded-lg bg-accent/20 border border-accent/40 px-3 py-2 text-xs font-medium text-accent hover:bg-accent/30 transition-colors",children:"Abrir ideia no editor"})]})]})]}),x.jsxs("div",{className:"absolute bottom-5 right-[21rem] z-20 w-56 rounded-xl border border-zinc-700 bg-zinc-900/80 p-2 backdrop-blur",children:[x.jsx("p",{className:"px-1 pb-2 text-[11px] font-medium uppercase tracking-wide text-zinc-400",children:"MiniMap"}),x.jsxs("svg",{className:"h-36 w-full rounded-md border border-zinc-800 bg-surface-950",viewBox:X,children:[V.links.map(D=>{const j=Z.get(D.source),Q=Z.get(D.target);return!j||!Q?null:x.jsx("line",{x1:j.x,y1:j.y,x2:Q.x,y2:Q.y,stroke:D.kind==="hierarchy"?"rgba(148,163,184,0.55)":"rgba(124,138,255,0.45)",strokeWidth:D.kind==="hierarchy"?2:1,strokeDasharray:D.kind==="hierarchy"?void 0:"4,3"},D.id)}),V.nodes.map(D=>x.jsx("circle",{cx:D.x,cy:D.y,r:Math.max(3,wc(D.type)*.35),fill:E0[D.type]},D.id))]})]}),x.jsxs("div",{className:"absolute bottom-5 left-5 z-20 rounded-xl border border-zinc-700 bg-zinc-900/75 px-3 py-2 text-xs text-zinc-300 backdrop-blur",children:[x.jsxs("p",{children:["Nos: ",V.nodes.length]}),x.jsxs("p",{children:["Links: ",V.links.length]}),x.jsxs("p",{children:["Zoom: ",w.k.toFixed(2),"x"]}),G&&G.type==="area"&&x.jsxs("p",{children:["Ideias nesta area: ",F.get(G.id)??0]})]})]})}function IC(){return x.jsx("div",{className:"min-h-screen bg-surface-950",children:x.jsx(fy,{children:x.jsxs(Ht,{path:"/",element:x.jsx(ky,{}),children:[x.jsx(Ht,{index:!0,element:x.jsx(ES,{})}),x.jsx(Ht,{path:"organizacao",element:x.jsx(_S,{})}),x.jsx(Ht,{path:"ideias",element:x.jsx(MS,{})}),x.jsx(Ht,{path:"visualizacao-ideias",element:x.jsx(MC,{})}),x.jsx(Ht,{path:"tarefas-diarias",element:x.jsx(c_,{})}),x.jsx(Ht,{path:"planejamento-profissional",element:x.jsx(i_,{})}),x.jsx(Ht,{path:"ideia/:id",element:x.jsx(VS,{})}),x.jsx(Ht,{path:"doc/:id",element:x.jsx(Oy,{})}),x.jsx(Ht,{path:"doc/new",element:x.jsx(uy,{to:"/ideia/new",replace:!0})})]})})})}gv.createRoot(document.getElementById("root")).render(x.jsx(R.StrictMode,{children:x.jsx(yy,{children:x.jsx(IC,{})})}));
